
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GRPCK</TITLE>
</HEAD><BODY>
<H1>GRPCK</H1>
Section: Maintenance Commands (8)<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

grpck - グループファイルが正しいかどうか検査する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>grpck</B> [<B>-r</B>] [<I>group</I> <I>shadow</I>]
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>grpck</B> コマンドはシステムの認証情報が正しいかどうか検査する。
<I>/etc/group</I> と <I>/etc/gshadow</I>
各ファイルの全てのエントリに対し、
各フィールドの書式が正しいか、
そのデータが有効なものかどうかを検証する。
書式が正しくないエントリや、
修正不能な誤りを含むエントリは削除するようプロンプトを出す。
<P>

各々のエントリに対して
<P>

- フィールドの数が正しいか
<BR>

- グループ名に重複がないか
<BR>

- メンバーのリストと管理者のリストが正しいか

<P>
がチェックされる。
<P>

フィールドの数が間違っていたり、
グループ名が重複しているのは致命的なエラーである。
フィールドの数が正しくない場合、
ユーザーはそのエントリ行を削除するよう促される。
削除に同意しなかった場合は、それ以降のチェックは行われない。
重複したグループ名があった場合も削除を促されるが、
この場合は削除しなくてもそれ以降のチェックは続行される。
他の全てのエラーに対しては警告がなされる。
<B>groupmod</B> コマンドを実行してそのエラーを修正すると良いだろう。
<P>

<I>/etc/group</I> ファイルを操作するコマンドは、
壊れたエントリや重複したエントリを変更できない。
そのような際に誤りのあるエントリを削除するには
<B>grpck</B> を用いるとよい。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

デフォルトでは <B>grpck</B> は <I>/etc/group</I> ファイルと
<I>/etc/gshadow</I> に対して動作する。
<I>group</I> パラメータと <I>shadow</I> パラメータを用いて、
別のファイルを選択することもできる。
さらに <B>-r</B> フラグを指定すれば、
リードオンリーモードでコマンドを実行することもできる。
この場合、変更を行うかどうかはユーザへ問い合わされず、
自動的に <B>no</B> と回答される。
<B>grpck</B>

は
<I>/etc/group</I> と <I>/etc/gshadow</I>
のエントリを GID でソートすることもできる。
ソートモードで動作させるには <B>-s</B> フラグを与える。
この場合チェックは行われず、単にソートするだけである。
<A NAME="lbAF">&nbsp;</A>
<H2>ファイル</H2>

<I>/etc/group</I> &nbsp; - グループアカウント情報
<BR>

<I>/etc/gshadow</I> - 暗号化されたパスワードとグループ管理者情報
<BR>

<I>/etc/passwd</I> &nbsp;- ユーザー情報
<A NAME="lbAG">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="/cgi-bin/man/man2html?5+group">group</A></B>(5),

<B><A HREF="/cgi-bin/man/man2html?5+passwd">passwd</A></B>(5),

<B><A HREF="/cgi-bin/man/man2html?5+shadow">shadow</A></B>(5),

<B><A HREF="/cgi-bin/man/man2html?8+groupmod">groupmod</A></B>(8)

<A NAME="lbAH">&nbsp;</A>
<H2>返り値</H2>

<B>grpck</B> コマンドは終了時に以下の値を返す:
<DL COMPACT>
<DT id="1">0<DD>
成功
<DT id="2">1<DD>
構文エラー
<DT id="3">2<DD>
誤ったグループエントリが存在する
<DT id="4">3<DD>
グループファイルをオープンできない
<DT id="5">4<DD>
グループファイルをロックできない
<DT id="6">5<DD>
グループファイルを更新できない
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>著者</H2>

Julianne Frances Haugh (<A HREF="mailto:jockgrrl@ix.netcom.com">jockgrrl@ix.netcom.com</A>)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="7"><A HREF="#lbAB">名前</A><DD>
<DT id="8"><A HREF="#lbAC">書式</A><DD>
<DT id="9"><A HREF="#lbAD">説明</A><DD>
<DT id="10"><A HREF="#lbAE">オプション</A><DD>
<DT id="11"><A HREF="#lbAF">ファイル</A><DD>
<DT id="12"><A HREF="#lbAG">関連項目</A><DD>
<DT id="13"><A HREF="#lbAH">返り値</A><DD>
<DT id="14"><A HREF="#lbAI">著者</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:06 GMT, March 31, 2021
</BODY>
</HTML>
