
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of XXD</TITLE>
</HEAD><BODY>
<H1>XXD</H1>
Section: User Commands  (1)<BR>Updated: August 1996<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

<I>xxd</I>

- 16 進ダンプを作成したり、元に戻したり。
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>xxd</B>

-h[elp]
<BR>

<B>xxd</B>

[options] [infile [outfile]]
<BR>

<B>xxd</B>

-r[evert] [options] [infile [outfile]]
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

ファイルや標準入力から 16 進ダンプを作成します。
16 進ダンプから元のバイナリに戻すこともできます。
<B><A HREF="/cgi-bin/man/man2html?1+uuencode">uuencode</A></B>(1)

や
<B><A HREF="/cgi-bin/man/man2html?1+uudecode">uudecode</A></B>(1)

のように、バイナリデータを、メールに貼り付け可能な ASCII 形式に変換できたり、標準出力に出力することもできます。
さらに、バイナリファイルにパッチを当てるという使い方もできます。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<I>infile</I>

を指定しなかった場合は、標準入力が読み込まれます。
<I>infile</I>

に
`<B>-</B>'

を指定した場合も、標準入力から読み込まれます。
<I>outfile</I>

を指定しなかった (または
`<B>-</B>'

を指定した) 場合は、標準出力に出力されます。
<P>

引数の解釈処理は適当なので注意してください。
パラメータを取らない引数は最初の一文字だけチェックされます。
引数の文字とパラメータの間のスペースは省略可能です。
パラメータは 10 進数、16 進数、8 進数で指定できます。
<B>-c8</B>

、
<B>-c 8</B>

、
<B>-c 010</B>

、
<B>-cols 8</B>

はすべて同じ意味です。
<P>

<DL COMPACT>
<DT id="1"><I>-a</I> | <I>-autoskip</I>

<DD>
オートスキップ: 連続した nul 行を一つの '*' で置き換える。
<DT id="2"><I>-b</I> | <I>-bits</I>

<DD>
ビット (2進数) ダンプ。
1 オクテットが &quot;1&quot; と &quot;0&quot; の 8 文字で出力されます。
各行の行頭には 16 進数の行番号が表示されます。
行末には ascii (または ebcdic) で表した場合の文字が表示されます。
このモードでは -r、-p、-i は機能しません。
<DT id="3"><I>-e</I>

<DD>
リトルエンディアンの 16 進ダンプに切り替える。
このオプションは、バイトのグループをリトルエンディアンのバイト順のワードとして扱います。
標準のグルーピングは 4 バイトですが、
<I>-g</I>

を使うことで変更可能です。
このオプションは 16 進ダンプのみに適用され、ASCII (あるいは EBCDIC)
表示は変更されません。
このモードでは -r、-p、-i は機能しません。
<DT id="4"><I>-c cols </I>|<I> -cols cols</I>

<DD>
一行
&lt;<I>cols</I>&gt;

オクテットで出力する。標準設定は 16 (-i: 12, -ps: 30, -b: 6)。最大 256。
<DT id="5"><I>-C</I> | <I>-capitalize</I>

<DD>
-i を使用した際に、C インクルードファイル形式の変数名を大文字にする。
<DT id="6"><I>-E</I> | <I>-EBCDIC</I>

<DD>
右端に出力される文字のエンコーディングを ASCII から EBCDIC に変更する。
16 進ダンプの出力形式は変更されません。
-r、-p、-i が同時に指定された場合は何の効果もありません。
<DT id="7"><I>-g bytes </I>|<I> -groupsize bytes</I>

<DD>
出力を
&lt;<I>bytes</I>&gt;

バイト (2 文字の 16 進数、または 8 文字の 2 進数) ごとにスペースで区切ります。
区切らずに出力するには
<I>-g 0</I>

を指定してください。
&lt;<I>Bytes</I>&gt;

の標準設定は <I>2</I> で、リトルエンディアンモードの場合は <I>4</I> 、
2 進ダンプの場合は <I>1</I> です。
ポストスクリプト形式やインクルード形式で出力するときは、このオプションは使われません。
<DT id="8"><I>-h</I> | <I>-help</I>

<DD>
コマンドの説明を出力して終了する。変換は実行されません。
<DT id="9"><I>-i</I> | <I>-include</I>

<DD>
C インクルードファイル形式で出力します。
入力ファイルの名前が付けられた静的配列の定義が出力されます。
標準入力の場合は定義の中身だけ出力されます。
<DT id="10"><I>-l len </I>|<I> -len len</I>

<DD>
&lt;<I>len</I>&gt;

オクテットだけ出力する。
<DT id="11"><I>-o offset</I>

<DD>
表示されるファイル位置に
&lt;<I>offset</I>&gt;

を加算する。
<DT id="12"><I>-p</I> | <I>-ps</I> | <I>-postscript</I> | <I>-plain</I>

<DD>
ポストスクリプト形式の 16 進ダンプを出力する。別名 プレーン 16 進ダンプ。
<DT id="13"><I>-r</I> | <I>-revert</I>

<DD>
元に戻す: 16 進ダンプからバイナリ形式に変換 (またはパッチ) します。
ファイルへ出力する場合、出力先のファイルは切り詰めされません。
行番号や特定の書式がないプレーン 16 進ダンプを読み込む場合は、
<I>-r -p</I>

を指定してください。空白と改行は無視されます。
<DT id="14"><I>-seek offset</I>

<DD>
<I>-r</I>

の後で使われた場合: 16 進ダンプを出力するファイルの位置に
&lt;<I>offset</I>&gt;

を加える。
<DT id="15"><I>-s [+][-]seek</I>

<DD>
infile の
&lt;<I>seek</I>&gt;

バイト目 (絶対位置、または相対位置) から開始する。
<I>+ </I>は、現在の標準入力の位置から相対的な位置を示します
(標準入力から読み込むときのみ意味があります)。
<I>- </I>は、入力の終わりからの文字数を示します
(<I>+</I> と同時に指定した場合は、現在の標準入力の位置から手前の位置を示します)。
-s 引数を指定しなかった場合は、現在のファイル位置から開始されます。
<DT id="16"><I>-u</I>

<DD>
16 進数の表記に大文字を使います。指定がない場合は小文字で出力されます。
<DT id="17"><I>-v</I> | <I>-version</I>

<DD>
バージョンを表示します。
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>警告</H2>

<P>

<I>xxd -r</I>

では行番号の評価に関しての暗黙のルールがいくつかあります。
出力ファイルがシーク可能なら、各行の行番号が順番通りに並んでなくても構いません。
位置が飛んでいても重なっていても大丈夫です。
その場合、次の位置に移動するために <A HREF="/cgi-bin/man/man2html?2+lseek">lseek</A>(2) が使われます。
出力ファイルがシーク不可なら、「隙間」だけが処理可能です。
隙間は null バイトで埋められます。
<P>

<I>xxd -r</I>

は不正な入力をエラーにしません。ゴミは静かに読み飛ばされます。
<P>

16 進ダンプを編集するときは注意が必要です。
<I>xxd -r</I>

は必要な桁 (-c 引数参照) だけ 16 進データを読み込んで、行の残りを無視します。
つまり、ascii (または ebcdic) を示している列への変更は無視されます。
xxd -r -p でプレーン形式 (ポストスクリプト形式) の 16 進ダンプを元に戻す場合は、列の数は影響しません。
2 桁の 16 進数と認識できるものはすべて変換されます。
<P>

<I>% xxd -i file</I>
<BR>

と
<BR>

<I>% xxd -i &lt; file</I>
<BR>

の結果は違います。注意してください。
<P>

<I>xxd -s +seek</I>

と
<I>xxd -s seek</I>,

の違いは、<A HREF="/cgi-bin/man/man2html?2+lseek">lseek</A>(2) を使って入力を &quot;巻き戻す&quot; かどうかです。'+' が意味を持つのは、入力が標準入力で、xxd
が起動されたときに標準入力のファイル位置がファイルの先頭ではなかった場合です。
以下の例が分かりやすいかもしれません (もっと混乱するかも!)...
<P>

`cat' が既に標準入力を終わりまで読んでいるので、読む前に標準入力を巻き戻す必要がある。
<BR>

<I>% sh -c &quot;cat &gt; plain_copy; xxd -s 0 &gt; hex_copy&quot; &lt; file</I>
<P>

ファイル位置 0x480 (=1024+128) 前方から 16 進ダンプする。
`+' は 「現在地からの相対位置」を意味するので、dd が 1k 処理した後から、さらに `128' 進めます。
<BR>

<I>% sh -c &quot;dd of=plain_snippet bs=1k count=1; xxd -s +128 &gt; hex_snippet&quot; &lt; file</I>
<P>

ファイル位置 0x100 ( = 1024-768) から 16 進ダンプする。
<BR>

<I>% sh -c &quot;dd of=plain_snippet bs=1k count=1; xxd -s +-768 &gt; hex_snippet&quot; &lt; file</I>
<P>

このような使い方はあまりしませんし、`+' を使うこともほとんどないでしょう。
-s を使うときはいつでも、<A HREF="/cgi-bin/man/man2html?1+strace">strace</A>(1) や <A HREF="/cgi-bin/man/man2html?1+truss">truss</A>(1) を使って、xxd の働きをチェックすることをお勧めします。
<A NAME="lbAG">&nbsp;</A>
<H2>例</H2>

<P>

<BR>

<B>ファイル</B>

の最初の三行 (16 進数で 0x30 バイト) 以降を出力する。
<BR>

<I>% xxd -s 0x30 file</I>
<P>

<BR>

<B>ファイル</B>

の最後から三行 (16 進数で 0x30 バイト) を出力する。
<BR>

<I>% xxd -s -0x30 file</I>
<P>

<BR>

120 バイトを、平文 16 進ダンプ形式で一行に 20 オクテットずつ出力する。
<BR>

<I>% xxd -l 120 -ps -c 20 xxd.1</I>
<BR>

2e54482058584420312022417567757374203139
<BR>

39362220224d616e75616c207061676520666f72
<BR>

20787864220a2e5c220a2e5c222032317374204d
<BR>

617920313939360a2e5c22204d616e2070616765
<BR>

20617574686f723a0a2e5c2220202020546f6e79
<BR>

204e7567656e74203c746f6e79407363746e7567
<BR>

<P>
<BR>

この man ページの先頭から 120 バイトを一行に 12 オクテットずつ 16 進ダンプする。
<BR>

<I>% xxd -l 120 -c 12 xxd.1</I>
<BR>

0000000: 2e54 4820 5858 4420 3120 2241  .TH XXD 1 &quot;A
<BR>

000000c: 7567 7573 7420 3139 3936 2220  ugust 1996&quot; 
<BR>

0000018: 224d 616e 7561 6c20 7061 6765  &quot;Manual page
<BR>

0000024: 2066 6f72 2078 7864 220a 2e5c   for xxd&quot;..\
<BR>

0000030: 220a 2e5c 2220 3231 7374 204d  &quot;..\&quot; 21st M
<BR>

000003c: 6179 2031 3939 360a 2e5c 2220  ay 1996..\&quot; 
<BR>

0000048: 4d61 6e20 7061 6765 2061 7574  Man page aut
<BR>

0000054: 686f 723a 0a2e 5c22 2020 2020  hor:..\&quot;    
<BR>

0000060: 546f 6e79 204e 7567 656e 7420  Tony Nugent 
<BR>

000006c: 3c74 6f6e 7940 7363 746e 7567  &lt;<A HREF="mailto:tony@sctnug">tony@sctnug</A>
<P>

<BR>

xxd.1 の日付部分だけを出力する。
<BR>

<I>% xxd -s 0x36 -l 13 -c 13 xxd.1</I>
<BR>

0000036: 3231 7374 204d 6179 2031 3939 36  21st May 1996
<P>

<BR>

<B>input_file</B>

を
<B>output_file</B>

にコピーし、先頭に 0x00 を 100 バイト分付け加える。
<BR>

<I>% xxd input_file | xxd -r -s 100 &gt; output_file</I>
<BR>

<P>
<BR>

xxd.1 の日付を修正する。
<BR>

<I>% echo &quot;0000037: 3574 68&quot; | xxd -r - xxd.1</I>
<BR>

<I>% xxd -s 0x36 -l 13 -c 13 xxd.1</I>
<BR>

0000036: 3235 7468 204d 6179 2031 3939 36  25th May 1996
<P>

<BR>

中身がすべて 0x00 の 65537 バイトのファイルを作成する。
ただし、最後のバイトだけは 'A' (hex 0x41)。
<BR>

<I>% echo &quot;010000: 41&quot; | xxd -r &gt; file</I>
<P>

<BR>

作成したファイルをオートスキップを使って 16 進ダンプする。
<BR>

<I>% xxd -a -c 12 file</I>
<BR>

0000000: 0000 0000 0000 0000 0000 0000  ............
<BR>

*
<BR>

000fffc: 0000 0000 40                   ....A
<P>

一文字の 'A' からなる 1 バイトのファイルを作成する。
<BR>&nbsp;'-r&nbsp;-s'&nbsp;の後に指定した数値がファイル中の行番号に加算され、結果、余計なバイトが飛ばされる。
<BR>

<I>% echo &quot;010000: 41&quot; | xxd -r -s -0x10000 &gt; file</I>
<P>

<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1)</B>

の中から xxd をフィルタとして実行し、
マークされた `a' から `z' までの領域を 16 進ダンプする。
<BR>

<I>:'a,'z!xxd</I>
<P>

<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1)</B>

の中から xxd をフィルタとして実行し、
マークされた `a' から `z' までの領域をバイナリに戻す。
<BR>

<I>:'a,'z!xxd -r</I>
<P>

<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1)</B>

の中から xxd をフィルタとして実行し、16 進ダンプされた行を元に戻す。
戻したい行にカーソルを移動して:
<BR>

<I>!!xxd -r</I>
<P>

シリアル行から一文字読み込む
<BR>

<I>% xxd -c1 &lt; /dev/term/b &amp;</I>
<BR>

<I>% stty &lt; /dev/term/b -echo -opost -isig -icanon min 1</I>
<BR>

<I>% echo -n foo &gt; /dev/term/b</I>
<P>

<A NAME="lbAH">&nbsp;</A>
<H2>返り値</H2>

以下のエラー値が返ります:
<DL COMPACT>
<DT id="18">0<DD>
エラーなし。
<DT id="19">-1<DD>
操作がサポートされていない (
<I>xxd -r -i</I>

はまだ不可です)。
<DT id="20">1<DD>
引数の解釈に関するエラー。
<DT id="21">2<DD>
入力ファイルに関する問題。
<DT id="22">3<DD>
出力ファイルに関する問題。
<DT id="23">4,5<DD>
指定された位置へシークできなかった。
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="/cgi-bin/man/man2html?1+uuencode">uuencode</A>(1), <A HREF="/cgi-bin/man/man2html?1+uudecode">uudecode</A>(1), <A HREF="/cgi-bin/man/man2html?1+patch">patch</A>(1)
<BR>

<A NAME="lbAJ">&nbsp;</A>
<H2>警告</H2>

この奇妙なツールは作者が使いやすいように作られています。
自己責任で使ってください。ファイルをコピーし、それを調べ、ウィザードたれ。
<BR>

<A NAME="lbAK">&nbsp;</A>
<H2>バージョン</H2>

このマニュアルは xxd バージョン 1.7 について説明しています。
<A NAME="lbAL">&nbsp;</A>
<H2>著者</H2>

<BR>

(c) 1990-1997 by Juergen Weigert
<BR>

&lt;<A HREF="mailto:jnweiger@informatik.uni-erlangen.de">jnweiger@informatik.uni-erlangen.de</A>&gt;
<P>

私の功績として自由に配布してください。
<BR>

儲かったら教えてください。
<BR>

損しても知りません。
<P>

マニュアルは Tony Nugent
<BR>

&lt;<A HREF="mailto:tony@sctnugen.ppp.gu.edu.au">tony@sctnugen.ppp.gu.edu.au</A>&gt; &lt;<A HREF="mailto:T.Nugent@sct.gu.edu.au">T.Nugent@sct.gu.edu.au</A>&gt;
<BR>

によって書かれ、
Bram Moolenaar が少し変更を加え、
Juergen Weigert が編集しました。
<P>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="24"><A HREF="#lbAB">名前</A><DD>
<DT id="25"><A HREF="#lbAC">書式</A><DD>
<DT id="26"><A HREF="#lbAD">説明</A><DD>
<DT id="27"><A HREF="#lbAE">オプション</A><DD>
<DT id="28"><A HREF="#lbAF">警告</A><DD>
<DT id="29"><A HREF="#lbAG">例</A><DD>
<DT id="30"><A HREF="#lbAH">返り値</A><DD>
<DT id="31"><A HREF="#lbAI">関連項目</A><DD>
<DT id="32"><A HREF="#lbAJ">警告</A><DD>
<DT id="33"><A HREF="#lbAK">バージョン</A><DD>
<DT id="34"><A HREF="#lbAL">著者</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:05 GMT, March 31, 2021
</BODY>
</HTML>
