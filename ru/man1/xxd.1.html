
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of XXD</TITLE>
</HEAD><BODY>
<H1>XXD</H1>
Section: User Commands  (1)<BR>Updated: August 1996<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>ИМЯ</H2>

<I>xxd</I>

- создаёт представление файла в виде шестнадцатеричных кодов или выполняет
обратное преобразование.
<A NAME="lbAC">&nbsp;</A>
<H2>КОМАНДНАЯ СТРОКА</H2>

<B>xxd</B>

-h[elp]
<BR>

<B>xxd</B>

[ключи] [входной_файл [выходной_файл]]
<BR>

<B>xxd</B>

-r[evert] [ключи] [входной_файл [выходной_файл]]
<A NAME="lbAD">&nbsp;</A>
<H2>ОПИСАНИЕ</H2>

<I>xxd</I>

создаёт представление указанного файла или данных, прочитанных из потока
стандартного ввода, в виде шестнадцатеричных кодов. Эта команда также может
выполнить обратное преобразование заданных шестнадцатеричными кодами данных
в исходный бинарный формат.
Подобно командам
<B><A HREF="/cgi-bin/man/man2html?1+uuencode">uuencode</A>(1)</B>

и
<B><A HREF="/cgi-bin/man/man2html?1+uudecode">uudecode</A>(1),</B>

она позволяет выполнять преобразование бинарных данных в ASCII-код, 
который можно передавать по электронной почте, однако, помимо этого, программа
xxd позволяет выполнять декодирование в поток стандартного вывода,
а также может применяться для создания заплаток для бинарных файлов.
<A NAME="lbAE">&nbsp;</A>
<H2>КЛЮЧИ ЗАПУСКА</H2>

Если
<I>входной_файл</I>

не задан, то соответствующие данные читаются из потока стандартного ввода.
В случае, если в качестве
<I>входного_файла</I>

используется символ
`<B>-</B>',

источником данных также выступает поток стандартного ввода.
В том случае, если не указан
<I>выходной_файл</I>

(или вместо него используется символ
`<B>-</B>'

), результат преобразования направляется в поток стандартного вывода.
<P>

Обратите внимание, что используется &quot;ленивый&quot; алгоритм разбора ключей, который не
проверяет более одной буквы ключа, если в этом ключе не используется параметр.
Пробелы между единственным символом ключа и соответствующим параметром не являются
обязательными. Параметры ключей могут быть заданы с использованием десятичного,
шестнадцатеричного или восьмеричного формата.
Таким образом, ключи
<B>-c8</B>,

<B>-c 8</B>,

<B>-c 010</B>

и
<B>-cols 8</B>

являются равнозначными.
<P>

<DL COMPACT>
<DT id="1"><I>-a</I> | <I>-autoskip</I>

<DD>
Включает автоматический пропуск: вместо последовательности
нулевых строк используется одиночный символ '*'. По умолчанию
не применяется.
<DT id="2"><I>-b</I> | <I>-bits</I>

<DD>
Вместо шестнадцатеричного кода используются биты (двоичные цифры).
При использовании этого ключа вместо обычного шестнадцатеричного представления
октетов используются наборы из восьми символов &quot;1&quot; и &quot;0&quot;. Каждая строка
предваряется номером строки в шестнадцатеричном виде, а завершается символьным 
представлением (в виде ascii или ebcdic). Ключи -r, -p, -i в этом режиме
не работают.
<DT id="3"><I>-c кол </I>|<I> -cols кол</I>

<DD>
Задаёт количество октетов
&lt;<I>кол</I>&gt;,

которое выводится на каждой строке. По умолчанию используется значение 16 
(-i: 12, -ps: 30, -b: 6). 
Максимально допустимое значение: 256.
<DT id="4"><I>-E</I> | <I>-EBCDIC</I>

<DD>
Изменяет способ кодирования символов в правой колонке с ASCII на EBCDIC. Этот ключ
не изменяет шестнадцатеричное представление. Данный ключ не имеет смысла,
если используются ключи -r, -p или -i.
<DT id="5"><I>-g байт </I>|<I> -groupsize байт</I>

<DD>
Позволяет выполнять группировку указанного количества
&lt;<I>байтов</I>&gt;

(две шестнадцатеричные цифры или восемь битов), отделяя группы друг от друга пробелами.
Значение
<I>-g 0 </I>

применяется для отказа от использования группировки.
По умолчанию используется значение
&lt;<I>байт</I>&gt; равное <I>2</I>

в обычном режиме и <I>1</I> в битовом режиме. Группировка не применяется
в режимах postscript и include.
<DT id="6"><I>-h</I> | <I>-help</I>

<DD>
Выводит справку по доступным ключам командной строки и завершает работу программы.
Создание шестнадцатеричного представления не выполняется.
<DT id="7"><I>-i</I> | <I>-include</I>

<DD>
Позволяет создавать вывод в стиле подключаемых заголовочных файлов языка C.
Вывод содержит полноценное определение статического массива данных, имя которого
соответствует имени входного файла, если xxd не считывает данные из потока стандартного
ввода.
<DT id="8"><I>-l длина </I>|<I> -len длина</I>

<DD>
Завершает работу после записи заданного в параметре
&lt;<I>длина</I>&gt;

количества октетов.
<DT id="9"><I>-p</I> | <I>-ps</I> | <I>-postscript</I> | <I>-plain</I>

<DD>
Использует непрерывный формат вывода шестнадцатеричного кода, 
известный как &quot;простой&quot; стиль или стиль &quot;postscript&quot;.
<DT id="10"><I>-r</I> | <I>-revert</I>

<DD>
Изменяет смысл операции на противоположный: позволяет выполнять преобразование 
шестнадцатеричного представления в бинарный код (или применять результат в качестве заплаты).
Если вывод происходит не в поток стандартного вывода, то xxd выполняет добавление кода 
к соответствующему файлу. При использовании комбинации ключей
<I>-r -p</I>

происходит чтение &quot;простого&quot; шестнадцатеричного представления без использования
информации о номерах строк и какого-либо специального раскроя колонок. Пробелы 
и символы новой строки могут встречаться в любом месте исходных данных.
<DT id="11"><I>-seek смещение</I>

<DD>
При использовании после ключа
<I>-r</I>

: добавлять указанное
&lt;<I>смещение</I>&gt;

к файловым позициям, обнаруженным в исходных данных.
<DT id="12"><I>-s [+][-]seek</I>

<DD>
Начинает работу с указанного абсолютного (или относительного)
&lt;<I>смещения</I>&gt;

в байтах во входном_файле.
<I>+ </I>указывает, что смещение является относительным по отношению
к текущей файловой позиции в потоке стандартного ввода (бессмысленно, если чтение
происходит не из потока стандартного ввода). <I>- </I>указывает, что должно быть прочитано
указанное количество символов от конца ввода (либо, если сочетается с <I> + </I>: 
перед текущей позиции файла в потоке стандартного ввода).
Если ключ -s не используется, то xxd начинает работу от текущей позиции в файле.
<DT id="13"><I>-u</I>

<DD>
Использует шестнадцатеричные цифры в верхнем регистре. По умолчанию используются цифры в
нижнем регистре символов.
<DT id="14"><I>-v</I> | <I>-version</I>

<DD>
Отображает информацию о версии программы.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ПОДВОДНЫЕ КАМНИ</H2>

<P>

<I>xxd -r</I>

обладает встроенным интеллектом для распознавания информации о номерах строк.
Если возможен поиск по входному файлу, то номера строк в начале каждой строки
шестнадцатеричного представления могут быть неупорядоченными, некоторые строки могут
быть пропущены или пересекаться друг с другом. В этих случаях xxd использует
<A HREF="/cgi-bin/man/man2html?2+lseek">lseek</A>(2) для перехода к следующей позиции. Если поиск по входному файлу 
невозможен, то допустимы только пропуски строк, которые заполняются нулевыми 
байтами.
<P>

<I>xxd -r</I>

никогда не выводит сообщений об ошибках. Мусор пропускается молча.
<P>

При редактировании шестнадцатеричных представлений бинарных файлов обращайте 
внимание, что 
<I>xxd -r</I>

пропускает в строке ввода любые данные после прочтения достаточного количества 
колонок шестнадцатеричных данных (см. ключ -c). Это означает, что изменения,
внесенные в колонки с печатными символами ascii (или ebcdic), всегда игнорируются.
При обратном преобразовании шестнадцатеричного представления в стиле
postscript с помощью команды xxd -r -p количество колонок не учитывается. 
В этом случае распознаются все символы, которые похожи на пары шестнадцатеричных цифр.
<P>

Обратите внимание на различие между командами
<P>

<I>% xxd -i файл</I>
<P>

и
<P>

<I>% xxd -i &lt; файл</I>
<P>

Команда
<I>xxd -s +seek</I>

может отличаться от
<I>xxd -s seek,</I>

поскольку для того, чтобы &quot;отмотать&quot; данные на входе назад, используется вызов <A HREF="/cgi-bin/man/man2html?2+lseek">lseek</A>(2).
При использовании `+' поведение будет отличаться, если входные данные
поступают с потока стандартного ввода, а позиция в файле стандартного ввода не находится
в начале файла к тому моменту, когда программа xxd запущена и приступает к чтению ввода.
Нижеследующие примеры помогут прояснить (или ещё больше запутать!) ситуацию...
<P>

Отмотка назад потока стандартного ввода; необходимо, поскольку 'cat' уже выполнила
чтение до конца потока стандартного ввода:
<P>

<I>% sh -c 'cat &gt; plain_copy; xxd -s 0 &gt; hex_copy' &lt; file
<P>

Вывод шестнадцатеричного представления от позиции в файле 0x480 
(= 1024+128).
Символ `+' означает &quot;относительно текущей позиции&quot;, таким образом `128' добавляется
к первому килобайту, где завершает работу dd:
<P>

% sh -c 'dd of=plain_snippet bs=1k count=1; xxd -s +128 &gt; hex_snippet' &lt; file
<P>

Вывод шестнадцатеричного представления от позиции в файле 0x100 
(= 1024-768):
<P>

% sh -c 'dd of=plain_snippet bs=1k count=1; xxd -s +-768 &gt; hex_snippet' &lt; file
<P>

В то же время, следует заметить, что подобные ситуации встречаются довольно редко,
так что символ `+' обычно не используется. Автор предпочитает наблюдать за работой 
xxd с помощью <A HREF="/cgi-bin/man/man2html?1+strace">strace</A>(1) или <A HREF="/cgi-bin/man/man2html?1+truss">truss</A>(1) в тех случаях, когда применяется ключ
-s.
</I><A NAME="lbAG">&nbsp;</A>
<H2>ПРИМЕРЫ</H2>

<P>

<BR>

Вывести всё, кроме первых трёх строк (0x30 байтов) файла
<B>file</B>

:
<P>

<I>% xxd -s 0x30 file
<P>

<BR>

Вывести три строки (0x30 байтов) от конца файла
</I><B>file</B>

:
<P>

<I>% xxd -s -0x30 file
<P>

<BR>

Вывести 120 байтов в виде непрерывного шестнадцатеричного представления
по 20 октетов в строке:
<P>

% xxd -l 120 -ps -c 20 xxd.1</I>
<BR>

2e544820585844203120224d616e75616c207061
<BR>

676520666f7220787864220a2e5c220a2e5c2220
<BR>

32317374204d617920313939360a2e5c22204d61
<BR>

6e207061676520617574686f723a0a2e5c222020
<BR>

2020546f6e79204e7567656e74203c746f6e7940
<BR>

7363746e7567656e2e7070702e67752e6564752e
<BR>

<P>

<BR>

Вывести первые 120 байтов этой страницы справочника по 12 октетов в строке:
<P>

<I>% xxd -l 120 -c 12 xxd.1</I>
<BR>

0000000: 2e54 4820 5858 4420 3120 224d  .TH XXD 1 &quot;M
<BR>

000000c: 616e 7561 6c20 7061 6765 2066  anual page f
<BR>

0000018: 6f72 2078 7864 220a 2e5c 220a  or xxd&quot;..\&quot;.
<BR>

0000024: 2e5c 2220 3231 7374 204d 6179  .\&quot; 21st May
<BR>

0000030: 2031 3939 360a 2e5c 2220 4d61   1996..\&quot; Ma
<BR>

000003c: 6e20 7061 6765 2061 7574 686f  n page autho
<BR>

0000048: 723a 0a2e 5c22 2020 2020 546f  r:..\&quot;    To
<BR>

0000054: 6e79 204e 7567 656e 7420 3c74  ny Nugent &lt;t
<BR>

0000060: 6f6e 7940 7363 746e 7567 656e  <A HREF="mailto:ony@sctnugen">ony@sctnugen</A>
<BR>

000006c: 2e70 7070 2e67 752e 6564 752e  .ppp.gu.edu.
<P>

<BR>

Показать дату из файла xxd.1:
<P>

<I>% xxd -s 0x28 -l 12 -c 12 xxd.1</I>
<BR>

0000028: 3231 7374 204d 6179 2031 3939  21st May 199
<P>

<BR>

Скопировать
<B>входной_файл</B>

в
<B>выходной_файл</B>

с добавлением 100 байтов со значением 0x00 в начало файла:
<P>

<I>% xxd входной_файл | xxd -r -s 100 &gt; выходной_файл</I>
<BR>

<P>

<BR>

Заменить дату в файле xxd.1:
<P>

<I>% echo '0000029: 3574 68' | xxd -r - xxd.1</I>
<BR>

<I>% xxd -s 0x28 -l 12 -c 12 xxd.1</I>
<BR>

0000028: 3235 7468 204d 6179 2031 3939  25th May 199
<P>

<BR>

Создать 65537-байтный файл, все байты которого имеют значение
0x00, кроме последнего байта, который должен иметь значение 'A'
(0x41):
<P>

<I>% echo '010000: 41' | xxd -r &gt; file</I>
<P>

<BR>

Создать шестнадцатеричное представление этого файла с 
использованием автоматического пропуска:
<P>

<I>% xxd -a -c 12 file</I>
<BR>

0000000: 0000 0000 0000 0000 0000 0000  ............
<BR>

*
<BR>

000fffc: 0000 0000 40                   ....A
<P>

Создать 1-байтный файл, содержащий символ 'A'.
Число после '-r -s' добавляется к номерам строк, найденным в файле;
иначе говоря, предшествующие байты пропускаются:
<P>

<I>% echo '010000: 41' | xxd -r -s -0x10000 &gt; file</I>
<P>

xxd можно использовать в качестве фильтра в редакторе, например в 
<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1),</B>

чтобы создать шестнадцатеричное представление области между
отметками `a' и `z':
<P>

<I>:'a,'z!xxd</I>
<P>

Вы можете использовать xxd в качестве фильтра в редакторе, например в 
<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1),</B>

для восстановления данных из шестнадцатеричного представления
между отметками `a' и `z':
<P>

<I>:'a,'z!xxd -r</I>
<P>

Вы можете использовать xxd в качестве фильтра в редакторе, например в
<B><A HREF="/cgi-bin/man/man2html?1+vim">vim</A>(1),</B>

для восстановления данных из единственной строки
шестнадцатеричного представления. Поместите курсор в соответствующую строку
и наберите
<P>

<I>!!xxd -r</I>
<P>

Чтобы прочитать единственный символ из канала связи:
<P>

<I>% xxd -c1 &lt; /dev/term/b &amp;</I>
<BR>

<I>% stty &lt; /dev/term/b -echo -opost -isig -icanon min 1</I>
<BR>

<I>% echo -n foo &gt; /dev/term/b</I>
<P>

<A NAME="lbAH">&nbsp;</A>
<H2>ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ</H2>

Программа xxd завершает работу со следующими значениями:
<DL COMPACT>
<DT id="15">0<DD>
Ошибки не обнаружены.
<DT id="16">-1<DD>
Операция не поддерживается (выполнение
<I>xxd -r -i</I>

пока невозможно).
<DT id="17">1<DD>
Ошибка при разборе ключей командной строки.
<DT id="18">2<DD>
Проблемы во входном файле.
<DT id="19">3<DD>
Проблемы в выходном файле.
<DT id="20">4,5<DD>
Желательная позиция поиска недостижима.
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>СМОТРИ ТАКЖЕ</H2>

<A HREF="/cgi-bin/man/man2html?1+uuencode">uuencode</A>(1), <A HREF="/cgi-bin/man/man2html?1+uudecode">uudecode</A>(1), <A HREF="/cgi-bin/man/man2html?1+patch">patch</A>(1)
<BR>

<A NAME="lbAJ">&nbsp;</A>
<H2>ПРЕДУПРЕЖДЕНИЕ</H2>

Странность этой программы соответствует особенностям мозга её создателя.
Используйте её на свой страх и риск. Копируйте файлы, отслеживайте
вызовы, становитесь волшебником.
<BR>

<A NAME="lbAK">&nbsp;</A>
<H2>ВЕРСИЯ</H2>

Эта страница справочника документирует xxd версии 1.7.
<A NAME="lbAL">&nbsp;</A>
<H2>АВТОР</H2>

<BR>

(c) 1990-1997 Юрген Вайгерт (Juergen Weigert)
<BR>

&lt;<A HREF="mailto:jnweiger@informatik.uni-erlangen.de">jnweiger@informatik.uni-erlangen.de</A>&gt;
<P>

Вы можете свободно распространять программу со ссылкой на меня.
<BR>

Если использование этой программы принесло вам какой-то доход,
поделитесь со мной.
<BR>

Если вы потеряли деньги, то я тут не причём.
<P>

Первый вариант страницы справочника написан Тони Наджентом (Tony Nugent)
<BR>

&lt;<A HREF="mailto:tony@sctnugen.ppp.gu.edu.au">tony@sctnugen.ppp.gu.edu.au</A>&gt; &lt;<A HREF="mailto:T.Nugent@sct.gu.edu.au">T.Nugent@sct.gu.edu.au</A>&gt;
<BR>

Небольшие изменения внесены Брамом Мооленааром (Bram Moolenaar).
Страница отредактирована Юргеном Вайгертом (Juergen Weigert).
<P>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="21"><A HREF="#lbAB">ИМЯ</A><DD>
<DT id="22"><A HREF="#lbAC">КОМАНДНАЯ СТРОКА</A><DD>
<DT id="23"><A HREF="#lbAD">ОПИСАНИЕ</A><DD>
<DT id="24"><A HREF="#lbAE">КЛЮЧИ ЗАПУСКА</A><DD>
<DT id="25"><A HREF="#lbAF">ПОДВОДНЫЕ КАМНИ</A><DD>
<DT id="26"><A HREF="#lbAG">ПРИМЕРЫ</A><DD>
<DT id="27"><A HREF="#lbAH">ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ</A><DD>
<DT id="28"><A HREF="#lbAI">СМОТРИ ТАКЖЕ</A><DD>
<DT id="29"><A HREF="#lbAJ">ПРЕДУПРЕЖДЕНИЕ</A><DD>
<DT id="30"><A HREF="#lbAK">ВЕРСИЯ</A><DD>
<DT id="31"><A HREF="#lbAL">АВТОР</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:23 GMT, March 31, 2021
</BODY>
</HTML>
