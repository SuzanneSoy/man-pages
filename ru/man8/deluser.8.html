
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DELUSER</TITLE>
</HEAD><BODY>
<H1>DELUSER</H1>
Section: Maintenance Commands (8)<BR>Updated: Версия 3.118ubuntu2<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

deluser, delgroup - удаляют пользователя или группу из системы
<A NAME="lbAC">&nbsp;</A>
<H2>СИНТАКСИС</H2>

<B>deluser</B> [параметры] [--force] [--remove-home] [--remove-all-files]
[--backup] [--backup-to КАТ] пользователь
<P>

<B>deluser</B> --group [параметры] группа
<BR>

<B>delgroup</B> [параметры] [--only-if-empty] группа
<P>

<B>deluser</B> [параметры] пользователь группа
<A NAME="lbAD">&nbsp;</A>
<H3>ОБЩИЕ ПАРАМЕТРЫ</H3>

<BR>

[--quiet] [--system] [--help] [--version] [--conf ФАЙЛ]
<A NAME="lbAE">&nbsp;</A>
<H2>ОПИСАНИЕ</H2>

<P>

<B>deluser</B> и <B>delgroup</B> удаляют пользователей и группы из системы, исходя
из параметров, заданных в командной строке и информации из файла
<I>/etc/deluser.conf</I>. Они являются дружественными интерфейсами к программам
<B>userdel</B> и <B>groupdel</B>, удаляют домашний каталог или даже все файлы из
системы, принадлежащие пользователю, запускают определённый сценарий и
обладают другими возможностями. <B>deluser</B> и <B>delgroup</B> могут быть запущены
в одном из трёх режимов:
<A NAME="lbAF">&nbsp;</A>
<H3>Удаление обычного пользователя</H3>

При запуске с параметром, не имеющим аргументов и без параметра <B>--group</B>,
<B>deluser</B> удалит обычного пользователя.
<P>
По умолчанию, <B>deluser</B> удаляет пользователя без уничтожения домашнего
каталога, почтового ящика или всех файлов системы, принадлежащих данному
пользователю. Чтобы домашний каталог и почтовый ящик удалялся, можно указать
параметр <B>--remove-home</B>.
<P>
С параметром <B>--remove-all-files</B> удаляются все файл в системе,
принадлежащие данному пользователю. Заметим, что в этом случае указывать
параметр <B>--remove-home</B> необязательно, так как все файлы, включая домашний
каталог и почтовый ящик уже помечены на удаление параметром
<B>--remove-all-files</B>.
<P>
Если вы хотите сделать резервную копию всех файлов перед их удалением, то вы
можете указать параметр <B>--backup</B>, при котором будет создан файл
имя_пользователя.tar(.gz|.bz2), в каталоге, заданном параметром
<B>--backup-to</B> (по умолчанию используется текущий рабочий
каталог). Параметры удаления и резервного копирования также можно задать как
действия по умолчанию в файле настройки /etc/deluser.conf. Подробней
смотрите <B><A HREF="/cgi-bin/man/man2html?5+deluser.conf">deluser.conf</A>(5)</B>.
<P>
Если вы хотите удалить учётную запись root (uid 0), воспользуйтесь
параметром <B>--force</B>; его указание подтверждает, что удаление пользователя
root не является случайной ошибкой.
<P>
Если файл <B>/usr/local/sbin/deluser.local</B> существует, то он будет выполнен
после удаления учётной записи пользователя, чтобы выполнить все локальные
очистки. Аргументы, передаваемые <B>deluser.local</B>:
<BR>

имя_пользователя uid gid домашний_каталог
<P>
<A NAME="lbAG">&nbsp;</A>
<H3>Удалить группу</H3>

Если <B>deluser</B> вызывается с параметром <B>--group</B>, или вызывается как
<B>delgroup</B>, то выполняется удаление группы.
<P>
Предупреждение: Первичная группа существующего пользователя не может быть
удалена.
<P>
Если задан параметр <B>--only-if-empty</B>, удаление группы не произойдёт, если
в неё входят пользователи.
<P>
<A NAME="lbAH">&nbsp;</A>
<H3>Удаление пользователя из определённой группы</H3>

При запуске с двумя параметрами без аргументов, <B>deluser</B> удаляет
пользователя из указанной группы.
<A NAME="lbAI">&nbsp;</A>
<H2>ПАРАМЕТРЫ</H2>

<DL COMPACT>
<DT id="1"><B>--conf ФАЙЛ</B><DD>
Использовать ФАЙЛ вместо файлов по умолчанию <I>/etc/deluser.conf</I> и
<I>/etc/adduser.conf</I>
<DT id="2"><B>--group</B><DD>
Удалить группу. Это является действием по умолчанию, если программа
вызывается как <I>delgroup</I>.
<DT id="3"><B>--help</B><DD>
Показать краткую инструкцию.
<DT id="4"><B>--quiet</B><DD>
Не выводить сообщения о ходе работы.
<DT id="5"><B>--system</B><DD>
Выполнить удаление, только если пользователь/группа являются системными. Это
помогает избежать случайного удаления не системной
группы/пользователя. Также, если пользователь не существует, то значение
ошибки не возвращается. Этот параметр чаще всего используется в сценариях
сопровождения пакетов Debian.
<DT id="6"><B>--only-if-empty</B><DD>
Удалять, только если не осталось членов.
<DT id="7"><B>--backup</B><DD>
Выполнить резервное копирования всех файлов домашнего каталога и хранилище
почты (mailspool-file) в файл с именем /$user.tar.bz2 или /$user.tar.gz.
<DT id="8"><B>--backup-to</B><DD>
Помещать файлы резервных копий не в /, а в каталог, заданный этим
параметром. Подразумевает также задание параметра --backup.
<DT id="9"><B>--remove-home</B><DD>
Удалить домашний каталог пользователя и его хранилище почты. Если указан
--backup, то файлы будут удалены после создания резервной копии.
<DT id="10"><B>--remove-all-files</B><DD>
Удалить все файлы из системы, принадлежащие этому пользователю. Замечание:
указание --remove-home не имеет смысла. Если указан --backup, то файлы будут
удалены после создания резервной копии.
<DT id="11"><B>--version</B><DD>
Показать номер версии и информацию об авторском праве.
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>ВОЗВРАЩАЕМОЕ ЗНАЧЕНИЕ</H2>

<DL COMPACT>
<DT id="12"><B>0</B><DD>
Действие успешно выполнено.
<DT id="13"><B>1</B><DD>
Удаляемый пользователь не является системным. Действие не выполнено.
<DT id="14"><B>2</B><DD>
Пользователь не существует. Действие не выполнено.
<DT id="15"><B>3</B><DD>
Группа не существует. Действие не выполнено.
<DT id="16"><B>4</B><DD>
Внутренняя ошибка. Действие не выполнено.
<DT id="17"><B>5</B><DD>
Удаляемая группа не пуста. Действие не выполнено.
<DT id="18"><B>6</B><DD>
Пользователь не принадлежит указанной группе. Действие не выполнено.
<DT id="19"><B>7</B><DD>
Нельзя удалить пользователя из его первичной группы. Действие не выполнено.
<DT id="20"><B>8</B><DD>
Требуемый perl-пакет 'perl modules' не установлен. Этот пакет требуется для
выполнения некоторых действий. Действие не выполнено.
<DT id="21"><B>9</B><DD>
Для удаления учётной записи root требуется указание параметра
&quot;--force&quot;. Действие не было выполнено.
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ФАЙЛЫ</H2>

<I>/etc/deluser.conf</I> - файл настройки для deluser и delgroup
<DL COMPACT>
<DT id="22"><I>/usr/local/sbin/deluser.local</I><DD>
Необязательные пользовательские добавления.
<P>
</DL>
<A NAME="lbAL">&nbsp;</A>
<H2>СМОТРИТЕ ТАКЖЕ</H2>

<B><A HREF="/cgi-bin/man/man2html?8+adduser">adduser</A></B>(8), <B><A HREF="/cgi-bin/man/man2html?5+deluser.conf">deluser.conf</A></B>(5), <B><A HREF="/cgi-bin/man/man2html?8+groupdel">groupdel</A></B>(8), <B><A HREF="/cgi-bin/man/man2html?8+userdel">userdel</A></B>(8)
<P>
<A NAME="lbAM">&nbsp;</A>
<H2>АВТОРСКОЕ ПРАВО</H2>

Copyright (C) 2000 Roland Bauerschmidt. Изменения (C) 2004 Marc Haber. и
Joerg Hoh. Эта справочная страница и программа deluser основаны на adduser,
которая:
<BR>

Copyright (C) 1997, 1998, 1999 Guy Maor.
<BR>

Copyright (C) 1995 Ted Hajek, с большими заимствованиями из оригинального
Debian <B>adduser</B>
<BR>

Copyright (C) 1994 Ian Murdock. <B>deluser</B> это свободное ПО; смотрите
условия копирования в Универсальной Общественной Лицензии GNU версии 2 или
более новой. Не предоставляется <I>никаких</I> гарантий.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="23"><A HREF="#lbAB">NAME</A><DD>
<DT id="24"><A HREF="#lbAC">СИНТАКСИС</A><DD>
<DL>
<DT id="25"><A HREF="#lbAD">ОБЩИЕ ПАРАМЕТРЫ</A><DD>
</DL>
<DT id="26"><A HREF="#lbAE">ОПИСАНИЕ</A><DD>
<DL>
<DT id="27"><A HREF="#lbAF">Удаление обычного пользователя</A><DD>
<DT id="28"><A HREF="#lbAG">Удалить группу</A><DD>
<DT id="29"><A HREF="#lbAH">Удаление пользователя из определённой группы</A><DD>
</DL>
<DT id="30"><A HREF="#lbAI">ПАРАМЕТРЫ</A><DD>
<DT id="31"><A HREF="#lbAJ">ВОЗВРАЩАЕМОЕ ЗНАЧЕНИЕ</A><DD>
<DT id="32"><A HREF="#lbAK">ФАЙЛЫ</A><DD>
<DT id="33"><A HREF="#lbAL">СМОТРИТЕ ТАКЖЕ</A><DD>
<DT id="34"><A HREF="#lbAM">АВТОРСКОЕ ПРАВО</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:23 GMT, March 31, 2021
</BODY>
</HTML>
