
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of UPDATE-PASSWD</TITLE>
</HEAD><BODY>
<H1>UPDATE-PASSWD</H1>
Section: Maintenance Commands (8)<BR>Updated: утилиты Debian<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>НАЗВАНИЕ</H2>

update-passwd - безопасное обновление файлов /etc/passwd, /etc/shadow и
/etc/group
<A NAME="lbAC">&nbsp;</A>
<H2>СИНТАКСИС</H2>

<B>update-passwd</B> [<I>параметры</I>]
<A NAME="lbAD">&nbsp;</A>
<H2>ОПИСАНИЕ</H2>

<B>update-passwd</B> служит для обновления файлов /etc/passwd, /etc/shadow и
/etc/group в работающих системах Debian. Она сравнивает текущие файлы с
мастер-копиями из пакета base-passwd и обновляет все записи глобального
системного диапазона (то есть, 0-99).
<P>

<A NAME="lbAE">&nbsp;</A>
<H2>ПАРАМЕТРЫ</H2>

Для <B>update-passwd</B> используется обычный синтаксис запуска программ GNU из
командной строки, то есть длинные имена параметров начинаются с двух
символов тире ('-').
<DL COMPACT>
<DT id="1"><B>-p</B>,&nbsp;<B>--passwd-master=ФАЙЛ</B><DD>
Использовать ФАЙЛ в качестве мастер-копии базы данных passwd. Значением по
умолчанию является <I>/usr/share/base-passwd/passwd.master</I>.
<DT id="2"><B>-g</B>,&nbsp;<B>--group-master=ФАЙЛ</B><DD>
Использовать ФАЙЛ в качестве мастер-копии базы данных group. Значением по
умолчанию является <I>/usr/share/base-passwd/group.master</I>.
<DT id="3"><B>-P</B>,&nbsp;<B>--passwd=ФАЙЛ</B><DD>
Использовать ФАЙЛ в качестве системной базы данных passwd. Значением по
умолчанию является <I>/etc/passwd</I>.
<DT id="4"><B>-S</B>,&nbsp;<B>--shadow=ФАЙЛ</B><DD>
Использовать ФАЙЛ в качестве системной базы данных shadow. Значением по
умолчанию является <I>/etc/shadow</I>.
<DT id="5"><B>-G</B>,&nbsp;<B>--group=ФАЙЛ</B><DD>
Использовать ФАЙЛ в качестве системной базы данных group. Значением по
умолчанию является <I>/etc/group</I>.
<DT id="6"><B>-s</B>,&nbsp;<B>--sanity-check</B><DD>
Провести проверку на отсутствие тривиальных ошибок ничего не изменяя.
<DT id="7"><B>-v</B>,&nbsp;<B>--verbose</B><DD>
Показывать подробную информацию о всех выполняемых действиях. Если указать
параметр -v дважды, будет выдано ещё больше подробностей.
<DT id="8"><B>-n</B>,&nbsp;<B>--dry-run</B><DD>
Ничего не делать, только показать выполняемые действия.
<DT id="9"><B>-L</B>,&nbsp;<B>--no-locking</B><DD>
Не пытаться установить блокировку на базу данных. Должно использоваться
только в отладочных целях.  <B>Внимание: не используйте этот параметр, если
вам это действительно ненужно!</B>
<DT id="10"><B>-h</B>,&nbsp;<B>--help</B><DD>
Показать справку по работе с <B>update-passwd</B>.
<DT id="11"><B>-V</B>,&nbsp;<B>--version</B><DD>
Показать номер версии
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<DL COMPACT>
<DT id="12">DEBIAN_HAS_FRONTEND<DD>
If this environment variable is sent and the <B>--dry-run</B> flag was not
given, <B>update-passwd</B> uses debconf to prompt for whether to make changes.
Each proposed change will produce a separate prompt.  User or group
removals, UID or GID changes, and home directory changes will be asked with
high priority.  User or group additions and shell changes will be asked with
medium priority.  Questions about whether to move entries above the NIS
compat inclusion entry or whether to change the GECOS of a user are asked at
low priority.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>ОШИБКИ</H2>

На данный момент <B>update-passwd</B> не производит проверку файла shadow. Нужно
проверять, что записи из passwd есть в shadow и наоборот, и то, что пароли
не указаны в обоих файлах сразу.
<A NAME="lbAH">&nbsp;</A>
<H2>АВТОР</H2>

Вичерт Акерман (Wichert Akkerman) &lt;<A HREF="mailto:wakkerma@debian.org">wakkerma@debian.org</A>&gt;
<P>

Эта программа была написана для проекта Debian; авторское право принадлежит
1999-2002 Wichert Akkerman и 2002, 2003 Colin Watson. Она
распространяется на условиях универсальной общественной лицензии GNU версии
2.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="13"><A HREF="#lbAB">НАЗВАНИЕ</A><DD>
<DT id="14"><A HREF="#lbAC">СИНТАКСИС</A><DD>
<DT id="15"><A HREF="#lbAD">ОПИСАНИЕ</A><DD>
<DT id="16"><A HREF="#lbAE">ПАРАМЕТРЫ</A><DD>
<DT id="17"><A HREF="#lbAF">ENVIRONMENT</A><DD>
<DT id="18"><A HREF="#lbAG">ОШИБКИ</A><DD>
<DT id="19"><A HREF="#lbAH">АВТОР</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:23 GMT, March 31, 2021
</BODY>
</HTML>
