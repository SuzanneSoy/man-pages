
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MANDB</TITLE>
</HEAD><BODY>
<H1>MANDB</H1>
Section: Утилиты просмотра справочных страниц (8)<BR>Updated: 2020-02-25<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>НАЗВАНИЕ</H2>

mandb - создаёт или обновляет кэши index справочных страниц
<A NAME="lbAC">&nbsp;</A>
<H2>СИНТАКСИС</H2>

<B>mandb</B> [<B>-dqsucpt?V</B>] [<B>-C</B> <I>файл</I>] [<I>manpath</I>]
<BR>

<B>mandb</B> [<B>-dqsut</B>] [<B>-C</B> <I>файл</I>] <B>-f</B> <I>имя_файла</I>&nbsp;...
<A NAME="lbAD">&nbsp;</A>
<H2>ОПИСАНИЕ</H2>

<B>mandb</B> используется для инициализации или ручного обновления кэшей базы
данных <B>index</B>. В кэшах содержится информация о текущем состоянии системы
справочных страниц, а хранящаяся в них информация используется утилитами
man-db для повышения скорости работы и функциональности.
<P>
При создании или обновлении <B>index</B>, <B>mandb</B> предупреждает о неверных
запросах ROFF .so, фиктивных именах файлов справочных страниц и справочных
страницах, которые не удалось проанализировать с помощью <B>whatis</B>.
<P>
Указываемые при запуске <B>mandb</B> необязательные пути (через двоеточие)
заменят внутренний путь поиска иерархии системных справочных страниц,
определённый из файла настроек man-db.
<A NAME="lbAE">&nbsp;</A>
<H2>КЭШИ БАЗЫ ДАННЫХ</H2>

<B>mandb</B> может быть собрана с поддержкой одного из следующих типов баз
данных:
<P>
<TABLE>
<TR VALIGN=top><TD>Название</TD><TD>Тип</TD><TD>Асинхронность</TD><TD>Имя файла<BR></TD></TR>
<TR VALIGN=top><TD COLSPAN=4><HR></TD></TR>
<TR VALIGN=top><TD>Berkeley db</TD><TD>
двоичное дерево
</TD><TD>Да</TD><TD><I>index.bt</I><BR></TD></TR>
<TR VALIGN=top><TD>GNU gdbm</TD><TD>
Хэш
</TD><TD>Да</TD><TD><I>index.db</I><BR></TD></TR>
<TR VALIGN=top><TD>UNIX ndbm</TD><TD>
Хэш
</TD><TD>Нет</TD><TD><I>index.(dir|pag)</I><BR></TD></TR>
</TABLE>

<P>
Типы баз данных, которые поддерживают асинхронные обновления, предоставляют
лучшее отношение скорости к возможности повреждения в случае неожиданного
прерывания работы. Если это происходит, может потребоваться перезапустить
<B>mandb</B> с параметром <B>-c</B>, чтобы пересоздать базы данных с нуля.
<A NAME="lbAF">&nbsp;</A>
<H2>ПАРАМЕТРЫ</H2>

<DL COMPACT>
<DT id="1"><B>-d</B>, <B>--debug</B>


<DD>
Показывать отладочную информацию.
<DT id="2"><B>-q</B>, <B>--quiet</B>


<DD>
Не выдавать предупреждения.
<DT id="3"><B>-s</B>, <B>--no-straycats</B>


<DD>
Не тратить время на поиск или добавление информации в базы данных по stray
cats.
<DT id="4"><B>-p</B>, <B>--no-purge</B>


<DD>
Не тратить время на проверку удалённых справочных страниц или их вычистку из
баз данных.
<DT id="5"><B>-c</B>, <B>--create</B>


<DD>
По умолчанию, <B>mandb</B> пытается обновить любые ранее созданные базы
данных. Если база данных не существует, то она будет создана. Этот параметр
заставляет <B>mandb</B> удалить имеющиеся базы данных и пересоздать их с нуля,
и заключает в себе <B>--no-purge.</B> Это может быть необходимо при повреждении
базы данных, или если в будущем будет использоваться новая схема хранения
базы данных.
<DT id="6"><B>-u</B>, <B>--user-db</B>


<DD>
Создать только пользовательские базы данных, даже имея права на запись,
необходимые для создания системных баз данных.
<DT id="7"><B>-t</B>, <B>--test</B>


<DD>
Выполнить проверку на правильность справочных страниц в иерархическом пути
поиска. При указании этого параметра <B>mandb</B> не изменяет существующие
базы данных.
<DT id="8"><B>-f</B>, <B>--filename</B>


<DD>
Обновить записи только для заданного файла. Этот параметр не для
повседневного использования; он используется для служебных целей <B>man</B>,
когда она собрана с параметром <B>MAN_DB_UPDATES</B> и обнаруживает, что
страница устарела. Это подразумевает <B>-p</B> и выключает <B>-c</B> и <B>-s</B>.
<DT id="9"><B>-C&nbsp;</B><I>файл</I>,&nbsp;<B>--config-file=</B><I>файл</I><DD>
Использовать указанный пользовательский файл настройки вместо значения по
умолчанию <I>~/.manpath</I>.
<DT id="10"><B>-?</B>, <B>--help</B>


<DD>
Показать это справочное сообщение и закончить работу.
<DT id="11"><B>--usage</B>


<DD>
Показать короткое сообщение об использовании и завершить работу.
<DT id="12"><B>-V</B>, <B>--version</B>


<DD>
Показать версию и закончить работу.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>КОД ВЫХОДА</H2>

<DL COMPACT>
<DT id="13"><B>0</B>


<DD>
Успешное выполнение программы.
<DT id="14"><B>1</B>


<DD>
Ошибка при использовании, в синтаксисе или файле настроек.
<DT id="15"><B>2</B>


<DD>
Ошибка при работе.
<DT id="16"><B>3</B>


<DD>
Работа процесса-потомка завершилась неудачно.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>ДИАГНОСТИКА</H2>

Во время создания базы данных могут появляться следующие предупреждения.
<DL COMPACT>
<DT id="17"><B>&lt;имя файла&gt;: ошибка анализа страниц(ы) программой whatis</B><DD>
Программа whatis пыталась извлечь строки из указанного &lt;файла&gt;, но
это не удалось. Обычно, эта ошибка возникает, если справочная страница плохо
написана, а если таких сообщений возникает много, то, скорее всего, в
системе содержатся нестандартные справочные страницы, несовместимые с
анализатором man-db whatis. Более подробное описание смотрите в разделе
<B>ЧТО АНАЛИЗИРУЕТСЯ</B> на странице <B><A HREF="/cgi-bin/man/man2html?1+lexgrog">lexgrog</A></B>(1).
<DT id="18"><B>&lt;имя файла&gt;: повисшая символическая ссылка</B><DD>
&lt;Файл&gt; не существует, но на него ссылаются по символической
ссылке. При дальнейшей диагностике, обычно, появятся сообщения, указывающие
на &lt;файл&gt; с неправильной ссылкой.
<DT id="19"><B>&lt;имя файла&gt;: неверная символическая ссылка или ROFF `.so' запрос</B><DD>
&lt;Файл&gt;, или указывает на символическую ссылку, или содержит ROFF
include запрос на несуществующий файл.
<DT id="20"><B>&lt;имя файла&gt;: игнорируется фиктивное имя файла</B><DD>
&lt;Файл&gt; может (или не может) быть допустимой справочной страницей, но
это имя неправильно. Обычно, это происходит со справочными страницами,
имеющими раздельческое расширение &lt;x&gt;, но лежащими в разделе
&lt;y&gt;.
<DT id="21"><B>&lt;маска имени файла&gt;: конкурирующие расширения</B><DD>
Шаблон &lt;маска имени файла&gt; не является уникальным. Обычно, это
происходит из-за существования одновременно сжатой и несжатой версии одной и
той же справочной страницы. Все страницы кроме самой новой игнорируются.
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>ФАЙЛЫ</H2>

<DL COMPACT>
<DT id="22"><I>/etc/manpath.config</I>


<DD>
Файл настройки man-db.
<DT id="23"><I>/var/cache/man/index.(bt|db|dir|pag)</I>


<DD>
Соответствующий FHS глобальный кэш базы данных <I>index</I>.
</DL>
<P>

Места, где кэш базы данных находился ранее:
<DL COMPACT>
<DT id="24"><I>/usr/man/index.(bt|db|dir|pag)</I>


<DD>
Традиционный кэш глобальной базы данных <I>index</I>.
<DT id="25"><I>/var/catman/index.(bt|db|dir|pag)</I>


<DD>
Альтернативный или соответствующий FSSTND, глобальный кэш базы данных
<I>index</I>.
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>СМОТРИТЕ ТАКЖЕ</H2>

<B><A HREF="/cgi-bin/man/man2html?1+lexgrog">lexgrog</A></B>(1),


<B><A HREF="/cgi-bin/man/man2html?1+man">man</A></B>(1),


<B><A HREF="/cgi-bin/man/man2html?5+manpath">manpath</A></B>(5),


<B><A HREF="/cgi-bin/man/man2html?8+catman">catman</A></B>(8)


<P>

Прежде в этой странице был раздел <B>ЧТО АНАЛИЗИРУЕТСЯ</B>, но теперь он
перенесён в <B><A HREF="/cgi-bin/man/man2html?1+lexgrog">lexgrog</A></B>(1).
<A NAME="lbAK">&nbsp;</A>
<H2>АВТОР</H2>

<PRE>
Wilf. (<A HREF="mailto:G.Wilford@ee.surrey.ac.uk">G.Wilford@ee.surrey.ac.uk</A>).Fabrizio Polacco (<A HREF="mailto:fpolacco@debian.org">fpolacco@debian.org</A>).Colin Watson (<A HREF="mailto:cjwatson@debian.org">cjwatson@debian.org</A>).</PRE>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="26"><A HREF="#lbAB">НАЗВАНИЕ</A><DD>
<DT id="27"><A HREF="#lbAC">СИНТАКСИС</A><DD>
<DT id="28"><A HREF="#lbAD">ОПИСАНИЕ</A><DD>
<DT id="29"><A HREF="#lbAE">КЭШИ БАЗЫ ДАННЫХ</A><DD>
<DT id="30"><A HREF="#lbAF">ПАРАМЕТРЫ</A><DD>
<DT id="31"><A HREF="#lbAG">КОД ВЫХОДА</A><DD>
<DT id="32"><A HREF="#lbAH">ДИАГНОСТИКА</A><DD>
<DT id="33"><A HREF="#lbAI">ФАЙЛЫ</A><DD>
<DT id="34"><A HREF="#lbAJ">СМОТРИТЕ ТАКЖЕ</A><DD>
<DT id="35"><A HREF="#lbAK">АВТОР</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:23 GMT, March 31, 2021
</BODY>
</HTML>
