
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of sane-hp5590</TITLE>
</HEAD><BODY>
<H1>sane-hp5590</H1>
Section: SANE Scanner Access Now Easy (5)<BR>Updated: 13 Jul 2008<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<P>

sane-hp5590 - SANE backend for Hewlett-Packard
4500C/4570C/5500C/5550C/5590/7650 Workgroup/Document scanners
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The sane-hp5590 library implements a SANE (Scanner Access Now
Easy) backend that provides access to the following Hewlett-Packard
Workgroup/Document scanners:
<DL COMPACT>
<DT id="1">&bull;<DD>
ScanJet 4500C
<DT id="2">&bull;<DD>
ScanJet 4570C
<DT id="3">&bull;<DD>
ScanJet 5500C
<DT id="4">&bull;<DD>
ScanJet 5550C
<DT id="5">&bull;<DD>
ScanJet 5590
<DT id="6">&bull;<DD>
ScanJet 7650
</DL>
<P>

If you own a scanner other than the ones listed above that works with
this backend, please let us know this by sending the scanner's exact
model name and the USB vendor and device ids (e.g.&nbsp;from
/sys/bus/usb/devices, sane-find-scanner or syslog)
to us.
Even if the scanner's name is only slightly different from the
models mentioned above, please let us know.
<A NAME="lbAD">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

The options the backend supports can either be selected through command
line options to programs like scanimage or through GUI elements in
xscanimage or xsane.
Valid command line options and their syntax can be listed by using:
<DL COMPACT>
<DT id="7"><DD>
<PRE>

scanimage --help -d hp5590:interface:device

</PRE>

</DL>
<P>

where interface and device specify the device in
question, as in the configuration file.
Add --all-options to also list the hardware read-out options.
The -d parameter and its argument can be omitted to obtain information
on the first scanner identified.
<P>

Use the command:
<DL COMPACT>
<DT id="8"><DD>
<PRE>

scanimage -L

</PRE>

</DL>
<P>

to list all devices recognized by your SANE installation.
<A NAME="lbAE">&nbsp;</A>
<H2>DEVICE SPECIFIC OPTIONS</H2>

<DL COMPACT>
<DT id="9"><B>-l </B>n

<DD>
Top-left X position of scan area in mm.
Allowed range: 0 ..
215.889.
<DT id="10"><B>-t </B>n

<DD>
Top-left Y position of scan area in mm.
Allowed range: 0 ..
297.699.
<DT id="11"><B>-x </B>n

<DD>
X width of scan-area in mm.
Allowed range: 0 ..
215.889.
<DT id="12"><B>-y </B>n

<DD>
Y height of scan-area in mm.
Allowed range: 0 ..
297.699.
</DL>
<P>

By default, the maximum size will be scanned.
<DL COMPACT>
<DT id="13"><B>--mode </B>mode

<DD>
Select color mode.
mode must be one of: "Color", "Color (48
bits)", "Gray", "Lineart".
<DL COMPACT><DT id="14"><DD>
<DL COMPACT>
<DT id="15">&bull;<DD>
"Color" - Scanning is done with 3 * 8 bit RGB color values per
pixel.
<DT id="16">&bull;<DD>
"Color (48 bits)" - Scanning is done with 3 * 16 bit RGB color
values per pixel.
<DT id="17">&bull;<DD>
"Gray" - Scanning is done with 1 * 8 bit gray value per pixel.
<DT id="18">&bull;<DD>
"Lineart" - Scanning is done with 1 bit black and white value
per pixel.
</DL>
</DL>

<DT id="19"><B>--source </B>source

<DD>
Select the source for scanning.
source must be one of: "Flatbed", "ADF",
"ADF Duplex", "TMA Slides", "TMA Negatives".
<DL COMPACT><DT id="20"><DD>
<DL COMPACT>
<DT id="21">&bull;<DD>
"Flatbed" - Scan document on the flat document glass.
<DT id="22">&bull;<DD>
"ADF" - Scan frontsides of documents with automatic document
feeder.
<DT id="23">&bull;<DD>
"ADF Duplex" - Scan front- and backsides of documents with
automatic document feeder.
Note, the backside images must be rotated in a separate post process
step.
<DT id="24">&bull;<DD>
"TMA Slides" - Slide scanning with transparent media adapter.
(Not fully supported by hp5590 backend).
<DT id="25">&bull;<DD>
"TMA Negatives" - Negative film scanning with transparent media
adapter.
(Not fully supported by hp5590 backend).
</DL>
</DL>

<DT id="26"><B>--resolution </B>res

<DD>
Set the resolution of the scanned image in dpi.
res must be one of: 100, 200, 300, 600, 1200, 2400.
</DL>
<P>

Default settings: Lineart, Flatbed, 100dpi.
<DL COMPACT>
<DT id="27"><B>--extend-lamp-timeout[=yes|no]</B>

<DD>
Extend lamp timeout period.
no = 15 minutes, yes = 1 hour.
(Default: no)
<DT id="28"><B>--wait-for-button[=yes|no]</B>

<DD>
Wait for button press before scanning starts.
(Default: no)
<DT id="29"><B>--preview[=yes|no]</B>

<DD>
Request a preview-quality scan.
(Default: no)
<DT id="30"><B>--hide-eop-pixel[=yes|no]</B>

<DD>
Hide end-of-page indicator pixels and overwrite with color of next
neighbor pixels.
(Default: yes)

</DL>
<P>


The scanner uses the last pixel in every scan line for storing the
end-of-page status.
This is needed to detect the end of the document sheet when the
automatic document feeder (ADF) is used.
Unfortunately the end-of-page pixels are also generated in flatbed
scans.
It is recommended to hide these pixels.
<DL COMPACT>
<DT id="31"><B>--trailing-lines-mode </B>mode

<DD>
Filling mode of trailing lines after end of page when automatic document
feeder (ADF) is used.
mode must be one of: "last", "raw",
"raster", "white", "black", "color".
(Default: "last")
<DL COMPACT><DT id="32"><DD>
<DL COMPACT>
<DT id="33">&bull;<DD>
"last" = repeat the last scan line (recommended),
<DT id="34">&bull;<DD>
"raw" = read raw scan data (not recommended),
<DT id="35">&bull;<DD>
"raster" = generate black and white pixel pattern,
<DT id="36">&bull;<DD>
"white" = white pixels,
<DT id="37">&bull;<DD>
"black" = black pixels,
<DT id="38">&bull;<DD>
"color" = RGB or gray colored pixels (see next option).
</DL>
</DL>

<DT id="39"><B>--trailing-lines-color </B>n

<DD>
Set color value for filling trailing scan lines in trailing lines mode
"color" (see previous option).
(Default color: violet)

</DL>
<P>


The RGB color value must be specified and calculated as 65536 * r + 256
* g + b, with r, g, b being values in the range of 0 ..
255.
<A NAME="lbAF">&nbsp;</A>
<H2>READ OUT OPTIONS</H2>

<P>

The following options allow reading out the button state, counter value,
color setting, and the state of document in ADF.
This can be used to programmatically control corresponding scanner
options like switching between flatbed and ADF mode,
or triggering prost processing tasks after scanning.
<DL COMPACT>
<DT id="40"><B>--button-pressed</B>

<DD>
Get the id of the last button pressed.
Id is one of "none", "power", "scan",
"collect", "file", "email", "copy",
"up", "down", "mode", "cancel".

</DL>
<P>


The scanner stores the id of the last button pressed until it is read.
After read out, the state is reset and subsequent readings will return
"none".
<DL COMPACT>
<DT id="41"><B>--color-led</B>

<DD>
Get the state of the color LED indicators.
The state is either "color" or "black_white".
<DT id="42"><B>--counter-value</B>

<DD>
Get the counter value as shown on LCD.
The value is in the range of 1 ..
99.
<DT id="43"><B>--doc-in-adf</B>

<DD>
Get the state of the document-available indicator of the automatic
document feeder (ADF).
The state is either "yes" or "no".
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>HINTS FOR USERS OF SCANBD</H2>

<P>

Scanbd is a scanner button daemon, which can read scanner
buttons and trigger scan actions.
<P>

Do not use the old scanbuttond interface with hp5590.
It is outdated and shall not be used any more.
Scanbd's regular interface is fully supported by the current version
of the hp5590 backend.
<P>

This example shows a minimum configuration file and the corresponding
script file for scanbd to be included in scanbd.conf.
<DL COMPACT>
<DT id="44">&bull;<DD>
hp5590.conf
<DT id="45"><DD>
<PRE>

device hp5590 {
    # Device matching
    filter = &quot;hahp5590.*&quot;
    desc = &quot;HP5590 Scanner Family&quot;

    # Read out counter value and store in environment variable.
    function function_lcd_counter {
        filter = &quot;hacounter-value.*&quot;
        desc   = &quot;hp5590: LCD counter&quot;
        env    = &quot;SCANBD_FUNCTION_LCD_COUNTER&quot;
    }

    # Run scan script when button is pressed.
    action do-scan {
        filter = &quot;habutton-pressed.*&quot;
        desc   = &quot;hp5590: Scan button pressed&quot;
        script = &quot;scan_action.script&quot;
        string-trigger {
            from-value  = &quot;none&quot;
            to-value    = &quot;scan&quot;
        }
    }
}

</PRE>

<DT id="46">&bull;<DD>
scan_action.script
<DT id="47"><DD>
<PRE>

#!/bin/bash
echo device = $SCANBD_DEVICE
echo action = $SCANBD_ACTION
echo counter = $SCANBD_FUNCTION_LCD_COUNTER
scanfile=&quot;$HOME/tmp/scans/scan-$(date +%s).pnm&quot;
case $SCANBD_ACTION in
do-scan)
    scanimage -d &quot;$SCANBD_DEVICE&quot; &gt; &quot;$scanfile&quot;
    ;;
*)
    echo Warning: Unknown scanbd action: &quot;$SCANBD_ACTION&quot;
    ;;
esac

</PRE>

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<DT id="48"><B></B>@LIBDIR@/libsane-hp5590.a

<DD>
The static library implementing this backend.
<DT id="49"><B></B>@LIBDIR@/libsane-hp5590.so

<DD>
The shared library implementing this backend (present on systems that
support dynamic loading).
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<P>

If the library was compiled with debug support enabled, this environment
variable controls the debug level for this backend.
<P>

SANE_DEBUG_HP5590
<P>

Higher debug levels increase the verbosity of the output:
<DL COMPACT>
<DT id="50"><DD>
<PRE>

10 - generic processing
20 - verbose backend messages
40 - HP5590 high-level commands
50 - HP5590 low-level (USB-in-USB) commands

</PRE>

<DT id="51"><B>Example:</B>

<DD>
export SANE_DEBUG_HP5590=50
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<A HREF="/cgi-bin/man/man2html?7+sane">sane</A>(7), <A HREF="/cgi-bin/man/man2html?5+sane-usb">sane-usb</A>(5)
<A NAME="lbAK">&nbsp;</A>
<H2>AUTHORS</H2>

Ilia Sotnikov &lt;<A HREF="mailto:hostcc@gmail.com">hostcc@gmail.com</A>&gt;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="52"><A HREF="#lbAB">NAME</A><DD>
<DT id="53"><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT id="54"><A HREF="#lbAD">OPTIONS</A><DD>
<DT id="55"><A HREF="#lbAE">DEVICE SPECIFIC OPTIONS</A><DD>
<DT id="56"><A HREF="#lbAF">READ OUT OPTIONS</A><DD>
<DT id="57"><A HREF="#lbAG">HINTS FOR USERS OF SCANBD</A><DD>
<DT id="58"><A HREF="#lbAH">FILES</A><DD>
<DT id="59"><A HREF="#lbAI">ENVIRONMENT</A><DD>
<DT id="60"><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT id="61"><A HREF="#lbAK">AUTHORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:05 GMT, March 31, 2021
</BODY>
</HTML>
