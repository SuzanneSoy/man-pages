
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PKTTYAGENT</TITLE>
</HEAD><BODY>
<H1>PKTTYAGENT</H1>
Section: pkttyagent (1)<BR>Updated: May 2009<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

pkttyagent - Textual authentication helper
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<DL COMPACT>
<DT id="1">
<B>pkttyagent</B> [<B>--version</B>] [<B>--help</B>]
<DT id="2">
<B>pkttyagent</B> [<B>--process</B>&nbsp;{&nbsp;<I>pid</I>&nbsp;|&nbsp;<I>pid,pid-start-time</I>&nbsp;} | <B>--system-bus-name</B>&nbsp;<I>busname</I>] [<B>--notify-fd</B>&nbsp;<I>fd</I>] [<B>--fallback</B>]
</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>pkttyagent</B>
<DD>is used to start a textual authentication agent for the subject specified by either
<B>--process</B>
or
<B>--system-bus-name</B>. If neither of these options are given, the parent process is used.
<P>

To get notified when the authentication agent has been registered either listen to the
Changed
D-Bus signal or use
<B>--notify-fd</B>
to pass the number of a file descriptor that has been passed to the program. This file descriptor will then be closed when the authentication agent has been successfully registered.
<P>

If
<B>--fallback</B>
is used, the textual authentication agent will not replace an existing authentication agent.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

If the authentication agent could not be registered,
<B>pkttyagent</B>
exits with an exit code of 127. Diagnostic messages are printed on standard error.
<P>

If one or more of the options passed are malformed,
<B>pkttyagent</B>
exits with an exit code of 126. If stdin is a tty, then this manual page is also shown.
<P>

If the authentication agent was successfully registered,
<B>pkttyagent</B>
will keep running, interacting with the user as needed. When its services are no longer needed, the process can be killed.
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<P>

Since process identifiers can be recycled, the caller should always use
<I>pid,pid-start-time</I>
when using the
<B>--process</B>
option. The value of
<I>pid-start-time</I>
can be determined by consulting e.g. the
<B><A HREF="/cgi-bin/man/man2html?5+proc">proc</A></B>(5)
file system depending on the operating system. If only
<I>pid</I>
is passed to the
<B>--process</B>
option, then
<B>pkttyagent</B>
will look up the start time itself but note that this may be racy.
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

Written by David Zeuthen
&lt;<A HREF="mailto:davidz@redhat.com">davidz@redhat.com</A>&gt;
with a lot of help from many others.
<A NAME="lbAH">&nbsp;</A>
<H2>BUGS</H2>

<P>

Please send bug reports to either the distribution or the polkit-devel mailing list, see the link
m[blue]<B><A HREF="http://lists.freedesktop.org/mailman/listinfo/polkit-devel">http://lists.freedesktop.org/mailman/listinfo/polkit-devel</A></B>m[]
on how to subscribe.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/cgi-bin/man/man2html?8+polkit">polkit</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?1+pkaction">pkaction</A></B>(1),
<B><A HREF="/cgi-bin/man/man2html?1+pkcheck">pkcheck</A></B>(1),
<B><A HREF="/cgi-bin/man/man2html?1+pkexec">pkexec</A></B>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="3"><A HREF="#lbAB">NAME</A><DD>
<DT id="4"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="5"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="6"><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT id="7"><A HREF="#lbAF">NOTES</A><DD>
<DT id="8"><A HREF="#lbAG">AUTHOR</A><DD>
<DT id="9"><A HREF="#lbAH">BUGS</A><DD>
<DT id="10"><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:23 GMT, March 31, 2021
</BODY>
</HTML>
