
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DH_INSTALLSYSTEMDUSER</TITLE>
</HEAD><BODY>
<H1>DH_INSTALLSYSTEMDUSER</H1>
Section: Debhelper (1)<BR>Updated: 2020-03-27<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

dh_installsystemduser - install systemd unit files
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>



<B>dh_installsystemduser</B> [<I>debhelper options</I>] [<B>--no-enable</B>] [<B>--name=</B><I>name</I>] [<I>unit file</I> ...]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>



<B>dh_installsystemduser</B> finds the systemd user instance service files
installed by a package and generates <I>postinst</I>, and <I>prerm</I> code
blocks for enabling and disabling the corresponding systemd user
instance services, when the package is installed, updated, or
removed. These snippets are added to the maintainer scripts by
<B><A HREF="/cgi-bin/man/man2html?1+dh_installdeb">dh_installdeb</A></B>(1).
<P>

<B><A HREF="/cgi-bin/man/man2html?1+deb-systemd-helper">deb-systemd-helper</A></B>(1) is used to enable and disable the systemd
units, thus it is not necessary that the machine actually runs systemd
during package installation time, enabling happens on all machines.
<P>

<B>dh_installsystemduser</B> operates on all user instance unit files
installed by a package. For only generating blocks for specific unit
files, pass them as arguments. Specific unit files can be excluded
from processing using the <B>-X</B> common <B><A HREF="/cgi-bin/man/man2html?1+debhelper">debhelper</A></B>(1) option.
<A NAME="lbAE">&nbsp;</A>
<H2>FILES</H2>



<DL COMPACT>
<DT id="1">debian/<I>package</I>.user.path, debian/<I>package</I>@.user.path, debian/<I>package</I>.user.service, debian/<I>package</I>@.user.service, debian/<I>package</I>.user.socket, debian/<I>package</I>@.user.socket, debian/<I>package</I>.user.target, debian/<I>package</I>@.user.target, debian/<I>package</I>.user.timer, debian/<I>package</I>@.user.timer<DD>


If any of those files exists, they are installed into
<I>usr/lib/systemd/user/</I> in the package build directory removing the
<I>.user</I> file name part.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS</H2>



<DL COMPACT>
<DT id="2"><B>--name=</B><I>name</I><DD>


Install the service file as <I>name.service</I> instead of the default
filename <I>package.service</I>. When this parameter is used,
<B>dh_installsystemd</B> looks for and installs files named
<I>debian/package.name.user.service</I> instead of the usual
<I>debian/package.user.service</I>.  Moreover, maintainer scripts are only
generated for units that match the given <I>name</I>.
<DT id="3"><B>--no-enable</B><DD>


Disable the service(s) on purge, but do not enable them on install.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>NOTES</H2>



This command is not idempotent. <B><A HREF="/cgi-bin/man/man2html?1+dh_prep">dh_prep</A></B>(1) should be called between
invocations of this command (with the same arguments). Otherwise, it
may cause multiple instances of the same text to be added to
maintainer scripts.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>



<B><A HREF="/cgi-bin/man/man2html?7+debhelper">debhelper</A></B>(7), <B><A HREF="/cgi-bin/man/man2html?1+dh_installsystemd">dh_installsystemd</A></B>(1), <B><A HREF="/cgi-bin/man/man2html?1+deb-systemd-helper">deb-systemd-helper</A></B>(1)
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>



<A HREF="mailto:pkg-systemd-maintainers@lists.alioth.debian.org">pkg-systemd-maintainers@lists.alioth.debian.org</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="4"><A HREF="#lbAB">NAME</A><DD>
<DT id="5"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="6"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="7"><A HREF="#lbAE">FILES</A><DD>
<DT id="8"><A HREF="#lbAF">OPTIONS</A><DD>
<DT id="9"><A HREF="#lbAG">NOTES</A><DD>
<DT id="10"><A HREF="#lbAH">SEE ALSO</A><DD>
<DT id="11"><A HREF="#lbAI">AUTHORS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:10 GMT, March 31, 2021
</BODY>
</HTML>
