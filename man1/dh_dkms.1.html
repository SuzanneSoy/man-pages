
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DH_DKMS</TITLE>
</HEAD><BODY>
<H1>DH_DKMS</H1>
Section: DKMS Debhelper (1)<BR>Updated: 2010-02-17<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

dh_dkms - correctly handle DKMS usage by a kernel module package
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>



<B>dh_dkms</B> [<I>debhelper&nbsp;options</I>] [<B>-l</B>] [<B>-V</B>[<I>version</I>]] [<B>--</B>&nbsp;<I>file</I>]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>



dh_dkms is a debhelper program that is responsible for correctly setting
postinst, postrm and dependencies in kernel module packages using <FONT SIZE="-1">DKMS</FONT>.
<P>

If a file named debian/package.dkms exists, then different actions are
performed, depending on its contents.
<A NAME="lbAE">&nbsp;</A>
<H2>FILES</H2>



<DL COMPACT>
<DT id="1">debian/<I>package</I>.dkms<DD>



<DT id="2">debian/dkms<DD>



It can be a proper configuration file, and in this case it would be installed
in the proper directory as dkms.conf.


<P>


It can also point to another file (this should be used when the configuration
is provided by upstream), and in this case that file will be installed as dkms.conf
in the proper directory.


<P>


This file can only miss if a filename is provided when calling dh_dkms.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS</H2>



<DL COMPACT>
<DT id="3"><B>-l</B>, <B>--legacy</B><DD>


Add code to also support <FONT SIZE="-1">DKMS</FONT> versions &lt; 2.1.0.0.
<DT id="4"><B>-V</B>, <B>-V</B> <I>version</I><DD>


If <TT>&quot;PACKAGE_VERSION&quot;</TT> in <I>dkms.conf</I> is set to <TT>&quot;#MODULE_VERSION#&quot;</TT>, set it to
the given <I>version</I> or, if none is given, default to the upstream version of
the current package. Otherwise, leave the value specified in <I>dkms.conf</I>.
<DT id="5"><B>--</B> <I>file</I><DD>


Don't look for debian/<I>package</I>.dkms or debian/dkms, but install <I>file</I> as dkms.conf.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>NOTES</H2>



Note that this command is not idempotent. <I><A HREF="/cgi-bin/man/man2html?1+dh_prep">dh_prep</A></I>(1) should be called
between invocations of this command. Otherwise, it may cause multiple
instances of the same text to be added to maintainer scripts.
<P>
IMPORTANT: binary packages using dh_dkms must have a name that ends in '-dkms'.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>



<I><A HREF="/cgi-bin/man/man2html?1+debhelper">debhelper</A></I>(1)
<P>

This program is part of the Debian <FONT SIZE="-1">DKMS</FONT> package.
<P>

<I><A HREF="/cgi-bin/man/man2html?8+dkms">dkms</A></I>(8)
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>



David Paleino &lt;<A HREF="mailto:dapal@debian.org">dapal@debian.org</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="6"><A HREF="#lbAB">NAME</A><DD>
<DT id="7"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="8"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="9"><A HREF="#lbAE">FILES</A><DD>
<DT id="10"><A HREF="#lbAF">OPTIONS</A><DD>
<DT id="11"><A HREF="#lbAG">NOTES</A><DD>
<DT id="12"><A HREF="#lbAH">SEE ALSO</A><DD>
<DT id="13"><A HREF="#lbAI">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:10 GMT, March 31, 2021
</BODY>
</HTML>
