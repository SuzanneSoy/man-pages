
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GIT-MULTI-PACK-IN</TITLE>
</HEAD><BODY>
<H1>GIT-MULTI-PACK-IN</H1>
Section: Git Manual (1)<BR>Updated: 03/04/2021<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

git-multi-pack-index - Write and verify multi-pack-indexes
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
<I>git multi-pack-index</I> [--object-dir=&lt;dir&gt;] [--[no-]progress] &lt;subcommand&gt;
</PRE>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
Write or verify a multi-pack-index (MIDX) file.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<P>

--object-dir=&lt;dir&gt;
<DL COMPACT><DT id="1"><DD>
Use given directory for the location of Git objects. We check
<B>&lt;dir&gt;/packs/multi-pack-index</B>
for the current MIDX file, and
<B>&lt;dir&gt;/packs</B>
for the pack-files to index.
</DL>

<P>

--[no-]progress
<DL COMPACT><DT id="2"><DD>
Turn progress on/off explicitly. If neither is specified, progress is shown if standard error is connected to a terminal.
</DL>

<P>
The following subcommands are available:
<P>

write
<DL COMPACT><DT id="3"><DD>
Write a new MIDX file.
</DL>

<P>

verify
<DL COMPACT><DT id="4"><DD>
Verify the contents of the MIDX file.
</DL>

<P>

expire
<DL COMPACT><DT id="5"><DD>
Delete the pack-files that are tracked by the MIDX file, but have no objects referenced by the MIDX. Rewrite the MIDX file afterward to remove all references to these pack-files.
</DL>

<P>

repack
<DL COMPACT><DT id="6"><DD>
Create a new pack-file containing objects in small pack-files referenced by the multi-pack-index. If the size given by the
<B>--batch-size=&lt;size&gt;</B>
argument is zero, then create a pack containing all objects referenced by the multi-pack-index. For a non-zero batch size, Select the pack-files by examining packs from oldest-to-newest, computing the &quot;expected size&quot; by counting the number of objects in the pack referenced by the multi-pack-index, then divide by the total number of objects in the pack and multiply by the pack size. We select packs with expected size below the batch size until the set of packs have total expected size at least the batch size. If the total size does not reach the batch size, then do nothing. If a new pack- file is created, rewrite the multi-pack-index to reference the new pack-file. A later run of
<I>git multi-pack-index expire</I>
will delete the pack-files that were part of this batch.
</DL>

<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>
<DL COMPACT><DT id="7"><DD>
&bull;


Write a MIDX file for the packfiles in the current .git folder.
<P>
<DL COMPACT><DT id="8"><DD>



<PRE>
$ git multi-pack-index write
</PRE>

</DL>




<P>
</DL>

<P>
<DL COMPACT><DT id="9"><DD>
&bull;


Write a MIDX file for the packfiles in an alternate object store.
<P>
<DL COMPACT><DT id="10"><DD>



<PRE>
$ git multi-pack-index --object-dir &lt;alt&gt; write
</PRE>

</DL>




<P>
</DL>

<P>
<DL COMPACT><DT id="11"><DD>
&bull;


Verify the MIDX file for the packfiles in the current .git folder.
<P>
<DL COMPACT><DT id="12"><DD>



<PRE>
$ git multi-pack-index verify
</PRE>

</DL>




<P>
</DL>

<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
See m[blue]<B>The Multi-Pack-Index Design Document</B>m[]<FONT SIZE="-2">[1]</FONT> and m[blue]<B>The Multi-Pack-Index Format</B>m[]<FONT SIZE="-2">[2]</FONT> for more information on the multi-pack-index feature.
<A NAME="lbAH">&nbsp;</A>
<H2>GIT</H2>

<P>
Part of the <B><A HREF="/cgi-bin/man/man2html?1+git">git</A></B>(1) suite
<A NAME="lbAI">&nbsp;</A>
<H2>NOTES</H2>

<DL COMPACT>
<DT id="13"> 1.<DD>
The Multi-Pack-Index Design Document
<DL COMPACT><DT id="14"><DD>
<A HREF="file:///usr/share/doc/git/html/technical/multi-pack-index.html">file:///usr/share/doc/git/html/technical/multi-pack-index.html</A>
</DL>

<DT id="15"> 2.<DD>
The Multi-Pack-Index Format
<DL COMPACT><DT id="16"><DD>
<A HREF="file:///usr/share/doc/git/html/technical/pack-format.html">file:///usr/share/doc/git/html/technical/pack-format.html</A>
</DL>

<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="17"><A HREF="#lbAB">NAME</A><DD>
<DT id="18"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="19"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="20"><A HREF="#lbAE">OPTIONS</A><DD>
<DT id="21"><A HREF="#lbAF">EXAMPLES</A><DD>
<DT id="22"><A HREF="#lbAG">SEE ALSO</A><DD>
<DT id="23"><A HREF="#lbAH">GIT</A><DD>
<DT id="24"><A HREF="#lbAI">NOTES</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:14 GMT, March 31, 2021
</BODY>
</HTML>
