
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of LINUX-CHECK-REMOVAL</TITLE>
</HEAD><BODY>
<H1>LINUX-CHECK-REMOVAL</H1>
Section: User Commands  (1)<BR>Updated: 6 June 2016<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

linux-check-removal - check whether removal of a kernel is safe
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<DL COMPACT>
<DT id="1">
<B>linux-check-removal</B><I>&nbsp;VERSION</I>

</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>linux-check-removal</B> is intended to be called from the prerm
<DD>maintainer scripts of Linux kernel packages.
<P>

The <I>VERSION</I> argument must be the kernel version string as shown by
<B>uname -r</B> and used in filenames.
<P>

If the currently running kernel matches <I>VERSION</I>,
<B>linux-check-removal</B> normally prompts the user to confirm
this potentially dangerous action and fails if the user chooses to
abort.  There are two exceptions to this behaviour:
<DL COMPACT>
<DT id="2">&bull;<DD>
If the current environment is a chroot or container, it is assumed
that the running kernel is independent of any installed kernel package
and the command always quietly succeeds
<DT id="3">&bull;<DD>
If debconf prompts are disabled, the command warns if removing the
running kernel but always succeeds
<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>ENVIRONMENT VARIABLES</H2>


<DL COMPACT>
<DT id="4"><I>DEBIAN_FRONTEND</I>

<DD>
Name of the preferred debconf front-end.  If set to
<I>noninteractive</I>, debconf prompts are disabled and
<B>linux-check-removal</B> always quietly succeeds.
<DT id="5"><I>DPKG_MAINTSCRIPT_PACKAGE</I>

<DD>
Name of the package to be removed, automatically set by dpkg.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>AUTHOR</H2>

<B>linux-check-removal</B> and this manual page were written by Ben
Hutchings as part of the Debian <B>linux-base</B> package.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="6"><A HREF="#lbAB">NAME</A><DD>
<DT id="7"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="8"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="9"><A HREF="#lbAE">ENVIRONMENT VARIABLES</A><DD>
<DT id="10"><A HREF="#lbAF">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:18 GMT, March 31, 2021
</BODY>
</HTML>
