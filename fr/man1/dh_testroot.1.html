
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DH_TESTROOT</TITLE>
</HEAD><BODY>
<H1>DH_TESTROOT</H1>
Section: Debhelper (1)<BR>Updated: 2020-03-27<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>






<A NAME="lbAB">&nbsp;</A>
<H2>NOM</H2>



dh_testroot - Vérifier que le paquet est construit avec les droits
nécessaires du superutilisateur (root)
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>



<B>dh_testroot</B> [<I>options_de_debhelper</I>]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>



<B>dh_testroot</B> is used to determine if the target is being run with suffient
access to root(-like) features.
<P>

La définition des accès suffisants dépend de comment le constructeur (celui
qui appelle la cible <I>debian/rules</I>) gère le champ
<I>Rules-Requires-Root</I> (R³). Si le constructeur prend en charge R³, il
positionnera la variable d'environnement <I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I> et
<B>dh_testroot</B> validera que le constructeur suit les recommandations
minimales pour la valeur donnée de <I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I>.
<P>

Si le constructeur ne prend pas en charge <I>Rules-Requires-Root</I>, il ne
positionnera pas la variable d'environnement
<I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I>. Cela conduira <B>dh_testroot</B> (et le reste de
debhelper) à considérer que (fake)root est impliqué.
<P>

Ce qui suit est un résumé du comportement de <B>dh_testroot</B> en fonction de
la variable d'environnement <I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I> (les espaces de début
et de fin dans la variable sont ignorées).
<DL COMPACT>
<DT id="1">-<DD>
Si la variable n'existe pas ou vaut <TT>&quot;binary-targets&quot;</TT>, <B>dh_testroot</B>
suppose qu'il est exécuté en tant que superutilisateur ou dans
<B><A HREF="/cgi-bin/man/man2html?1+fakeroot">fakeroot</A></B>(1).
<DT id="2">-<DD>
Si la variable vaut <TT>&quot;no&quot;</TT>, <B>dh_testroot</B> se terminera avec succès (sans
effectuer d'autres vérifications).
<DT id="3">-<DD>
Si la variable a une autre valeur que celles précédentes, <B>dh_testroot</B>
suppose qu'il est exécuté en tant que superutilisateur (ou dans
<B><A HREF="/cgi-bin/man/man2html?1+fakeroot">fakeroot</A></B>(1)), ou que le constructeur a fourni la variable d'environnement
<B></B><FONT SIZE="-1"><B>DEB_GAIN_ROOT_CMD</B></FONT><B></B> (par exemple grâce à dpkg-buildpackage -r).
</DL>
<P>

Veuillez noter que <B>dh_testroot</B> ne lit <I>pas</I> le champ
<I>Rules_Requires_Root</I>. Cela implique que <B>dh_testroot</B> pourrait produire
des résultats incorrects si le constructeur ment à
<I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I>. D'un autre côté, cela permet aussi des choses
comme le test de fonctionnement lorsque <I></I><FONT SIZE="-1"><I>DEB_RULES_REQUIRES_ROOT</I></FONT><I></I> est
positionné à une certaine valeur.
<A NAME="lbAE">&nbsp;</A>
<H2>VOIR AUSSI</H2>



<B><A HREF="/cgi-bin/man/man2html?7+debhelper">debhelper</A></B>(7)
<P>

Ce programme fait partie de debhelper.
<A NAME="lbAF">&nbsp;</A>
<H2>AUTEUR</H2>



Joey Hess &lt;<A HREF="mailto:joeyh@debian.org">joeyh@debian.org</A>&gt;
<A NAME="lbAG">&nbsp;</A>
<H2>TRADUCTION</H2>



Cette traduction est maintenue à l'aide de l'outil po4a
&lt;URL:<A HREF="http://po4a.alioth.debian.org/">http://po4a.alioth.debian.org/</A>&gt; par l'équipe francophone de traduction
de Debian.
<P>

Veuillez signaler toute erreur de traduction en écrivant à
&lt;<A HREF="mailto:debian-l10n-french@lists.debian.org">debian-l10n-french@lists.debian.org</A>&gt; ou par un rapport de bogue sur le paquet
debhelper.
<P>

Vous pouvez toujours avoir accès à la version anglaise de ce document en
utilisant la commande « man -L C &lt;section&gt; &lt;page_de_man&gt; ».
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="4"><A HREF="#lbAB">NOM</A><DD>
<DT id="5"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="6"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="7"><A HREF="#lbAE">VOIR AUSSI</A><DD>
<DT id="8"><A HREF="#lbAF">AUTEUR</A><DD>
<DT id="9"><A HREF="#lbAG">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:01 GMT, March 31, 2021
</BODY>
</HTML>
