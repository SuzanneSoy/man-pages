
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of TEMPFILE</TITLE>
</HEAD><BODY>
<H1>TEMPFILE</H1>
Section: User Commands  (1)<BR>Updated: 27 juin 2012<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOM</H2>

tempfile - Créer un fichier temporaire de façon sûre
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>tempfile</B> [<B>-d</B> <I>REP</I>] [<B>-p</B> <I>CHAÎNE</I>] [<B>-s</B> <I>CHAÎNE</I>] [<B>-m</B>
<I>MODE</I>] [<B>-n</B> <I>FICHIER</I>] [<B>--directory</B>=<I>REP</I>] [<B>--prefix</B>=<I>CHAÎNE</I>]
[<B>--suffix</B>=<I>CHAÎNE</I>] [<B>--mode</B>=<I>MODE</I>] [<B>--name</B>=<I>FICHIER</I>]
[<B>--help</B>] [<B>--version</B>]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

Le programme <B>tempfile</B> crée un fichier temporaire de façon sûre. Il
utilise <B><A HREF="/cgi-bin/man/man2html?3+mkstemps">mkstemps</A></B>(3) pour choisir un nom et l'ouvre dans le mode O_RDWR&nbsp;|
O_CREAT&nbsp;| O_EXCL. Le nom du fichier est affiché sur la sortie standard.
<P>

Une recherche peut être effectuée dans le répertoire où le fichier sera
créé, dans l'ordre suivant&nbsp;:
<DL COMPACT>
<DT id="1">a)<DD>
la variable d'environnement <B>TMPDIR</B> sera utilisée si elle existe et
contient le nom d'un répertoire approprié&nbsp;;
<DT id="2">b)<DD>
sinon, si l'option <I>--directory</I> est utilisée, le répertoire spécifié est
utilisé, à condition qu'il soit valide&nbsp;;
<DT id="3">c)<DD>
sinon, le répertoire <I>P_tmpdir</I> (tel que défini dans <I>&lt;<A HREF="file:///usr/include/stdio.h">stdio.h</A>&gt;</I>)
est utilisé s'il est valide&nbsp;;
<DT id="4">d)<DD>
enfin, un répertoire <I>(/tmp)</I> défini par l'implémentation peut être
utilisé&nbsp;;
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT id="5"><B>-d</B>, <B>--directory</B> <I>REP</I><DD>
place le fichier dans <I>REP</I>.
<DT id="6"><B>-m</B>, <B>--mode</B> <I>MODE</I><DD>
ouvre le fichier dans le mode <I>MODE</I> plutôt que 0600.
<DT id="7"><B>-n</B>, <B>--name</B> <I>FICHIER</I><DD>
utilise <I>FICHIER</I> comme nom plutôt que <B><A HREF="/cgi-bin/man/man2html?3+tempnam">tempnam</A></B>(3). Les options <B>-d</B>
<B>-p</B> et <B>-s</B> sont ignorées si cette option est utilisée.
<DT id="8"><B>-p</B>, <B>--prefix</B> <I>CHAÎNE</I><DD>
utilise jusqu'à cinq lettres de <I>CHAÎNE</I> pour générer le nom.
<DT id="9"><B>-s</B>, <B>--suffix</B> <I>CHAÎNE</I><DD>
génère le fichier en utilisant <I>CHAÎNE</I> comme suffixe.
<DT id="10"><B>--help</B><DD>
affiche un message d'aide sur la sortie standard, puis quitte sans erreur.
<DT id="11"><B>--version</B><DD>
affiche les informations sur la version, puis quitte sans erreur.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>VALEUR DE RETOUR</H2>

Une valeur de retour <B>0</B> signifie que le fichier a été créé avec
succès. Toute autre valeur de retour indique une erreur.
<A NAME="lbAG">&nbsp;</A>
<H2>BOGUES</H2>

Une création exclusive ([&nbsp;NdT&nbsp;: pour éviter toute situation de compétition,
ou «&nbsp;race condition&nbsp;»&nbsp;]) n'est pas garantie lorsque le fichier est créé sur
une partition NFS. tempfile ne peut pas créer de répertoire temporaire. Le
programme tempfile est obsolète. Il est conseillé d'utiliser <A HREF="/cgi-bin/man/man2html?1+mktemp">mktemp</A>(1) à la
place.
<A NAME="lbAH">&nbsp;</A>
<H2>EXEMPLES</H2>

<P>
<DL COMPACT><DT id="12"><DD>
<PRE>
#!/bin/sh
#[...]
t=$(tempfile) || exit
trap &quot;rm -f -- '$t'&quot; EXIT
#[...]
rm -f -- &quot;$t&quot;
trap - EXIT
exit
</PRE>

</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>VOIR AUSSI</H2>

<B><A HREF="/cgi-bin/man/man2html?3+tempnam">tempnam</A></B>(3), <B><A HREF="/cgi-bin/man/man2html?1+mktemp">mktemp</A></B>(1)
<A NAME="lbAJ">&nbsp;</A>
<H2>TRADUCTION</H2>

Ce document est une traduction, réalisée par Nicolas FRANÇOIS le
8 décembre 2005.
<P>
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité.
<P>
La version anglaise la plus à jour de ce document est toujours consultable
en ajoutant l'option « -L C » à la commande <B>man</B>.
<P>
N'hésitez pas à signaler à l'auteur ou à la liste de traduction

&lt;<I><A HREF="mailto:debian-l10-french@lists.debian.org">debian-l10-french@lists.debian.org</A></I>&gt;,

selon le cas, toute erreur dans cette page de manuel.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="13"><A HREF="#lbAB">NOM</A><DD>
<DT id="14"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="15"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="16"><A HREF="#lbAE">OPTIONS</A><DD>
<DT id="17"><A HREF="#lbAF">VALEUR DE RETOUR</A><DD>
<DT id="18"><A HREF="#lbAG">BOGUES</A><DD>
<DT id="19"><A HREF="#lbAH">EXEMPLES</A><DD>
<DT id="20"><A HREF="#lbAI">VOIR AUSSI</A><DD>
<DT id="21"><A HREF="#lbAJ">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:02 GMT, March 31, 2021
</BODY>
</HTML>
