
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of TEMPFILE</TITLE>
</HEAD><BODY>
<H1>TEMPFILE</H1>
Section: User Commands  (1)<BR>Updated: 27 de junio de 2012<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOMBRE</H2>

tempfile - Crea un fichero temporal de forma segura
<A NAME="lbAC">&nbsp;</A>
<H2>SINOPSIS</H2>

<B>tempfile</B> [-d DIRECTORIO] [-p CADENA] [-s CADENA] [-m MODO] [-n FICHERO]
[--directory=DIRECTORIO] [--prefix=CADENA] [--suffix=CADENA] [--mode=MODO]
[--name=FICHERO] [--help] [--version]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPCIÓN</H2>

<P>

<B>tempfile</B> creates a temporary file in a safe manner.  It uses
<B><A HREF="/cgi-bin/man/man2html?3+mkstemps">mkstemps</A></B>(3)  to choose the name and opens it with O_RDWR | O_CREAT |
O_EXCL.  The filename is printed on standard output.
<P>

The directory in which to create the file might be searched for in this
order:
<DL COMPACT>
<DT id="1">a)<DD>
Si existe la variable de entorno <B>TMPDIR</B>, y contiene el nombre de un
directorio adecuado, se utiliza.
<DT id="2">b)<DD>
En caso contrario, si se define el argumento <I>--directory</I>, y es adecuado,
se utiliza este.
<DT id="3">c)<DD>
De no ser así, se utiliza <I>P_tmpdir</I> (tal y como se define en
<I>&lt;<A HREF="file:///usr/include/stdio.h">stdio.h</A>&gt;</I>) cuando es apropiado.
<DT id="4">d)<DD>
Por último, se puede utilizar el directorio implementado <I>(/tmp)</I>.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>OPCIONES</H2>

<DL COMPACT>
<DT id="5"><B>-d, --directory </B><I>DIRECTORIO</I><DD>
Copia el fichero al DIRECTORIO.
<DT id="6"><B>-m, --mode </B><I>MODO</I><DD>
Utiliza el MODO para abrir el fichero, en lugar de 0600.
<DT id="7"><B>-n, --name </B><I>FICHERO</I><DD>
Utiliza el FICHERO para el nombre, en lugar de <B><A HREF="/cgi-bin/man/man2html?3+tempnam">tempnam</A></B>(3)<B>.</B> Si se
introduce esta opción, se ignoran las opciones «-d», «-p» y «-s».
<DT id="8"><B>-p, --prefix </B><I>CADENA</I><DD>
Utiliza hasta cinco letras de la CADENA para generar el nombre.
<DT id="9"><B>-s, --suffix </B><I>CADENA</I><DD>
Genera el fichero con la CADENA como sufijo.
<DT id="10"><B>--help</B><DD>
Muestra información de uso por la salida estándar y cierra con éxito.
<DT id="11"><B>--version</B><DD>
Muestra información de la versión por la salida estándar y cierra con éxito.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ESTADOS DE SALIDA</H2>

Un estado de salida cero significa que el fichero temporal ha sido creado
con éxito. Cualquier otro estado de salida indica un fallo.
<A NAME="lbAG">&nbsp;</A>
<H2>FALLOS</H2>

No se garantiza la creación exclusiva al crear ficheros en particiones
NFS. tempfile no puede crear directorios temporales. tempfile está obsoleto,
debe utilizar <A HREF="/cgi-bin/man/man2html?1+mktemp">mktemp</A>(1) en su lugar.
<A NAME="lbAH">&nbsp;</A>
<H2>EJEMPLO</H2>

<P>
<DL COMPACT><DT id="12"><DD>
<PRE>
#!/bin/sh
#[...]
t=$(tempfile) || exit
trap &quot;rm -f -- '$t'&quot; EXIT
#[...]
rm -f -- &quot;$t&quot;
trap - EXIT
exit
</PRE>

</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>VÉASE TAMBIÉN</H2>

<B><A HREF="/cgi-bin/man/man2html?3+tempnam">tempnam</A></B>(3), <B><A HREF="/cgi-bin/man/man2html?1+mktemp">mktemp</A></B>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="13"><A HREF="#lbAB">NOMBRE</A><DD>
<DT id="14"><A HREF="#lbAC">SINOPSIS</A><DD>
<DT id="15"><A HREF="#lbAD">DESCRIPCIÓN</A><DD>
<DT id="16"><A HREF="#lbAE">OPCIONES</A><DD>
<DT id="17"><A HREF="#lbAF">ESTADOS DE SALIDA</A><DD>
<DT id="18"><A HREF="#lbAG">FALLOS</A><DD>
<DT id="19"><A HREF="#lbAH">EJEMPLO</A><DD>
<DT id="20"><A HREF="#lbAI">VÉASE TAMBIÉN</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:04:59 GMT, March 31, 2021
</BODY>
</HTML>
