
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of FSCK.MINIX</TITLE>
</HEAD><BODY>
<H1>FSCK.MINIX</H1>
Section: System Administration (8)<BR>Updated: June 2015<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

fsck.minix - check consistency of Minix filesystem
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>fsck.minix</B>

[options]
<I>device</I>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>fsck.minix</B>

performs a consistency check for the Linux MINIX filesystem.
<P>

The program assumes the filesystem is quiescent.
<B>fsck.minix</B>

should not be used on a mounted device unless you can be sure nobody is
writing to it.  Remember that the kernel can write to device when it
searches for files.
<P>

The <I>device</I> name will usually have the following form:
<DL COMPACT><DT id="1"><DD>
<TABLE>
<TR VALIGN=top><TD>/dev/hda[1-63]</TD><TD>IDE disk 1<BR></TD></TR>
<TR VALIGN=top><TD>/dev/hdb[1-63]</TD><TD>IDE disk 2<BR></TD></TR>
<TR VALIGN=top><TD>/dev/sda[1-15]</TD><TD>SCSI disk 1<BR></TD></TR>
<TR VALIGN=top><TD>/dev/sdb[1-15]</TD><TD>SCSI disk 2<BR></TD></TR>
</TABLE>

</DL>

<P>

If the filesystem was changed, i.e., repaired, then
<B>fsck.minix</B>

will print &quot;FILE SYSTEM HAS CHANGED&quot; and will
<B><A HREF="/cgi-bin/man/man2html?2+sync">sync</A></B>(2)

three times before exiting.  There is
<I>no</I>

need to reboot after check.
<A NAME="lbAE">&nbsp;</A>
<H2>WARNING</H2>

<B>fsck.minix</B>

should
<B>not</B>

be used on a mounted filesystem.  Using
<B>fsck.minix</B>

on a mounted filesystem is very dangerous, due to the possibility that
deleted files are still in use, and can seriously damage a perfectly good
filesystem!  If you absolutely have to run
<B>fsck.minix</B>

on a mounted filesystem, such as the root filesystem, make sure nothing
is writing to the disk, and that no files are &quot;zombies&quot; waiting for
deletion.
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT id="2"><B>-l</B>, <B>--list</B><DD>
List all filenames.
<DT id="3"><B>-r</B>, <B>--repair</B><DD>
Perform interactive repairs.
<DT id="4"><B>-a</B>, <B>--auto</B><DD>
Perform automatic repairs.  This option implies
<B>--repair</B>

and serves to answer all of the questions asked with the default.  Note
that this can be extremely dangerous in the case of extensive filesystem
damage.
<DT id="5"><B>-v</B>, <B>--verbose</B><DD>
Be verbose.
<DT id="6"><B>-s</B>, <B>--super</B><DD>
Output super-block information.
<DT id="7"><B>-m</B>, <B>--uncleared</B><DD>
Activate MINIX-like &quot;mode not cleared&quot; warnings.
<DT id="8"><B>-f</B>, <B>--force</B><DD>
Force a filesystem check even if the filesystem was marked as valid.
Marking is done by the kernel when the filesystem is unmounted.
<DT id="9"><B>-V</B>, <B>--version</B><DD>
Display version information and exit.
<DT id="10"><B>-h</B>, <B>--help</B><DD>
Display help text and exit.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

There are numerous diagnostic messages.  The ones mentioned here are the
most commonly seen in normal usage.
<P>

If the device does not exist,
<B>fsck.minix</B>

will print &quot;unable to read super block&quot;.  If the device exists, but is not
a MINIX filesystem,
<B>fsck.minix</B>

will print &quot;bad magic number in super-block&quot;.
<A NAME="lbAH">&nbsp;</A>
<H2>EXIT CODES</H2>

The exit code returned by
<B>fsck.minix</B>

is the sum of the following:
<P>

<DL COMPACT><DT id="11"><DD>

<DL COMPACT>
<DT id="12"><B>0</B>

<DD>
No errors
<DT id="13"><B>3</B>

<DD>
Filesystem errors corrected, system should be rebooted if filesystem was
mounted
<DT id="14"><B>4</B>

<DD>
Filesystem errors left uncorrected
<DT id="15"><B>7</B>

<DD>
Combination of exit codes 3 and 4
<DT id="16"><B>8</B>

<DD>
Operational error
<DT id="17"><B>16</B>

<DD>
Usage or syntax error

</DL>
</DL>

<P>

<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>


Linus Torvalds

<BR>

Error code values by

Rik Faith

<BR>

Added support for filesystem valid flag:

Dr. Wettstein

<BR>

Check to prevent fsck of mounted filesystem added by

Daniel Quinlan

<BR>

Minix v2 fs support by

Andreas Schwab

updated by

Nicolai Langfeldt

<BR>

Portability patch by

Russell King

<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/cgi-bin/man/man2html?8+fsck">fsck</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+fsck.ext2">fsck.ext2</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+mkfs">mkfs</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+mkfs.ext2">mkfs.ext2</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+mkfs.minix">mkfs.minix</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+reboot">reboot</A></B>(8)

<A NAME="lbAK">&nbsp;</A>
<H2>AVAILABILITY</H2>

The fsck.minix command is part of the util-linux package and is available from

Linux Kernel Archive

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="18"><A HREF="#lbAB">NAME</A><DD>
<DT id="19"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="20"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="21"><A HREF="#lbAE">WARNING</A><DD>
<DT id="22"><A HREF="#lbAF">OPTIONS</A><DD>
<DT id="23"><A HREF="#lbAG">DIAGNOSTICS</A><DD>
<DT id="24"><A HREF="#lbAH">EXIT CODES</A><DD>
<DT id="25"><A HREF="#lbAI">AUTHORS</A><DD>
<DT id="26"><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT id="27"><A HREF="#lbAK">AVAILABILITY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:12 GMT, March 31, 2021
</BODY>
</HTML>
