
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of BLKZONE</TITLE>
</HEAD><BODY>
<H1>BLKZONE</H1>
Section: System Administration (8)<BR>Updated: February 2017<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

blkzone - run zone command on a device
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>blkzone</B>

<I>command</I>

[options]
<I>device</I>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>blkzone</B>

is used to run zone command on device that support the Zoned Block Commands
(ZBC) or Zoned-device ATA Commands (ZAC). The zones to operate on can be
specified using the offset, count and length options.
<P>

The
<I>device</I>

argument is the pathname of the block device.
<A NAME="lbAE">&nbsp;</A>
<H2>COMMANDS</H2>

<A NAME="lbAF">&nbsp;</A>
<H3>report</H3>

The command <B>blkzone report</B> is used to report device zone information.
<P>

By default, the command will report all zones from the start of the
block device. Options may be used to modify this behavior, changing the
starting zone or the size of the report, as explained below.
<P>
<B>Report output</B>

<TABLE>
<TR VALIGN=top><TD>start</TD><TD>Zone start sector<BR></TD></TR>
<TR VALIGN=top><TD>len</TD><TD>Zone length in number of sectors<BR></TD></TR>
<TR VALIGN=top><TD>wptr</TD><TD>Zone write pointer position<BR></TD></TR>
<TR VALIGN=top><TD>reset</TD><TD>Reset write pointer recommended<BR></TD></TR>
<TR VALIGN=top><TD>non-seq</TD><TD>Non-sequential write resources active<BR></TD></TR>
<TR VALIGN=top><TD>cond</TD><TD>Zone condition<BR></TD></TR>
<TR VALIGN=top><TD>type</TD><TD>Zone type<BR></TD></TR>
</TABLE>

<P>
<B>Zone conditions</B>

<TABLE>
<TR VALIGN=top><TD>cl</TD><TD>Closed<BR></TD></TR>
<TR VALIGN=top><TD>nw</TD><TD>Not write pointer<BR></TD></TR>
<TR VALIGN=top><TD>em</TD><TD>Empty<BR></TD></TR>
<TR VALIGN=top><TD>fu</TD><TD>Full<BR></TD></TR>
<TR VALIGN=top><TD>oe</TD><TD>Explicitly opened<BR></TD></TR>
<TR VALIGN=top><TD>oi</TD><TD>Implicitly opened<BR></TD></TR>
<TR VALIGN=top><TD>ol</TD><TD>Offline<BR></TD></TR>
<TR VALIGN=top><TD>ro</TD><TD>Read only<BR></TD></TR>
<TR VALIGN=top><TD>x?</TD><TD>Reserved conditions (should not be reported)<BR></TD></TR>
</TABLE>

<P>
<A NAME="lbAG">&nbsp;</A>
<H3>reset</H3>

The command <B>blkzone reset</B> is used to reset one or more zones. Unlike
<B><A HREF="/cgi-bin/man/man2html?8+sg_reset_wp">sg_reset_wp</A></B>(8),

this command operates from the block layer and can reset a range of zones.
<P>

By default, the command will operate from the zone at device 
sector 0 and reset all zones. Options may be used to modify this behavior
as well as specify the operation to be performed on the zone, as explained below.
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>OPTIONS</H2>

The
<I>offset</I>

and
<I>length</I>

option arguments may be followed by the multiplicative suffixes KiB (=1024),
MiB (=1024*1024), and so on for GiB, TiB, PiB, EiB, ZiB and YiB (the &quot;iB&quot; is
optional, e.g., &quot;K&quot; has the same meaning as &quot;KiB&quot;) or the suffixes
KB (=1000), MB (=1000*1000), and so on for GB, TB, PB, EB, ZB and YB.
Additionally, the 0x prefix can be used to specify <I>offset</I> and
<I>length</I> in hex.
<DL COMPACT>
<DT id="1"><B>-o</B>,<B> --offset </B><I>sector</I>

<DD>
The starting zone specified as a sector offset. The provided offset in sector
units (512 bytes) should match the start of a zone. The default value is zero.
<DT id="2"><B>-l</B>,<B> --length </B><I>sectors</I>

<DD>
The maximum number of sectors the command should operate on. The default value
is the number of sectors remaining after <I>offset</I>. This option cannot be
used together with the option <B>--count</B>.
<DT id="3"><B>-c</B>,<B> --count </B><I>count</I>

<DD>
The maximum number of zones the command should operate on. The default value
is the number of zones starting from <I>offset</I>. This option cannot be
used together with the option <B>--length</B>.
<DT id="4"><B>-v</B>,<B> --verbose</B>

<DD>
Display the number of zones returned in the report or the range of sectors
reset..
<DT id="5"><B>-V</B>,<B> --version</B>

<DD>
Display version information and exit.
<DT id="6"><B>-h</B>,<B> --help</B>

<DD>
Display help text and exit.
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHORS</H2>

<PRE>
Shaun Tancheff &lt;<A HREF="mailto:shaun@tancheff.com">shaun@tancheff.com</A>&gt;
Karel Zak &lt;<A HREF="mailto:kzak@redhat.com">kzak@redhat.com</A>&gt;
</PRE>

<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/cgi-bin/man/man2html?8+sg_rep_zones">sg_rep_zones</A></B>(8)

<A NAME="lbAK">&nbsp;</A>
<H2>AVAILABILITY</H2>

The blkzone command is part of the util-linux package and is available from

Linux Kernel Archive

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="7"><A HREF="#lbAB">NAME</A><DD>
<DT id="8"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="9"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="10"><A HREF="#lbAE">COMMANDS</A><DD>
<DL>
<DT id="11"><A HREF="#lbAF">report</A><DD>
<DT id="12"><A HREF="#lbAG">reset</A><DD>
</DL>
<DT id="13"><A HREF="#lbAH">OPTIONS</A><DD>
<DT id="14"><A HREF="#lbAI">AUTHORS</A><DD>
<DT id="15"><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT id="16"><A HREF="#lbAK">AVAILABILITY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:11 GMT, March 31, 2021
</BODY>
</HTML>
