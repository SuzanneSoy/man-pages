
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of E4CRYPT</TITLE>
</HEAD><BODY>
<H1>E4CRYPT</H1>
Section: Maintenance Commands (8)<BR>Updated: January 2020<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

e4crypt - ext4 filesystem encryption utility
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>e4crypt add_key -S </B>[<B> -k </B><I>keyring</I> ] [<B>-v</B>] [<B>-q</B>] [<B> -p </B><I>pad</I> ] [ <I>path</I> ... ]

<BR>

<B>e4crypt new_session</B>

<BR>

<B>e4crypt get_policy </B><I>path</I> ...

<BR>

<B>e4crypt set_policy </B>[<B> -p </B><I>pad</I> ] <I>policy path</I> ...

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>e4crypt</B>

performs encryption management for ext4 file systems.
<A NAME="lbAE">&nbsp;</A>
<H2>COMMANDS</H2>

<DL COMPACT>
<DT id="1"><B>e4crypt add_key </B>[<B>-vq</B>] [<B>-S</B><I> salt</I> ] [<B>-k </B><I>keyring</I> ] [<B> -p </B><I>pad</I> ] [ <I>path</I> ... ]

<DD>
Prompts the user for a passphrase and inserts it into the specified
keyring.  If no keyring is specified, e4crypt will use the session
keyring if it exists or the user session keyring if it does not.
<DT id="2"><DD>
The
<I>salt</I>

argument is interpreted in a number of different ways, depending on how
its prefix value.  If the first two characters are &quot;s:&quot;, then the rest
of the argument will be used as an text string and used as the salt
value.  If the first two characters are &quot;0x&quot;, then the rest of the
argument will be parsed as a hex string as used as the salt.  If the
first characters are &quot;f:&quot; then the rest of the argument will be
interpreted as a filename from which the salt value will be read.  If
the string begins with a '/' character, it will similarly be treated as
filename.  Finally, if the
<I>salt</I>

argument can be parsed as a valid UUID, then the UUID value will be used
as a salt value.
<DT id="3"><DD>
The
<I>keyring</I>

argument specifies the keyring to which the key should be added.
<DT id="4"><DD>
The
<I>pad</I>

value specifies the number of bytes of padding will be added to
directory names for obfuscation purposes.  Valid
<I>pad</I>

values are 4, 8, 16, and 32.
<DT id="5"><DD>
If one or more directory paths are specified, e4crypt will try to
set the policy of those directories to use the key just added by the
<B>add_key</B>

command.
<DT id="6"><B>e4crypt get_policy </B><I>path</I> ...

<DD>
Print the policy for the directories specified on the command line.
<DT id="7"><B>e4crypt new_session</B>

<DD>
Give the invoking process (typically a shell) a new session keyring,
discarding its old session keyring.
<DT id="8"><B>e4crypt set_policy </B>[<B> -p </B><I>pad</I> ] <I>policy path</I> ...

<DD>
Sets the policy for the directories specified on the command line.
All directories must be empty to set the policy; if the directory
already has a policy established, e4crypt will validate that the
policy matches what was specified.  A policy is an encryption key
identifier consisting of 16 hexadecimal characters.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>AUTHOR</H2>

Written by Michael Halcrow &lt;<A HREF="mailto:mhalcrow@google.com">mhalcrow@google.com</A>&gt;, Ildar Muslukhov
&lt;<A HREF="mailto:muslukhovi@gmail.com">muslukhovi@gmail.com</A>&gt;, and Theodore Ts'o &lt;<A HREF="mailto:tytso@mit.edu">tytso@mit.edu</A>&gt;
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/cgi-bin/man/man2html?1+keyctl">keyctl</A></B>(1),

<B><A HREF="/cgi-bin/man/man2html?8+mke2fs">mke2fs</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+mount">mount</A></B>(8).

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="9"><A HREF="#lbAB">NAME</A><DD>
<DT id="10"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="11"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="12"><A HREF="#lbAE">COMMANDS</A><DD>
<DT id="13"><A HREF="#lbAF">AUTHOR</A><DD>
<DT id="14"><A HREF="#lbAG">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:12 GMT, March 31, 2021
</BODY>
</HTML>
