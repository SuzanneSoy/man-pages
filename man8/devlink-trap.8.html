
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DEVLINK-TRAP</TITLE>
</HEAD><BODY>
<H1>DEVLINK-TRAP</H1>
Section: Linux (8)<BR>Updated: 2 August 2019<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

devlink-trap - devlink trap configuration
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>


<BR>

<B>devlink</B>

[ <I>OPTIONS</I> ]

<B>trap</B>

{ <I>COMMAND</I> |

<B>help</B> }

<P>
<P>
<BR>

<I>OPTIONS</I> := { 

<B>-v</B>[<I>erbose</I>] |
<B>-s</B>[<I>tatistics</I>] }
<P>
<BR>

<B>devlink trap show</B>

[ <I>DEV</I>

<B>trap</B>

<I>TRAP</I> ]

<P>
<BR>

<B>devlink trap set </B><I>DEV</I><B> trap </B><I>TRAP</I>

[ <B>action</B> { <B>trap</B> | <B>drop</B> } ]

<P>
<BR>

<B>devlink trap group show</B>

[ <I>DEV</I>

<B>group</B>

<I>GROUP</I> ]

<P>
<BR>

<B>devlink trap group set </B><I>DEV</I><B> group </B><I>GROUP</I>

[ <B>action</B> { <B>trap</B> | <B>drop</B> } ]

<P>
<BR>

<B>devlink trap help</B>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="lbAE">&nbsp;</A>
<H3>devlink trap show - display available packet traps and their attributes</H3>

<P>
<P>

<I>DEV</I>

- specifies the devlink device from which to show packet traps.
If this argument is omitted all packet traps of all devices are listed.
<P>
<P>

<B>trap </B><I>TRAP</I>

- specifies the packet trap.
Only applicable if a devlink device is also specified.
<P>
<A NAME="lbAF">&nbsp;</A>
<H3>devlink trap set - set attributes of a packet trap</H3>

<P>
<P>

<I>DEV</I>

- specifies the devlink device the packet trap belongs to.
<P>
<P>

<B>trap </B><I>TRAP</I>

- specifies the packet trap.
<P>
<DL COMPACT>
<DT id="1"><B>action</B> { <B>trap</B> | <B>drop</B> } 

<DD>
packet trap action.
<P>
<I>trap</I>

- the sole copy of the packet is sent to the CPU.
<P>
<I>drop</I>

- the packet is dropped by the underlying device and a copy is not sent to the CPU.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3>devlink trap group show - display available packet trap groups and their attributes</H3>

<P>
<P>

<I>DEV</I>

- specifies the devlink device from which to show packet trap groups.
If this argument is omitted all packet trap groups of all devices are listed.
<P>
<P>

<B>group </B><I>GROUP</I>

- specifies the packet trap group.
Only applicable if a devlink device is also specified.
<P>
<A NAME="lbAH">&nbsp;</A>
<H3>devlink trap group set - set attributes of a packet trap group</H3>

<P>
<P>

<I>DEV</I>

- specifies the devlink device the packet trap group belongs to.
<P>
<P>

<B>group </B><I>GROUP</I>

- specifies the packet trap group.
<P>
<DL COMPACT>
<DT id="2"><B>action</B> { <B>trap</B> | <B>drop</B> } 

<DD>
packet trap action. The action is set for all the packet traps member in the
trap group. The actions of non-drop traps cannot be changed and are thus
skipped.
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

devlink trap show
<DL COMPACT><DT id="3"><DD>
List available packet traps.
</DL>

<P>

devlink trap group show
<DL COMPACT><DT id="4"><DD>
List available packet trap groups.
</DL>

<P>

devlink -vs trap show pci/0000:01:00.0 trap source_mac_is_multicast
<DL COMPACT><DT id="5"><DD>
Show attributes and statistics of a specific packet trap.
</DL>

<P>

devlink -s trap group show pci/0000:01:00.0 group l2_drops
<DL COMPACT><DT id="6"><DD>
Show attributes and statistics of a specific packet trap group.
</DL>

<P>

devlink trap set pci/0000:01:00.0 trap source_mac_is_multicast action trap
<DL COMPACT><DT id="7"><DD>
Set the action of a specific packet trap to 'trap'.
</DL>

<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/cgi-bin/man/man2html?8+devlink">devlink</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+devlink-dev">devlink-dev</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+devlink-monitor">devlink-monitor</A></B>(8),

<BR>

<P>
<A NAME="lbAK">&nbsp;</A>
<H2>AUTHOR</H2>

Ido Schimmel &lt;<A HREF="mailto:idosch@mellanox.com">idosch@mellanox.com</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="8"><A HREF="#lbAB">NAME</A><DD>
<DT id="9"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="10"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT id="11"><A HREF="#lbAE">devlink trap show - display available packet traps and their attributes</A><DD>
<DT id="12"><A HREF="#lbAF">devlink trap set - set attributes of a packet trap</A><DD>
<DT id="13"><A HREF="#lbAG">devlink trap group show - display available packet trap groups and their attributes</A><DD>
<DT id="14"><A HREF="#lbAH">devlink trap group set - set attributes of a packet trap group</A><DD>
</DL>
<DT id="15"><A HREF="#lbAI">EXAMPLES</A><DD>
<DT id="16"><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT id="17"><A HREF="#lbAK">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:11 GMT, March 31, 2021
</BODY>
</HTML>
