
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of IP-LINK</TITLE>
</HEAD><BODY>
<H1>IP-LINK</H1>
Section: Linux (8)<BR>Updated: 13 Dec 2012<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ip-link - network device configuration
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>


<BR>

<B>ip link</B>

 { <I>COMMAND</I> | 

<B>help</B> }

<P>
<P>
<BR>

<B>ip link add</B>

[ <B>link</B>

<I>DEVICE</I> ]

[ <B>name</B> ]

<I>NAME</I>

<BR>

[ <B>txqueuelen</B>

<I>PACKETS</I> ]

<BR>

[ <B>address</B>

<I>LLADDR</I> ]

[ <B>broadcast</B>

<I>LLADDR</I> ]

<BR>

[ <B>mtu</B>

<I>MTU</I> ]

[ <B>index</B>

<I>IDX</I> ]

<BR>

[ <B>numtxqueues</B>

<I>QUEUE_COUNT</I> ]

[ <B>numrxqueues</B>

<I>QUEUE_COUNT</I> ]

<BR>

<B>[ </B>gso_max_size

<I>BYTES</I> ]

[ <B>gso_max_segs</B>

<I>SEGMENTS</I> ]

<BR>

<B>type</B><I> TYPE</I>

[ <I>ARGS</I> ]

<P>
<BR>

<B>ip link delete </B>{

<I>DEVICE</I> | 

<B>group </B><I>GROUP</I>

}
<B>type</B><I> TYPE</I>

[ <I>ARGS</I> ]

<P>
<BR>

<B>ip link set </B>{

<I>DEVICE</I> | 

<B>group </B><I>GROUP</I>

}
<BR>

[ { <B>up</B> | <B>down</B> } ]

<BR>

[ <B>type</B>

<I>ETYPE TYPE_ARGS</I> ]

<BR>

[ <B>arp</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>dynamic</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>multicast</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>allmulticast</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>promisc</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>protodown</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>trailers</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>txqueuelen</B>

<I>PACKETS</I> ]

<BR>

[ <B>name</B>

<I>NEWNAME</I> ]

<BR>

[ <B>address</B>

<I>LLADDR</I> ]

<BR>

[ <B>broadcast</B>

<I>LLADDR</I> ]

<BR>

[ <B>mtu</B>

<I>MTU</I> ]

<BR>

[ <B>netns</B> {

<I>PID</I> | <I>NETNSNAME</I> } ]

<BR>

[ <B>link-netnsid</B>

<I>ID</I> ]

<BR>

[ <B>alias</B>

<I>NAME</I> ]

<BR>

[ <B>vf</B>

<I>NUM</I> [

<B>mac</B>

<I>LLADDR</I> ]

<BR>


[ <I>VFVLAN-LIST</I> ]

<BR>

[ <B>rate</B>

<I>TXRATE</I> ]

<BR>

[ <B>max_tx_rate</B>

<I>TXRATE</I> ]

<BR>

[ <B>min_tx_rate</B>

<I>TXRATE</I> ]

<BR>

[ <B>spoofchk</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>query_rss</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>state</B> { <B>auto</B> | <B>enable</B> | <B>disable</B> } ]

<BR>

[ <B>trust</B> { <B>on</B> | <B>off</B> } ]

<BR>

[ <B>node_guid</B> eui64 ]

<BR>

[ <B>port_guid</B> eui64 ] ]

<BR>


[ { <B>xdp</B> | <B>xdpgeneric</B> | <B>xdpdrv</B> | <B>xdpoffload</B> } { <B>off</B> | 

<BR>


<B>object</B>

<I>FILE</I>

[ <B>section</B>

<I>NAME</I> ]

[ <B>verbose</B> ] |

<BR>

<B>pinned</B>

<I>FILE</I> } ]

<BR>


[ <B>master</B>

<I>DEVICE</I> ]

<BR>

[ <B>nomaster</B> ]

<BR>

[ <B>vrf</B>

<I>NAME</I> ]

<BR>

[ <B>addrgenmode</B> { <B>eui64</B> | <B>none</B> | <B>stable_secret</B> | <B>random</B> } ]

<BR>

[ <B>macaddr</B>

[ <I>MACADDR</I> ]

<BR>


[ { <B>flush</B> | <B>add</B> | <B>del</B> } 

<I>MACADDR</I> ]

<BR>

[ <B>set</B>

<I>MACADDR</I> ] ]

<BR>

<P>
<BR>

<B>ip link show</B>

[ <I>DEVICE</I> | 

<B>group</B>

<I>GROUP</I> ] [

<B>up</B> ] [

<B>master</B>

<I>DEVICE</I> ] [

<B>type</B>

<I>ETYPE</I> ] [

<B>vrf</B>

<I>NAME</I> ]

<P>
<BR>

<B>ip link xstats</B>

<B>type</B><I> TYPE</I>

[ <I>ARGS</I> ]

<P>
<BR>

<B>ip link afstats</B>

[ <B>dev</B>

<I>DEVICE</I> ]

<P>
<BR>

<B>ip link help</B>

[ <I>TYPE</I> ]

<P>
<BR>

<I>TYPE</I> := [ 

<B>bridge</B> | 

<B>bond</B> | 

<B>can</B> | 

<B>dummy</B> | 

<B>hsr</B> | 

<B>ifb</B> | 

<B>ipoib</B> |

<B>macvlan</B> | 

<B>macvtap</B> | 

<B>vcan</B> | 

<B>vxcan</B> | 

<B>veth</B> | 

<B>vlan</B> | 

<B>vxlan</B> |

<B>ip6tnl</B> |

<B>ipip</B> |

<B>sit</B> |

<B>gre</B> |

<B>gretap</B> |

<B>erspan</B> |

<B>ip6gre</B> |

<B>ip6gretap</B> |

<B>ip6erspan</B> |

<B>vti</B> |

<B>nlmon</B> |

<B>ipvlan</B> |

<B>ipvtap</B> |

<B>lowpan</B> |

<B>geneve</B> |

<B>vrf</B> |

<B>macsec</B> |

<B>netdevsim</B> |

<B>rmnet</B> |

<B>xfrm</B> ]

<P>
<BR>

<I>ETYPE</I> := [ <I>TYPE</I> |

<B>bridge_slave</B> | <B>bond_slave</B> ]

<P>
<BR>

<I>VFVLAN-LIST</I> := [ <I>VFVLAN-LIST</I> ] <I>VFVLAN</I>

<P>
<BR>

<I>VFVLAN</I> := 

[ <B>vlan</B>

<I>VLANID</I> [ 

<B>qos</B>

<I>VLAN-QOS</I> ] [

<B>proto</B>

<I>VLAN-PROTO</I> ] ]


<P>
<BR>

<B>ip link property add</B>

[ <B>altname</B>

<I>NAME</I> .. ]

<P>
<BR>

<B>ip link property del</B>

[ <B>altname</B>

<I>NAME</I> .. ]

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="lbAE">&nbsp;</A>
<H3>ip link add - add virtual link</H3>

<P>
<DL COMPACT>
<DT id="1"><B>link</B><I> DEVICE </I>

<DD>
specifies the physical device to act operate on.
<P>
<I>NAME</I>

specifies the name of the new virtual device.
<P>
<I>TYPE</I>

specifies the type of the new device.
<P>
Link types:
<P>

<B>bridge</B>

- Ethernet Bridge device
<P>
<B>bond</B>

- Bonding device
<P>
<B>dummy</B>

- Dummy network interface
<P>
<B>hsr</B>

- High-availability Seamless Redundancy device
<P>
<B>ifb</B>

- Intermediate Functional Block device
<P>
<B>ipoib</B>

- IP over Infiniband device
<P>
<B>macvlan</B>

- Virtual interface base on link layer address (MAC)
<P>
<B>macvtap</B>

- Virtual interface based on link layer address (MAC) and TAP.
<P>
<B>vcan</B>

- Virtual Controller Area Network interface
<P>
<B>vxcan</B>

- Virtual Controller Area Network tunnel interface
<P>
<B>veth</B>

- Virtual ethernet interface
<P>
<B>vlan</B>

- 802.1q tagged virtual LAN interface
<P>
<B>vxlan</B>

- Virtual eXtended LAN
<P>
<B>ip6tnl</B>

- Virtual tunnel interface IPv4|IPv6 over IPv6
<P>
<B>ipip</B>

- Virtual tunnel interface IPv4 over IPv4
<P>
<B>sit</B>

- Virtual tunnel interface IPv6 over IPv4
<P>
<B>gre</B>

- Virtual tunnel interface GRE over IPv4
<P>
<B>gretap</B>

- Virtual L2 tunnel interface GRE over IPv4
<P>
<B>erspan</B>

- Encapsulated Remote SPAN over GRE and IPv4
<P>
<B>ip6gre</B>

- Virtual tunnel interface GRE over IPv6
<P>
<B>ip6gretap</B>

- Virtual L2 tunnel interface GRE over IPv6
<P>
<B>ip6erspan</B>

- Encapsulated Remote SPAN over GRE and IPv6
<P>
<B>vti</B>

- Virtual tunnel interface
<P>
<B>nlmon</B>

- Netlink monitoring device
<P>
<B>ipvlan</B>

- Interface for L3 (IPv6/IPv4) based VLANs
<P>
<B>ipvtap</B>

- Interface for L3 (IPv6/IPv4) based VLANs and TAP
<P>
<B>lowpan</B>

- Interface for 6LoWPAN (IPv6) over IEEE 802.15.4 / Bluetooth
<P>
<B>geneve</B>

- GEneric NEtwork Virtualization Encapsulation
<P>
<B>macsec</B>

- Interface for IEEE 802.1AE MAC Security (MACsec)
<P>
<B>vrf</B>

- Interface for L3 VRF domains
<P>
<B>netdevsim</B>

- Interface for netdev API tests
<P>
<B>rmnet</B>

- Qualcomm rmnet device
<P>
<B>xfrm</B>

- Virtual xfrm interface

<P>
<DT id="2"><B>numtxqueues</B><I> QUEUE_COUNT </I>

<DD>
specifies the number of transmit queues for new device.
<P>
<DT id="3"><B>numrxqueues</B><I> QUEUE_COUNT </I>

<DD>
specifies the number of receive queues for new device.
<P>
<DT id="4"><B>gso_max_size</B><I> BYTES </I>

<DD>
specifies the recommended maximum size of a Generic Segment Offload
packet the new device should accept.
<P>
<DT id="5"><B>gso_max_segs</B><I> SEGMENTS </I>

<DD>
specifies the recommended maximum number of a Generic Segment Offload
segments the new device should accept.
<P>
<DT id="6"><B>index</B><I> IDX </I>

<DD>
specifies the desired index of the new virtual device. The link
creation fails, if the index is busy.
<P>
<DT id="7">VLAN Type Support<DD>
For a link of type
<I>VLAN</I>

the following additional arguments are supported:
<P>
<B>ip link add</B>

<B>link</B><I> DEVICE </I>

<B>name</B><I> NAME </I>

<B>type vlan</B>

[
<B>protocol</B><I> VLAN_PROTO </I>

]
<B>id</B><I> VLANID </I>

[
<B>reorder_hdr</B> { <B>on</B> | <B>off</B> } 

]
[
<B>gvrp</B> { <B>on</B> | <B>off</B> } 

]
[
<B>mvrp</B> { <B>on</B> | <B>off</B> } 

]
[
<B>loose_binding</B> { <B>on</B> | <B>off</B> } 

]
[
<B>bridge_binding</B> { <B>on</B> | <B>off</B> } 

]
[
<B>ingress-qos-map</B><I> QOS-MAP </I>

]
[
<B>egress-qos-map</B><I> QOS-MAP </I>

]
<P>

<P>
<B>protocol</B><I> VLAN_PROTO </I>

- either 802.1Q or 802.1ad.
<P>
<B>id</B><I> VLANID </I>

- specifies the VLAN Identifer to use. Note that numbers with a leading &quot; 0 &quot; or &quot; 0x &quot; are interpreted as octal or hexadeimal, respectively.
<P>
<B>reorder_hdr</B> { <B>on</B> | <B>off</B> } 

- specifies whether ethernet headers are reordered or not (default is
<B>on</B>).

<P>

If
<B>reorder_hdr</B> is <B>on</B>

then VLAN header will be not inserted immediately but only before
passing to the physical device (if this device does not support VLAN
offloading), the similar on the RX direction - by default the packet
will be untagged before being received by VLAN device. Reordering
allows to accelerate tagging on egress and to hide VLAN header on
ingress so the packet looks like regular Ethernet packet, at the same
time it might be confusing for packet capture as the VLAN header does
not exist within the packet.
<P>
VLAN offloading can be checked by
<B><A HREF="/cgi-bin/man/man2html?8+ethtool">ethtool</A></B>(8):


<P>
<B>ethtool -k</B>

&lt;phy_dev&gt; |
grep<B> tx-vlan-offload</B>

<P>

where &lt;phy_dev&gt; is the physical device to which VLAN device is bound.

<P>
<B>gvrp</B> { <B>on</B> | <B>off</B> } 

- specifies whether this VLAN should be registered using GARP VLAN
<BR>&nbsp;&nbsp;Registration&nbsp;Protocol.
<P>
<B>mvrp</B> { <B>on</B> | <B>off</B> } 

- specifies whether this VLAN should be registered using Multiple VLAN
<BR>&nbsp;&nbsp;Registration&nbsp;Protocol.
<P>
<B>loose_binding</B> { <B>on</B> | <B>off</B> } 

- specifies whether the VLAN device state is bound to the physical device state.
<P>
<B>bridge_binding</B> { <B>on</B> | <B>off</B> } 

- specifies whether the VLAN device link state tracks the state of bridge ports
that are members of the VLAN.
<P>
<B>ingress-qos-map</B><I> QOS-MAP </I>

- defines a mapping of VLAN header prio field to the Linux internal packet
priority on incoming frames. The format is FROM:TO with multiple mappings
separated by spaces.
<P>
<B>egress-qos-map</B><I> QOS-MAP </I>

- defines a mapping of Linux internal packet priority to VLAN header prio field
but for outgoing frames. The format is the same as for ingress-qos-map.

<P>
Linux packet priority can be set by
<B><A HREF="/cgi-bin/man/man2html?8+iptables">iptables</A></B>(8):


<P>
<B>iptables</B>

-t mangle -A POSTROUTING [...] -j CLASSIFY --set-class 0:4
<P>

and this &quot;4&quot; priority can be used in the egress qos mapping to set
VLAN prio &quot;5&quot;:
<P>

<B>ip</B>

link set veth0.10 type vlan egress 4:5



<P>
<DT id="8">VXLAN Type Support<DD>
For a link of type
<I>VXLAN</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B><I> vxlan </I><B>id</B><I> VNI</I>

[
<B>dev</B><I> PHYS_DEV </I>

 ] [ { <B>group</B> | <B>remote</B> } 

<I>IPADDR</I>

] [
<B>local</B>

{ IPADDR<I> | any</I> } 

] [
<B>ttl</B><I> TTL </I>

] [
<B>tos</B><I> TOS </I>

] [
<B>df</B><I> DF </I>

] [
<B>flowlabel</B><I> FLOWLABEL </I>

] [
<B>dstport</B><I> PORT </I>

] [
<B>srcport</B><I> MIN MAX </I>

] [
[<B>no</B>]<B>learning</B>

] [
[<B>no</B>]<B>proxy</B>

] [
[<B>no</B>]<B>rsc</B>

] [
[<B>no</B>]<B>l2miss</B>

] [
[<B>no</B>]<B>l3miss</B>

] [
[<B>no</B>]<B>udpcsum</B>

] [
[<B>no</B>]<B>udp6zerocsumtx</B>

] [
[<B>no</B>]<B>udp6zerocsumrx</B>

] [
<B>ageing</B><I> SECONDS </I>

] [
<B>maxaddress</B><I> NUMBER </I>

] [
[<B>no</B>]<B>external</B>

] [
<B>gbp</B>

] [
<B>gpe</B>

]
<P>

<P>
<B>id</B><I> VNI </I>

- specifies the VXLAN Network Identifer (or VXLAN Segment
Identifier) to use.
<P>
<B>dev</B><I> PHYS_DEV</I>

- specifies the physical device to use for tunnel endpoint communication.
<P>
<P>
<B>group</B><I> IPADDR</I>

- specifies the multicast IP address to join.
This parameter cannot be specified with the
<B>remote</B>

parameter.
<P>
<P>
<B>remote</B><I> IPADDR</I>

- specifies the unicast destination IP address to use in outgoing packets
when the destination link layer address is not known in the VXLAN device
forwarding database. This parameter cannot be specified with the
<B>group</B>

parameter.
<P>
<P>
<B>local</B><I> IPADDR</I>

- specifies the source IP address to use in outgoing packets.
<P>
<P>
<B>ttl</B><I> TTL</I>

- specifies the TTL value to use in outgoing packets.
<P>
<P>
<B>tos</B><I> TOS</I>

- specifies the TOS value to use in outgoing packets.
<P>
<P>
<B>df</B><I> DF</I>

- specifies the usage of the Don't Fragment flag (DF) bit in outgoing packets
with IPv4 headers. The value
<B>inherit</B>

causes the bit to be copied from the original IP header. The values
<B>unset</B>

and
<B>set</B>

cause the bit to be always unset or always set, respectively. By default, the
bit is not set.
<P>
<P>
<B>flowlabel</B><I> FLOWLABEL</I>

- specifies the flow label to use in outgoing packets.
<P>
<P>
<B>dstport</B><I> PORT</I>

- specifies the UDP destination port to communicate to the remote
<BR>&nbsp;&nbsp;VXLAN&nbsp;tunnel&nbsp;endpoint.
<P>
<P>
<B>srcport</B><I> MIN MAX</I>

- specifies the range of port numbers to use as UDP
source ports to communicate to the remote VXLAN tunnel endpoint.
<P>
<P>
[<B>no</B>]<B>learning</B>

- specifies if unknown source link layer addresses and IP addresses
are entered into the VXLAN device forwarding database.
<P>
<P>
[<B>no</B>]<B>rsc</B>

- specifies if route short circuit is turned on.
<P>
<P>
[<B>no</B>]<B>proxy</B>

- specifies ARP proxy is turned on.
<P>
<P>
[<B>no</B>]<B>l2miss</B>

- specifies if netlink LLADDR miss notifications are generated.
<P>
<P>
[<B>no</B>]<B>l3miss</B>

- specifies if netlink IP ADDR miss notifications are generated.
<P>
<P>
[<B>no</B>]<B>udpcsum</B>

- specifies if UDP checksum is calculated for transmitted packets over IPv4.
<P>
<P>
[<B>no</B>]<B>udp6zerocsumtx</B>

- skip UDP checksum calculation for transmitted packets over IPv6.
<P>
<P>
[<B>no</B>]<B>udp6zerocsumrx</B>

- allow incoming UDP packets over IPv6 with zero checksum field.
<P>
<P>
<B>ageing</B><I> SECONDS</I>

- specifies the lifetime in seconds of FDB entries learnt by the kernel.
<P>
<P>
<B>maxaddress</B><I> NUMBER</I>

- specifies the maximum number of FDB entries.
<P>
<P>
[<B>no</B>]<B>external</B>

- specifies whether an external control plane
(e.g. <B>ip route encap</B>)

or the internal FDB should be used.
<P>
<P>
<B>gbp</B>

- enables the Group Policy extension (VXLAN-GBP).
<P>

Allows to transport group policy context across VXLAN network peers.
If enabled, includes the mark of a packet in the VXLAN header for outgoing
packets and fills the packet mark based on the information found in the
VXLAN header for incoming packets.
<P>
Format of upper 16 bits of packet mark (flags);
<P>

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<BR>

|-|-|-|-|-|-|-|-|-|D|-|-|A|-|-|-|
<BR>

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<P>
<B>D :=</B>

Don't Learn bit. When set, this bit indicates that the egress
VTEP MUST NOT learn the source address of the encapsulated frame.
<P>
<B>A :=</B>

Indicates that the group policy has already been applied to
this packet. Policies MUST NOT be applied by devices when the A bit is set.

<P>
Format of lower 16 bits of packet mark (policy ID):
<P>

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<BR>

|        Group Policy ID        |
<BR>

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

<P>
Example:
<BR>&nbsp;&nbsp;iptables&nbsp;-A&nbsp;OUTPUT&nbsp;[...]&nbsp;-j&nbsp;MARK&nbsp;--set-mark&nbsp;0x800FF
<P>

<P>
<P>
<B>gpe</B>

- enables the Generic Protocol extension (VXLAN-GPE). Currently, this is
only supported together with the
<B>external</B>

keyword.
<P>

<P>
<DT id="9">VETH, VXCAN Type Support<DD>
For a link of types
<I>VETH/VXCAN</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B> { <B>veth</B> | <B>vxcan</B> }

[
<B>peer</B>

<B>name </B><I>NAME</I>

]
<P>

<P>
<B>peer</B>

<B>name </B><I>NAME</I>

- specifies the virtual pair device name of the
<I>VETH/VXCAN</I>

tunnel.
<P>

<P>
<DT id="10">IPIP, SIT Type Support<DD>
For a link of type
<I>IPIP</I>or<I>SIT</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B> { <B>ipip</B> | <B>sit</B> }

<B> remote </B><I>ADDR</I><B> local </B><I>ADDR</I>

[
<B>encap</B> { <B>fou</B> | <B>gue</B> | <B>none</B> }

] [
<B>encap-sport</B> { <B></B><I>PORT</I> | <B>auto</B> }

] [
<B>encap-dport </B><I>PORT</I>

] [
[<B>no</B>]<B>encap-csum</B>

] [
<I> [no]encap-remcsum </I>

] [
<I> mode  { ip6ip | ipip | mplsip | any } </I>

] [
<B>external</B>

]
<P>

<P>
<B>remote</B><I> ADDR </I>

- specifies the remote address of the tunnel.
<P>
<P>
<B>local</B><I> ADDR </I>

- specifies the fixed local address for tunneled packets.
It must be an address on another interface on this host.
<P>
<P>
<B>encap</B> { <B>fou</B> | <B>gue</B> | <B>none</B> }

- specifies type of secondary UDP encapsulation. &quot;fou&quot; indicates
Foo-Over-UDP, &quot;gue&quot; indicates Generic UDP Encapsulation.
<P>
<P>
<B>encap-sport</B> { <B></B><I>PORT</I> | <B>auto</B> }

- specifies the source port in UDP encapsulation.
<I>PORT</I>

indicates the port by number, &quot;auto&quot;
indicates that the port number should be chosen automatically
(the kernel picks a flow based on the flow hash of the
encapsulated packet).
<P>
<P>
[<B>no</B>]<B>encap-csum</B>

- specifies if UDP checksums are enabled in the secondary
encapsulation.
<P>
<P>
[<B>no</B>]<B>encap-remcsum</B>

- specifies if Remote Checksum Offload is enabled. This is only
applicable for Generic UDP Encapsulation.
<P>
<P>
<B>mode</B><I> { ip6ip | ipip | mplsip | any } </I>

- specifies mode in which device should run. &quot;ip6ip&quot; indicates
IPv6-Over-IPv4, &quot;ipip&quot; indicates &quot;IPv4-Over-IPv4&quot;, &quot;mplsip&quot; indicates
MPLS-Over-IPv4, &quot;any&quot; indicates IPv6, IPv4 or MPLS Over IPv4. Supported for
SIT where the default is &quot;ip6ip&quot; and IPIP where the default is &quot;ipip&quot;.
IPv6-Over-IPv4 is not supported for IPIP.
<P>
<P>
<B>external</B>

- make this tunnel externally controlled
(e.g. <B>ip route encap</B>).

<P>

<DT id="11">GRE Type Support<DD>
For a link of type
<I>GRE</I> or <I>GRETAP</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B> { <B>gre</B> | <B>gretap</B> }

<B> remote </B><I>ADDR</I><B> local </B><I>ADDR</I>

[
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>seq</B>

] [
[<B>i</B>|<B>o</B>]<B>key</B>

<I>KEY</I>

|
<B>no</B>[<B>i</B>|<B>o</B>]<B>key</B>

] [
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>csum</B>

] [
<B>ttl</B><I> TTL </I>

] [
<B>tos</B><I> TOS </I>

] [
[<B>no</B>]<B>pmtudisc</B>

] [
[<B>no</B>]<B>ignore-df</B>

] [
<B>dev</B><I> PHYS_DEV </I>

] [
<B>encap</B> { <B>fou</B> | <B>gue</B> | <B>none</B> }

] [
<B>encap-sport</B> { <B></B><I>PORT</I> | <B>auto</B> }

] [
<B>encap-dport </B><I>PORT</I>

] [
[<B>no</B>]<B>encap-csum</B>

] [
[<B>no</B>]<B>encap-remcsum</B>

] [
<B>external</B>

]
<P>

<P>
<B>remote</B><I> ADDR </I>

- specifies the remote address of the tunnel.
<P>
<P>
<B>local</B><I> ADDR </I>

- specifies the fixed local address for tunneled packets.
It must be an address on another interface on this host.
<P>
<P>
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>seq</B>

- serialize packets.
The
<B>oseq</B>

flag enables sequencing of outgoing packets.
The
<B>iseq</B>

flag requires that all input packets are serialized.
<P>
<P>
[<B>i</B>|<B>o</B>]<B>key</B>

<I>KEY</I>

|
<B>no</B>[<B>i</B>|<B>o</B>]<B>key</B>

- use keyed GRE with key
<I>KEY</I>. KEY

is either a number or an IPv4 address-like dotted quad.
The
<B>key</B>

parameter specifies the same key to use in both directions.
The
<B>ikey</B> and <B>okey</B>

parameters specify different keys for input and output.
<P>
<P>
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>csum</B>

- generate/require checksums for tunneled packets.
The
<B>ocsum</B>

flag calculates checksums for outgoing packets.
The
<B>icsum</B>

flag requires that all input packets have the correct
checksum. The
<B>csum</B>

flag is equivalent to the combination
<B>icsum ocsum .</B>

<P>
<P>
<B>ttl</B><I> TTL</I>

- specifies the TTL value to use in outgoing packets.
<P>
<P>
<B>tos</B><I> TOS</I>

- specifies the TOS value to use in outgoing packets.
<P>
<P>
[<B>no</B>]<B>pmtudisc</B>

- enables/disables Path MTU Discovery on this tunnel.
It is enabled by default. Note that a fixed ttl is incompatible
with this option: tunneling with a fixed ttl always makes pmtu
discovery.
<P>
<P>
[<B>no</B>]<B>ignore-df</B>

- enables/disables IPv4 DF suppression on this tunnel.
Normally datagrams that exceed the MTU will be fragmented; the presence
of the DF flag inhibits this, resulting instead in an ICMP Unreachable
(Fragmentation Required) message.  Enabling this attribute causes the
DF flag to be ignored.
<P>
<P>
<B>dev</B><I> PHYS_DEV</I>

- specifies the physical device to use for tunnel endpoint communication.
<P>
<P>
<B>encap</B> { <B>fou</B> | <B>gue</B> | <B>none</B> }

- specifies type of secondary UDP encapsulation. &quot;fou&quot; indicates
Foo-Over-UDP, &quot;gue&quot; indicates Generic UDP Encapsulation.
<P>
<P>
<B>encap-sport</B> { <B></B><I>PORT</I> | <B>auto</B> }

- specifies the source port in UDP encapsulation.
<I>PORT</I>

indicates the port by number, &quot;auto&quot;
indicates that the port number should be chosen automatically
(the kernel picks a flow based on the flow hash of the
encapsulated packet).
<P>
<P>
[<B>no</B>]<B>encap-csum</B>

- specifies if UDP checksums are enabled in the secondary
encapsulation.
<P>
<P>
[<B>no</B>]<B>encap-remcsum</B>

- specifies if Remote Checksum Offload is enabled. This is only
applicable for Generic UDP Encapsulation.
<P>
<P>
<B>external</B>

- make this tunnel externally controlled
(e.g. <B>ip route encap</B>).

<P>

<P>
<DT id="12">IP6GRE/IP6GRETAP Type Support<DD>
For a link of type
<I>IP6GRE/IP6GRETAP</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B> { <B>ip6gre</B> | <B>ip6gretap</B> }

<B>remote</B><I> ADDR </I><B>local</B><I> ADDR</I>

[
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>seq</B>

] [
[<B>i</B>|<B>o</B>]<B>key</B>

<I>KEY</I>

|
<B>no</B>[<B>i</B>|<B>o</B>]<B>key</B>

] [
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>csum</B>

] [
<B>hoplimit</B><I> TTL </I>

] [
<B>encaplimit</B><I> ELIM </I>

] [
<B>tclass</B><I> TCLASS </I>

] [
<B>flowlabel</B><I> FLOWLABEL </I>

] [
<B>dscp inherit</B>

] [
<B>[no]allow-localremote</B>

] [
<B>dev</B><I> PHYS_DEV </I>

] [
external

]
<P>

<P>
<B>remote</B><I> ADDR </I>

- specifies the remote IPv6 address of the tunnel.
<P>
<P>
<B>local</B><I> ADDR </I>

- specifies the fixed local IPv6 address for tunneled packets.
It must be an address on another interface on this host.
<P>
<P>
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>seq</B>

- serialize packets.
The
<B>oseq</B>

flag enables sequencing of outgoing packets.
The
<B>iseq</B>

flag requires that all input packets are serialized.
<P>
<P>
[<B>i</B>|<B>o</B>]<B>key</B>

<I>KEY</I>

|
<B>no</B>[<B>i</B>|<B>o</B>]<B>key</B>

- use keyed GRE with key
<I>KEY</I>. KEY

is either a number or an IPv4 address-like dotted quad.
The
<B>key</B>

parameter specifies the same key to use in both directions.
The
<B>ikey</B> and <B>okey</B>

parameters specify different keys for input and output.
<P>
<P>
[<B>no</B>]<B></B>[<B>i</B>|<B>o</B>]<B>csum</B>

- generate/require checksums for tunneled packets.
The
<B>ocsum</B>

flag calculates checksums for outgoing packets.
The
<B>icsum</B>

flag requires that all input packets have the correct
checksum. The
<B>csum</B>

flag is equivalent to the combination
<B>icsum ocsum</B>.

<P>
<P>
<B>hoplimit</B><I> TTL</I>

- specifies Hop Limit value to use in outgoing packets.
<P>
<P>
<B>encaplimit</B><I> ELIM</I>

- specifies a fixed encapsulation limit. Default is 4.
<P>
<P>
<B>flowlabel</B><I> FLOWLABEL</I>

- specifies a fixed flowlabel.
<P>
<P>
<B>[no]allow-localremote</B>

- specifies whether to allow remote endpoint to have an address configured on
local host.
<P>
<P>
<B>tclass</B><I> TCLASS</I>

- specifies the traffic class field on
tunneled packets, which can be specified as either a two-digit
hex value (e.g. c0) or a predefined string (e.g. internet).
The value
<B>inherit</B>

causes the field to be copied from the original IP header. The
values
<B>inherit/</B><I>STRING</I>

or
<B>inherit/</B><I>00</I><B>..</B><I>ff</I>

will set the field to
<I>STRING</I>

or
<I>00</I>..<I>ff</I>

when tunneling non-IP packets. The default value is 00.
<P>
<P>
external

- make this tunnel externally controlled (or not, which is the default).
In the kernel, this is referred to as collect metadata mode.  This flag is
mutually exclusive with the
<B>remote</B>,

<B>local</B>,

<B>seq</B>,

<B>key,</B>

<B>csum,</B>

<B>hoplimit,</B>

<B>encaplimit,</B>

<B>flowlabel</B> and <B>tclass</B>

options.
<P>

<P>
<DT id="13">IPoIB Type Support<DD>
For a link of type
<I>IPoIB</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I><B> name </B><I>NAME</I>

<B>type ipoib </B>[<B> pkey </B><I>PKEY</I> ] [ <B>mode</B> <I>MODE </I>]

<P>

<P>
<B>pkey</B><I> PKEY </I>

- specifies the IB P-Key to use.
<P>
<B>mode</B><I> MODE </I>

- specifies the mode (datagram or connected) to use.
<P>
<DT id="14">ERSPAN Type Support<DD>
For a link of type
<I>ERSPAN/IP6ERSPAN</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B> { <B>erspan</B> | <B>ip6erspan</B> }

<B>remote</B><I> ADDR </I><B>local</B><I> ADDR </I><B>seq</B>

key

<I>KEY</I>

<B>erspan_ver</B> <I>version </I>

[
<B>erspan</B> <I>IDX </I>

] [
<B>erspan_dir</B> { <B></B><I>ingress</I> | <B></B><I>egress</I> }

] [
<B>erspan_hwid</B> <I>hwid </I>

] [
<B>[no]allow-localremote</B>

] [
external

]
<P>

<P>
<B>remote</B><I> ADDR </I>

- specifies the remote address of the tunnel.
<P>
<P>
<B>local</B><I> ADDR </I>

- specifies the fixed local address for tunneled packets.
It must be an address on another interface on this host.
<P>
<P>
<B>erspan_ver</B> <I>version </I>

- specifies the ERSPAN version number.
<I>version</I>

indicates the ERSPAN version to be created: 1 for version 1 (type II)
or 2 for version 2 (type III).
<P>
<P>
<B>erspan</B> <I>IDX </I>

- specifies the ERSPAN v1 index field.
<I>IDX</I>

indicates a 20 bit index/port number associated with the ERSPAN
traffic's source port and direction.
<P>
<P>
<B>erspan_dir</B> { <B></B><I>ingress</I> | <B></B><I>egress</I> }

- specifies the ERSPAN v2 mirrored traffic's direction.
<P>
<P>
<B>erspan_hwid</B> <I>hwid </I>

- an unique identifier of an ERSPAN v2 engine within a system.
<I>hwid</I>

is a 6-bit value for users to configure.
<P>
<P>
<B>[no]allow-localremote</B>

- specifies whether to allow remote endpoint to have an address configured on
local host.
<P>
<P>
<B>external</B>

- make this tunnel externally controlled (or not, which is the default).
In the kernel, this is referred to as collect metadata mode.  This flag is
mutually exclusive with the
<B>remote</B>,

<B>local</B>,

<B>erspan_ver</B>,

<B>erspan</B>,

<B>erspan_dir</B> and <B>erspan_hwid</B>

options.
<P>

<P>
<DT id="15">GENEVE Type Support<DD>
For a link of type
<I>GENEVE</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I>

<B>type</B><I> geneve </I><B>id</B><I> VNI </I><B>remote</B><I> IPADDR</I>

[
<B>ttl</B><I> TTL </I>

] [
<B>tos</B><I> TOS </I>

] [
<B>df</B><I> DF </I>

] [
<B>flowlabel</B><I> FLOWLABEL </I>

] [
<B>dstport</B><I> PORT</I>

] [
[<B>no</B>]<B>external</B>

] [
[<B>no</B>]<B>udpcsum</B>

] [
[<B>no</B>]<B>udp6zerocsumtx</B>

] [
[<B>no</B>]<B>udp6zerocsumrx</B>

]
<P>

<P>
<B>id</B><I> VNI </I>

- specifies the Virtual Network Identifer to use.
<P>
<P>
<B>remote</B><I> IPADDR</I>

- specifies the unicast destination IP address to use in outgoing packets.
<P>
<P>
<B>ttl</B><I> TTL</I>

- specifies the TTL value to use in outgoing packets. &quot;0&quot; or &quot;auto&quot; means
use whatever default value, &quot;inherit&quot; means inherit the inner protocol's
ttl. Default option is &quot;0&quot;.
<P>
<P>
<B>tos</B><I> TOS</I>

- specifies the TOS value to use in outgoing packets.
<P>
<P>
<B>df</B><I> DF</I>

- specifies the usage of the Don't Fragment flag (DF) bit in outgoing packets
with IPv4 headers. The value
<B>inherit</B>

causes the bit to be copied from the original IP header. The values
<B>unset</B>

and
<B>set</B>

cause the bit to be always unset or always set, respectively. By default, the
bit is not set.
<P>
<P>
<B>flowlabel</B><I> FLOWLABEL</I>

- specifies the flow label to use in outgoing packets.
<P>
<P>
<B>dstport</B><I> PORT</I>

- select a destination port other than the default of 6081.
<P>
<P>
[<B>no</B>]<B>external</B>

- make this tunnel externally controlled (or not, which is the default). This
flag is mutually exclusive with the
<B>id</B>,

<B>remote</B>,

<B>ttl</B>,

<B>tos</B> and <B>flowlabel</B>

options.
<P>
<P>
[<B>no</B>]<B>udpcsum</B>

- specifies if UDP checksum is calculated for transmitted packets over IPv4.
<P>
<P>
[<B>no</B>]<B>udp6zerocsumtx</B>

- skip UDP checksum calculation for transmitted packets over IPv6.
<P>
<P>
[<B>no</B>]<B>udp6zerocsumrx</B>

- allow incoming UDP packets over IPv6 with zero checksum field.
<P>

<P>
<DT id="16">MACVLAN and MACVTAP Type Support<DD>
For a link of type
<I>MACVLAN</I>

or
<I>MACVTAP</I>

the following additional arguments are supported:
<P>
<B>ip link add link </B><I>DEVICE</I><B> name </B><I>NAME</I>

<B>type</B> { <B>macvlan</B> | <B>macvtap</B> } 

<B>mode</B> { <B>private</B> | <B>vepa</B> | <B>bridge</B> | <B>passthru</B>

 [ <B>nopromisc</B> ] | <B>source</B> } 

<P>

<P>
<B>type</B> { <B>macvlan</B> | <B>macvtap</B> } 

- specifies the link type to use.
<B>macvlan</B> creates just a virtual interface, while 

<B>macvtap</B> in addition creates a character device 

<B>/dev/tapX</B> to be used just like a <B>tuntap</B> device.

<P>
<B>mode private</B>

- Do not allow communication between
<B>macvlan</B>

instances on the same physical interface, even if the external switch supports
hairpin mode.
<P>
<B>mode vepa</B>

- Virtual Ethernet Port Aggregator mode. Data from one
<B>macvlan</B>

instance to the other on the same physical interface is transmitted over the
physical interface. Either the attached switch needs to support hairpin mode,
or there must be a TCP/IP router forwarding the packets in order to allow
communication. This is the default mode.
<P>
<B>mode bridge</B>

- In bridge mode, all endpoints are directly connected to each other,
communication is not redirected through the physical interface's peer.
<P>
<B>mode</B> <B>passthru</B> [ <B>nopromisc</B> ] 

- This mode gives more power to a single endpoint, usually in
<B>macvtap</B> mode. It is not allowed for more than one endpoint on the same 

physical interface. All traffic will be forwarded to this endpoint, allowing
virtio guests to change MAC address or set promiscuous mode in order to bridge
the interface or create vlan interfaces on top of it. By default, this mode
forces the underlying interface into promiscuous mode. Passing the
<B>nopromisc</B> flag prevents this, so the promisc flag may be controlled 

using standard tools.
<P>
<B>mode source</B>

- allows one to set a list of allowed mac address, which is used to match
against source mac address from received frames on underlying interface. This
allows creating mac based VLAN associations, instead of standard port or tag
based. The feature is useful to deploy 802.1x mac based behavior,
where drivers of underlying interfaces doesn't allows that.

<P>
<DT id="17">High-availability Seamless Redundancy (HSR) Support<DD>
For a link of type
<I>HSR</I>

the following additional arguments are supported:
<P>
<B>ip link add link </B><I>DEVICE</I><B> name </B><I>NAME</I><B> type hsr</B>

<B>slave1</B><I> SLAVE1-IF </I><B>slave2</B><I> SLAVE2-IF </I>

[<B> supervision</B>

<I>ADDR-BYTE</I> ] [

<B>version</B> { <B>0</B> | <B>1</B> } ]

<P>

<P>
<B>type</B> hsr 

- specifies the link type to use, here HSR.
<P>
<B>slave1</B><I> SLAVE1-IF </I>

- Specifies the physical device used for the first of the two ring ports.
<P>
<B>slave2</B><I> SLAVE2-IF </I>

- Specifies the physical device used for the second of the two ring ports.
<P>
<B>supervision</B><I> ADDR-BYTE</I>

- The last byte of the multicast address used for HSR supervision frames.
Default option is &quot;0&quot;, possible values 0-255.
<P>
<B>version</B> { <B>0</B> | <B>1</B> }

- Selects the protocol version of the interface. Default option is &quot;0&quot;, which
corresponds to the 2010 version of the HSR standard. Option &quot;1&quot; activates the
2012 version.

<P>
<DT id="18">BRIDGE Type Support<DD>
For a link of type
<I>BRIDGE</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I><B> type bridge </B>

[
<B>ageing_time</B><I> AGEING_TIME </I>

] [
<B>group_fwd_mask</B><I> MASK </I>

] [
<B>group_address</B><I> ADDRESS </I>

] [
<B>forward_delay</B><I> FORWARD_DELAY </I>

] [
<B>hello_time</B><I> HELLO_TIME </I>

] [
<B>max_age</B><I> MAX_AGE </I>

] [
<B>stp_state</B><I> STP_STATE </I>

] [
<B>priority</B><I> PRIORITY </I>

] [
<B>vlan_filtering</B><I> VLAN_FILTERING </I>

] [
<B>vlan_protocol</B><I> VLAN_PROTOCOL </I>

] [
<B>vlan_default_pvid</B><I> VLAN_DEFAULT_PVID </I>

] [
<B>vlan_stats_enabled</B><I> VLAN_STATS_ENABLED </I>

] [
<B>vlan_stats_per_port</B><I> VLAN_STATS_PER_PORT </I>

] [
<B>mcast_snooping</B><I> MULTICAST_SNOOPING </I>

] [
<B>mcast_router</B><I> MULTICAST_ROUTER </I>

] [
<B>mcast_query_use_ifaddr</B><I> MCAST_QUERY_USE_IFADDR </I>

] [
<B>mcast_querier</B><I> MULTICAST_QUERIER </I>

] [
<B>mcast_hash_elasticity</B><I> HASH_ELASTICITY </I>

] [
<B>mcast_hash_max</B><I> HASH_MAX </I>

] [
<B>mcast_last_member_count</B><I> LAST_MEMBER_COUNT </I>

] [
<B>mcast_startup_query_count</B><I> STARTUP_QUERY_COUNT </I>

] [
<B>mcast_last_member_interval</B><I> LAST_MEMBER_INTERVAL </I>

] [
<B>mcast_membership_interval</B><I> MEMBERSHIP_INTERVAL </I>

] [
<B>mcast_querier_interval</B><I> QUERIER_INTERVAL </I>

] [
<B>mcast_query_interval</B><I> QUERY_INTERVAL </I>

] [
<B>mcast_query_response_interval</B><I> QUERY_RESPONSE_INTERVAL </I>

] [
<B>mcast_startup_query_interval</B><I> STARTUP_QUERY_INTERVAL </I>

] [
<B>mcast_stats_enabled</B><I> MCAST_STATS_ENABLED </I>

] [
<B>mcast_igmp_version</B><I> IGMP_VERSION </I>

] [
<B>mcast_mld_version</B><I> MLD_VERSION </I>

] [
<B>nf_call_iptables</B><I> NF_CALL_IPTABLES </I>

] [
<B>nf_call_ip6tables</B><I> NF_CALL_IP6TABLES </I>

] [
<B>nf_call_arptables</B><I> NF_CALL_ARPTABLES </I>

]
<P>

<P>
<B>ageing_time</B><I> AGEING_TIME </I>

- configure the bridge's FDB entries ageing time, ie the number of
seconds a MAC address will be kept in the FDB after a packet has been
received from that address. after this time has passed, entries are
cleaned up.
<P>
<B>group_fwd_mask</B><I> MASK </I>

- set the group forward mask. This is the bitmask that is applied to
decide whether to forward incoming frames destined to link-local
addresses, ie addresses of the form 01:80:C2:00:00:0X (defaults to 0,
ie the bridge does not forward any link-local frames).
<P>
<B>group_address</B><I> ADDRESS </I>

- set the MAC address of the multicast group this bridge uses for STP.
The address must be a link-local address in standard Ethernet MAC
address format, ie an address of the form 01:80:C2:00:00:0X, with X
<BR>&nbsp;in&nbsp;[0,&nbsp;4..f].
<P>
<B>forward_delay</B><I> FORWARD_DELAY </I>

- set the forwarding delay in seconds, ie the time spent in LISTENING
state (before moving to LEARNING) and in LEARNING state (before
moving to FORWARDING). Only relevant if STP is enabled. Valid values
are between 2 and 30.
<P>
<B>hello_time</B><I> HELLO_TIME </I>

- set the time in seconds between hello packets sent by the bridge,
when it is a root bridge or a designated bridges.
Only relevant if STP is enabled. Valid values are between 1 and 10.
<P>
<B>max_age</B><I> MAX_AGE </I>

- set the hello packet timeout, ie the time in seconds until another
bridge in the spanning tree is assumed to be dead, after reception of
its last hello message. Only relevant if STP is enabled. Valid values
are between 6 and 40.
<P>
<B>stp_state</B><I> STP_STATE </I>

- turn spanning tree protocol on
(<I>STP_STATE</I> &gt; 0) 

or off
(<I>STP_STATE</I> == 0). 

for this bridge.
<P>
<B>priority</B><I> PRIORITY </I>

- set this bridge's spanning tree priority, used during STP root
bridge election.
<I>PRIORITY</I>

is a 16bit unsigned integer.
<P>
<B>vlan_filtering</B><I> VLAN_FILTERING </I>

- turn VLAN filtering on
(<I>VLAN_FILTERING</I> &gt; 0) 

or off
(<I>VLAN_FILTERING</I> == 0). 

When disabled, the bridge will not consider the VLAN tag when handling packets.
<P>
<B>vlan_protocol</B> { <B>802.1Q</B> | <B>802.1ad</B> } 

- set the protocol used for VLAN filtering.
<P>
<B>vlan_default_pvid</B><I> VLAN_DEFAULT_PVID </I>

- set the default PVID (native/untagged VLAN ID) for this bridge.
<P>
<B>vlan_stats_enabled</B><I> VLAN_STATS_ENABLED </I>

- enable
(<I>VLAN_STATS_ENABLED</I> == 1) 

or disable
(<I>VLAN_STATS_ENABLED</I> == 0) 

per-VLAN stats accounting.
<P>
<B>vlan_stats_per_port</B><I> VLAN_STATS_PER_PORT </I>

- enable
(<I>VLAN_STATS_PER_PORT</I> == 1) 

or disable
(<I>VLAN_STATS_PER_PORT</I> == 0) 

per-VLAN per-port stats accounting. Can be changed only when there are no port VLANs configured.
<P>
<B>mcast_snooping</B><I> MULTICAST_SNOOPING </I>

- turn multicast snooping on
(<I>MULTICAST_SNOOPING</I> &gt; 0) 

or off
(<I>MULTICAST_SNOOPING</I> == 0). 

<P>
<B>mcast_router</B><I> MULTICAST_ROUTER </I>

- set bridge's multicast router if IGMP snooping is enabled.
<I>MULTICAST_ROUTER</I>

is an integer value having the following meaning:

<P>
<B>0</B>

- disabled.
<P>
<B>1</B>

- automatic (queried).
<P>
<B>2</B>

- permanently enabled.

<P>
<B>mcast_query_use_ifaddr</B><I> MCAST_QUERY_USE_IFADDR </I>

- whether to use the bridge's own IP address as source address for IGMP queries
(<I>MCAST_QUERY_USE_IFADDR</I> &gt; 0) 

or the default of 0.0.0.0
(<I>MCAST_QUERY_USE_IFADDR</I> == 0). 

<P>
<B>mcast_querier</B><I> MULTICAST_QUERIER </I>

- enable
(<I>MULTICAST_QUERIER</I> &gt; 0) 

or disable
(<I>MULTICAST_QUERIER</I> == 0) 

IGMP querier, ie sending of multicast queries by the bridge (default: disabled).
<P>
<B>mcast_querier_interval</B><I> QUERIER_INTERVAL </I>

- interval between queries sent by other routers. if no queries are seen
after this delay has passed, the bridge will start to send its own queries
(as if
<B>mcast_querier</B>

was enabled).
<P>
<B>mcast_hash_elasticity</B><I> HASH_ELASTICITY </I>

- set multicast database hash elasticity, ie the maximum chain length
in the multicast hash table (defaults to 4).
<P>
<B>mcast_hash_max</B><I> HASH_MAX </I>

- set maximum size of multicast hash table (defaults to 512,
value must be a power of 2).
<P>
<B>mcast_last_member_count</B><I> LAST_MEMBER_COUNT </I>

- set multicast last member count, ie the number of queries the bridge
will send before stopping forwarding a multicast group after a &quot;leave&quot;
message has been received (defaults to 2).
<P>
<B>mcast_last_member_interval</B><I> LAST_MEMBER_INTERVAL </I>

- interval between queries to find remaining members of a group,
after a &quot;leave&quot; message is received.
<P>
<B>mcast_startup_query_count</B><I> STARTUP_QUERY_COUNT </I>

- set the number of IGMP queries to send during startup phase (defaults to 2).
<P>
<B>mcast_startup_query_interval</B><I> STARTUP_QUERY_INTERVAL </I>

- interval between queries in the startup phase.
<P>
<B>mcast_query_interval</B><I> QUERY_INTERVAL </I>

- interval between queries sent by the bridge after the end of the
startup phase.
<P>
<B>mcast_query_response_interval</B><I> QUERY_RESPONSE_INTERVAL </I>

- set the Max Response Time/Maximum Response Delay for IGMP/MLD
queries sent by the bridge.
<P>
<B>mcast_membership_interval</B><I> MEMBERSHIP_INTERVAL </I>

- delay after which the bridge will leave a group,
if no membership reports for this group are received.
<P>
<B>mcast_stats_enabled</B><I> MCAST_STATS_ENABLED </I>

- enable
(<I>MCAST_STATS_ENABLED</I> &gt; 0) 

or disable
(<I>MCAST_STATS_ENABLED</I> == 0) 

multicast (IGMP/MLD) stats accounting.
<P>
<B>mcast_igmp_version</B><I> IGMP_VERSION </I>

- set the IGMP version.
<P>
<B>mcast_mld_version</B><I> MLD_VERSION </I>

- set the MLD version.
<P>
<B>nf_call_iptables</B><I> NF_CALL_IPTABLES </I>

- enable
(<I>NF_CALL_IPTABLES</I> &gt; 0) 

or disable
(<I>NF_CALL_IPTABLES</I> == 0) 

iptables hooks on the bridge.
<P>
<B>nf_call_ip6tables</B><I> NF_CALL_IP6TABLES </I>

- enable
(<I>NF_CALL_IP6TABLES</I> &gt; 0) 

or disable
(<I>NF_CALL_IP6TABLES</I> == 0) 

ip6tables hooks on the bridge.
<P>
<B>nf_call_arptables</B><I> NF_CALL_ARPTABLES </I>

- enable
(<I>NF_CALL_ARPTABLES</I> &gt; 0) 

or disable
(<I>NF_CALL_ARPTABLES</I> == 0) 

arptables hooks on the bridge.
<P>
<P>

<P>
<DT id="19">MACsec Type Support<DD>
For a link of type
<I>MACsec</I>

the following additional arguments are supported:
<P>
<B>ip link add link </B><I>DEVICE</I><B> name </B><I>NAME</I><B> type macsec</B>

[ [
<B>address</B><I> &lt;lladdr&gt;</I>

]
<B>port</B><I> PORT</I>

|
<B>sci</B><I> SCI</I>

] [
<B>cipher</B><I> CIPHER_SUITE</I>

] [
<B>icvlen</B> { 

<I>8..16</I> } ] [

<B>encrypt</B> {

<B>on</B> | <B>off</B> } ] [ 

<B>send_sci</B> { <B>on</B> | <B>off</B> } ] [

<B>end_station</B> { <B>on</B> | <B>off</B> } ] [

<B>scb</B> { <B>on</B> | <B>off</B> } ] [

<B>protect</B> { <B>on</B> | <B>off</B> } ] [

<B>replay</B> { <B>on</B> | <B>off</B> }

<B>window</B> { 

<I>0..2^32-1</I> } ] [

<B>validate</B> { <B>strict</B> | <B>check</B> | <B>disabled</B> } ] [

<B>encodingsa</B> { 

<I>0..3</I> } ]

<P>

<P>
<B>address</B><I> &lt;lladdr&gt; </I>

- sets the system identifier component of secure channel for this MACsec device.
<P>
<P>
<B>port</B><I> PORT </I>

- sets the port number component of secure channel for this MACsec
device, in a range from 1 to 65535 inclusive. Numbers with a leading &quot;
0 &quot; or &quot; 0x &quot; are interpreted as octal and hexadecimal, respectively.
<P>
<P>
<B>sci</B><I> SCI </I>

- sets the secure channel identifier for this MACsec device.
<I>SCI</I>

is a 64bit wide number in hexadecimal format.
<P>
<P>
<B>cipher</B><I> CIPHER_SUITE </I>

- defines the cipher suite to use.
<P>
<P>
<B>icvlen</B><I> LENGTH </I>

- sets the length of the Integrity Check Value (ICV).
<P>
<P>
<B>encrypt on </B>or<B> encrypt off</B>

- switches between authenticated encryption, or authenticity mode only.
<P>
<P>
<B>send_sci on </B>or<B> send_sci off</B>

- specifies whether the SCI is included in every packet,
or only when it is necessary.
<P>
<P>
<B>end_station on </B>or<B> end_station off</B>

- sets the End Station bit.
<P>
<P>
<B>scb on </B>or<B> scb off</B>

- sets the Single Copy Broadcast bit.
<P>
<P>
<B>protect on </B>or<B> protect off</B>

- enables MACsec protection on the device.
<P>
<P>
<B>replay on </B>or<B> replay off</B>

- enables replay protection on the device.
<P>

<P>
<P>
<B>window</B><I> SIZE </I>

- sets the size of the replay window.
<P>

<P>
<P>
<B>validate strict </B>or<B> validate check </B>or<B> validate disabled</B>

- sets the validation mode on the device.
<P>
<P>
<B>encodingsa</B><I> AN </I>

- sets the active secure association for transmission.
<P>

<P>
<DT id="20">VRF Type Support<DD>
For a link of type
<I>VRF</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I><B> type vrf table </B><I>TABLE</I>

<P>

<P>
<B>table</B> table id associated with VRF device

<P>

<P>
<DT id="21">RMNET Type Support<DD>
For a link of type
<I>RMNET</I>

the following additional arguments are supported:
<P>
<B>ip link add link </B><I>DEVICE</I><B> name </B><I>NAME</I><B> type rmnet mux_id </B><I>MUXID</I>

<P>

<P>
<B>mux_id</B><I> MUXID </I>

- specifies the mux identifier for the rmnet device, possible values 1-254.
<P>

<P>
<DT id="22">XFRM Type Support<DD>
For a link of type
<I>XFRM</I>

the following additional arguments are supported:
<P>
<B>ip link add </B><I>DEVICE</I><B> type xfrm dev </B><I>PHYS_DEV</I><B> [ if_id </B><I>IF_ID</I><B> ]</B>

<P>

<P>
<B>dev</B><I> PHYS_DEV </I>

- specifies the underlying physical interface from which transform traffic is sent and received.
<P>
<P>
<B>if_id</B><I> IF-ID </I>

- specifies the hexadecimal lookup key used to send traffic to and from specific xfrm
policies. Policies must be configured with the same key. If not set, the key defaults to
0 and will match any policies which similarly do not have a lookup key configuration.
<P>

<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H3>ip link delete - delete virtual link</H3>

<P>
<DL COMPACT>
<DT id="23"><B>dev</B><I> DEVICE </I>

<DD>
specifies the virtual device to act operate on.
<P>
<DT id="24"><B>group</B><I> GROUP </I>

<DD>
specifies the group of virtual links to delete. Group 0 is not allowed to be
deleted since it is the default group.
<P>
<DT id="25"><B>type</B><I> TYPE </I>

<DD>
specifies the type of the device.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3>ip link set - change device attributes</H3>

<P>
<P>

<B>Warning:</B>

If multiple parameter changes are requested,
<B>ip</B>

aborts immediately after any of the changes have failed.
This is the only case when
<B>ip</B>

can move the system to an unpredictable state. The solution
is to avoid changing several parameters with one
<B>ip link set</B>

call.
The modifier
<B>change</B>

is equivalent to
<B>set</B>.

<P>
<P>
<DL COMPACT>
<DT id="26"><B>dev</B><I> DEVICE </I>

<DD>
<I>DEVICE</I>

specifies network device to operate on. When configuring SR-IOV
Virtual Function (VF) devices, this keyword should specify the
associated Physical Function (PF) device.
<P>
<DT id="27"><B>group</B><I> GROUP </I>

<DD>
<I>GROUP</I>

has a dual role: If both group and dev are present, then move the device to the
specified group. If only a group is specified, then the command operates on
all devices in that group.
<P>
<DT id="28"><B>up</B> and <B>down</B>

<DD>
change the state of the device to
<B>UP</B>

or
<B>DOWN</B>.

<P>
<DT id="29"><B>arp on </B>or<B> arp off</B>

<DD>
change the
<B>NOARP</B>

flag on the device.
<P>
<DT id="30"><B>multicast on </B>or<B> multicast off</B>

<DD>
change the
<B>MULTICAST</B>

flag on the device.
<P>
<DT id="31"><B>protodown on </B>or<B> protodown off</B>

<DD>
change the
<B>PROTODOWN</B>

state on the device. Indicates that a protocol error has been detected
on the port. Switch drivers can react to this error by doing a phys
down on the switch port.
<P>
<DT id="32"><B>dynamic on </B>or<B> dynamic off</B>

<DD>
change the
<B>DYNAMIC</B>

flag on the device. Indicates that address can change when interface
goes down (currently
<B>NOT</B>

used by the Linux).
<P>
<DT id="33"><B>name</B><I> NAME</I>

<DD>
change the name of the device. This operation is not
recommended if the device is running or has some addresses
already configured.
<P>
<DT id="34"><B>txqueuelen</B><I> NUMBER</I>

<DD>
<DT id="35"><B>txqlen</B><I> NUMBER</I>

<DD>
change the transmit queue length of the device.
<P>
<DT id="36"><B>mtu</B><I> NUMBER</I>

<DD>
change the
<I>MTU</I>

of the device.
<P>
<DT id="37"><B>address</B><I> LLADDRESS</I>

<DD>
change the station address of the interface.
<P>
<DT id="38"><B>broadcast</B><I> LLADDRESS</I>

<DD>
<DT id="39"><B>brd</B><I> LLADDRESS</I>

<DD>
<DT id="40"><B>peer</B><I> LLADDRESS</I>

<DD>
change the link layer broadcast address or the peer address when
the interface is
<I>POINTOPOINT</I>.

<P>
<DT id="41"><B>netns</B><I> NETNSNAME </I><B></B>|<I> PID</I>

<DD>
move the device to the network namespace associated with name
<I>NETNSNAME </I>or

process<I> PID.</I>

<P>
Some devices are not allowed to change network namespace: loopback, bridge,
wireless. These are network namespace local devices. In such case
<B>ip</B>

tool will return &quot;Invalid argument&quot; error. It is possible to find out
if device is local to a single network namespace by checking
<B>netns-local</B>

flag in the output of the
<B>ethtool</B>:

<P>

<B>ethtool -k</B>

<I>DEVICE</I>


<P>
To change network namespace for wireless devices the
<B>iw</B>

tool can be used. But it allows to change network namespace only for
physical devices and by process
<I>PID</I>.

<P>
<DT id="42"><B>alias</B><I> NAME</I>

<DD>
give the device a symbolic name for easy reference.
<P>
<DT id="43"><B>group</B><I> GROUP</I>

<DD>
specify the group the device belongs to.
The available groups are listed in file
<B>/etc/iproute2/group</B>.

<P>
<DT id="44"><B>vf</B><I> NUM</I>

<DD>
specify a Virtual Function device to be configured. The associated PF device
must be specified using the
<B>dev</B>

parameter.
<P>

<B>mac</B><I> LLADDRESS</I>

- change the station address for the specified VF. The
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>vlan</B><I> VLANID</I>

- change the assigned VLAN for the specified VF. When specified, all traffic
sent from the VF will be tagged with the specified VLAN ID. Incoming traffic
will be filtered for the specified VLAN ID, and will have all VLAN tags
stripped before being passed to the VF. Setting this parameter to 0 disables
VLAN tagging and filtering. The
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>qos</B><I> VLAN-QOS</I>

- assign VLAN QOS (priority) bits for the VLAN tag. When specified, all VLAN
tags transmitted by the VF will include the specified priority bits in the
VLAN tag. If not specified, the value is assumed to be 0. Both the
<B>vf</B>

and
<B>vlan</B>

parameters must be specified. Setting both
<B>vlan</B>

and
<B>qos</B>

as 0 disables VLAN tagging and filtering for the VF.
<P>
<P>
<B>proto</B><I> VLAN-PROTO</I>

- assign VLAN PROTOCOL for the VLAN tag, either 802.1Q or 802.1ad.
Setting to 802.1ad, all traffic sent from the VF will be tagged with
VLAN S-Tag.  Incoming traffic will have VLAN S-Tags stripped before
being passed to the VF.  Setting to 802.1ad also enables an option to
concatenate another VLAN tag, so both S-TAG and C-TAG will be
inserted/stripped for outgoing/incoming traffic, respectively.  If not
specified, the value is assumed to be 802.1Q. Both the
<B>vf</B>

and
<B>vlan</B>

parameters must be specified.
<P>
<P>
<B>rate</B><I> TXRATE</I>

-- change the allowed transmit bandwidth, in Mbps, for the specified VF.
Setting this parameter to 0 disables rate limiting.
<B>vf</B>

parameter must be specified.
Please use new API
<B>max_tx_rate</B>

option instead.
<P>
<P>
<B>max_tx_rate</B><I> TXRATE</I>

- change the allowed maximum transmit bandwidth, in Mbps, for the
specified VF.  Setting this parameter to 0 disables rate limiting.
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>min_tx_rate</B><I> TXRATE</I>

- change the allowed minimum transmit bandwidth, in Mbps, for the specified VF.
Minimum TXRATE should be always &lt;= Maximum TXRATE.
Setting this parameter to 0 disables rate limiting.
<B>vf</B>

parameter must be specified.
<P>
<P>
<B>spoofchk</B><I> on|off</I>

- turn packet spoof checking on or off for the specified VF.
<P>
<B>query_rss</B><I> on|off</I>

- toggle the ability of querying the RSS configuration of a specific
<BR>&nbsp;&nbsp;VF.&nbsp;VF&nbsp;RSS&nbsp;information&nbsp;like&nbsp;RSS&nbsp;hash&nbsp;key&nbsp;may&nbsp;be&nbsp;considered&nbsp;sensitive
<BR>&nbsp;&nbsp;on&nbsp;some&nbsp;devices&nbsp;where&nbsp;this&nbsp;information&nbsp;is&nbsp;shared&nbsp;between&nbsp;VF&nbsp;and&nbsp;PF
<BR>&nbsp;&nbsp;and&nbsp;thus&nbsp;its&nbsp;querying&nbsp;may&nbsp;be&nbsp;prohibited&nbsp;by&nbsp;default.
<P>
<B>state</B><I> auto|enable|disable</I>

- set the virtual link state as seen by the specified VF. Setting to
auto means a reflection of the PF link state, enable lets the VF to
communicate with other VFs on this host even if the PF link state is
down, disable causes the HW to drop any packets sent by the VF.
<P>
<B>trust</B><I> on|off</I>

- trust the specified VF user. This enables that VF user can set a
specific feature which may impact security and/or
performance. (e.g. VF multicast promiscuous mode)
<P>
<B>node_guid</B><I> eui64</I>

- configure node GUID for Infiniband VFs.
<P>
<B>port_guid</B><I> eui64</I>

- configure port GUID for Infiniband VFs.

<P>
<DT id="45"><B>xdp object | pinned | off</B>

<DD>
set (or unset) a XDP (&quot;eXpress Data Path&quot;) BPF program to run on every
packet at driver level.
<B>ip link</B>

output will indicate a
<B>xdp</B>

flag for the networking device. If the driver does not have native XDP
support, the kernel will fall back to a slower, driver-independent &quot;generic&quot;
XDP variant. The
<B>ip link</B>

output will in that case indicate
<B>xdpgeneric</B>

instead of
<B>xdp</B>

only. If the driver does have native XDP support, but the program is
loaded under
<B>xdpgeneric object | pinned</B>

then the kernel will use the generic XDP variant instead of the native one.
<B>xdpdrv</B>

has the opposite effect of requestsing that the automatic fallback to the
generic XDP variant be disabled and in case driver is not XDP-capable error
should be returned.
<B>xdpdrv</B>

also disables hardware offloads.
<B>xdpoffload</B>

in ip link output indicates that the program has been offloaded to hardware
and can also be used to request the &quot;offload&quot; mode, much like
<B>xdpgeneric</B>

it forces program to be installed specifically in HW/FW of the apater.
<P>
<B>off</B>

(or
<B>none</B>

)
- Detaches any currently attached XDP/BPF program from the given device.
<P>
<B>object</B><I> FILE </I>

- Attaches a XDP/BPF program to the given device. The
<I>FILE</I>

points to a BPF ELF file (f.e. generated by LLVM) that contains the BPF
program code, map specifications, etc. If a XDP/BPF program is already
attached to the given device, an error will be thrown. If no XDP/BPF
program is currently attached, the device supports XDP and the program
from the BPF ELF file passes the kernel verifier, then it will be attached
to the device. If the option
<I>-force</I>

is passed to
<B>ip</B>

then any prior attached XDP/BPF program will be atomically overridden and
no error will be thrown in this case. If no
<B>section</B>

option is passed, then the default section name (&quot;prog&quot;) will be assumed,
otherwise the provided section name will be used. If no
<B>verbose</B>

option is passed, then a verifier log will only be dumped on load error.
See also
<B>EXAMPLES</B>

section for usage examples.
<P>
<B>section</B><I> NAME </I>

- Specifies a section name that contains the BPF program code. If no section
name is specified, the default one (&quot;prog&quot;) will be used. This option is
to be passed with the
<B>object</B>

option.
<P>
<B>verbose</B>

- Act in verbose mode. For example, even in case of success, this will
print the verifier log in case a program was loaded from a BPF ELF file.
<P>
<B>pinned</B><I> FILE </I>

- Attaches a XDP/BPF program to the given device. The
<I>FILE</I>

points to an already pinned BPF program in the BPF file system. The option
<B>section</B>

doesn't apply here, but otherwise semantics are the same as with the option
<B>object</B>

described already.
<P>
<DT id="46"><B>master</B><I> DEVICE</I>

<DD>
set master device of the device (enslave device).
<P>
<DT id="47"><B>nomaster</B>

<DD>
unset master device of the device (release device).
<P>
<DT id="48"><B>addrgenmode</B><I> eui64|none|stable_secret|random</I>

<DD>
set the IPv6 address generation mode
<P>
<I>eui64</I>

- use a Modified EUI-64 format interface identifier
<P>
<I>none</I>

- disable automatic address generation
<P>
<I>stable_secret</I>

- generate the interface identifier based on a preset
<BR>&nbsp;&nbsp;/proc/sys/net/ipv6/conf/{default,DEVICE}/stable_secret
<P>
<I>random</I>

- like stable_secret, but auto-generate a new random secret if none is set
<P>
<DT id="49"><B>link-netnsid </B>

<DD>
set peer netnsid for a cross-netns interface
<P>
<DT id="50"><B>type</B><I> ETYPE TYPE_ARGS</I>

<DD>
Change type-specific settings. For a list of supported types and arguments refer
to the description of
<B>ip link add</B>

above. In addition to that, it is possible to manipulate settings to slave
devices:
<P>
<DT id="51">Bridge Slave Support<DD>
For a link with master
<B>bridge</B>

the following additional arguments are supported:
<P>
<B>ip link set type bridge_slave</B>

[
<B>fdb_flush</B>

] [
<B>state</B><I> STATE</I>

] [
<B>priority</B><I> PRIO</I>

] [
<B>cost</B><I> COST</I>

] [
<B>guard</B> { <B>on</B> | <B>off</B> }

] [
<B>hairpin</B> { <B>on</B> | <B>off</B> }

] [
<B>fastleave</B> { <B>on</B> | <B>off</B> }

] [
<B>root_block</B> { <B>on</B> | <B>off</B> }

] [
<B>learning</B> { <B>on</B> | <B>off</B> }

] [
<B>flood</B> { <B>on</B> | <B>off</B> }

] [
<B>proxy_arp</B> { <B>on</B> | <B>off</B> }

] [
<B>proxy_arp_wifi</B> { <B>on</B> | <B>off</B> }

] [
<B>mcast_router</B><I> MULTICAST_ROUTER</I>

] [
<B>mcast_fast_leave</B> { <B>on</B> | <B>off</B>}

] [
<B>mcast_flood</B> { <B>on</B> | <B>off</B> }

] [
<B>mcast_to_unicast</B> { <B>on</B> | <B>off</B> }

] [
<B>group_fwd_mask</B> MASK

] [
<B>neigh_suppress</B> { <B>on</B> | <B>off</B> }

] [
<B>vlan_tunnel</B> { <B>on</B> | <B>off</B> }

] [
<B>isolated</B> { <B>on</B> | <B>off</B> }

] [
<B>backup_port</B> DEVICE

] [
<B>nobackup_port</B> ]

<P>

<P>
<B>fdb_flush</B>

- flush bridge slave's fdb dynamic entries.
<P>
<B>state</B><I> STATE</I>

- Set port state.
<I>STATE</I>

is a number representing the following states:
<B>0</B> (disabled),

<B>1</B> (listening),

<B>2</B> (learning),

<B>3</B> (forwarding),

<B>4</B> (blocking).

<P>
<B>priority</B><I> PRIO</I>

- set port priority (allowed values are between 0 and 63, inclusively).
<P>
<B>cost</B><I> COST</I>

- set port cost (allowed values are between 1 and 65535, inclusively).
<P>
<B>guard</B> { <B>on</B> | <B>off</B> }

- block incoming BPDU packets on this port.
<P>
<B>hairpin</B> { <B>on</B> | <B>off</B> }

- enable hairpin mode on this port. This will allow incoming packets on this
port to be reflected back.
<P>
<B>fastleave</B> { <B>on</B> | <B>off</B> }

- enable multicast fast leave on this port.
<P>
<B>root_block</B> { <B>on</B> | <B>off</B> }

- block this port from becoming the bridge's root port.
<P>
<B>learning</B> { <B>on</B> | <B>off</B> }

- allow MAC address learning on this port.
<P>
<B>flood</B> { <B>on</B> | <B>off</B> }

- open the flood gates on this port, i.e. forward all unicast frames to this
port also. Requires
<B>proxy_arp</B> and <B>proxy_arp_wifi</B>

to be turned off.
<P>
<B>proxy_arp</B> { <B>on</B> | <B>off</B> }

- enable proxy ARP on this port.
<P>
<B>proxy_arp_wifi</B> { <B>on</B> | <B>off</B> }

- enable proxy ARP on this port which meets extended requirements by IEEE
802.11 and Hotspot 2.0 specifications.
<P>
<B>mcast_router</B><I> MULTICAST_ROUTER</I>

- configure this port for having multicast routers attached. A port with a
multicast router will receive all multicast traffic.
<I>MULTICAST_ROUTER</I>

may be either
<B>0</B>

to disable multicast routers on this port,
<B>1</B>

to let the system detect the presence of of routers (this is the default),
<B>2</B>

to permanently enable multicast traffic forwarding on this port or
<B>3</B>

to enable multicast routers temporarily on this port, not depending on incoming
queries.
<P>
<B>mcast_fast_leave</B> { <B>on</B> | <B>off</B> }

- this is a synonym to the
<B>fastleave</B>

option above.
<P>
<B>mcast_flood</B> { <B>on</B> | <B>off</B> }

- controls whether a given port will flood multicast traffic for which
<BR>&nbsp;&nbsp;there&nbsp;is&nbsp;no&nbsp;MDB&nbsp;entry.
<P>
<B>mcast_to_unicast</B> { <B>on</B> | <B>off</B> }

- controls whether a given port will replicate packets using unicast
<BR>&nbsp;&nbsp;instead&nbsp;of&nbsp;multicast.&nbsp;By&nbsp;default&nbsp;this&nbsp;flag&nbsp;is&nbsp;off.
<P>
<B>group_fwd_mask</B><I> MASK </I>

- set the group forward mask. This is the bitmask that is applied to
decide whether to forward incoming frames destined to link-local
addresses, ie addresses of the form 01:80:C2:00:00:0X (defaults to
0, ie the bridge does not forward any link-local frames coming on
this port).
<P>
<B>neigh_suppress</B> { <B>on</B> | <B>off</B> }

- controls whether neigh discovery (arp and nd) proxy and suppression
is enabled on the port. By default this flag is off.
<P>
<B>vlan_tunnel</B> { <B>on</B> | <B>off</B> }

- controls whether vlan to tunnel mapping is enabled on the port. By
default this flag is off.
<P>
<B>backup_port</B><I> DEVICE</I>

- if the port loses carrier all traffic will be redirected to the
configured backup port
<P>
<B>nobackup_port</B>

- removes the currently configured backup port
<P>

<P>
<DT id="52">Bonding Slave Support<DD>
For a link with master
<B>bond</B>

the following additional arguments are supported:
<P>
<B>ip link set type bond_slave</B>

[
<B>queue_id</B><I> ID</I>

]
<P>

<P>
<B>queue_id</B><I> ID</I>

- set the slave's queue ID (a 16bit unsigned value).
<P>

<P>
<DT id="53">MACVLAN and MACVTAP Support<DD>
Modify list of allowed macaddr for link in source mode.
<P>
<B>ip link set type { macvlan | macvap } </B>

[
<B>macaddr</B><I> </I><B></B><I>COMMAND</I><B> </B><I>MACADDR</I><B> ...</B>

]
<P>
Commands:

<B>add</B>

- add MACADDR to allowed list
<P>
<B>set</B>

- replace allowed list
<P>
<B>del</B>

- remove MACADDR from allowed list
<P>
<B>flush</B>

- flush whole allowed list
<P>

<P>
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H3>ip link show - display device attributes</H3>

<P>
<DL COMPACT>
<DT id="54"><B>dev</B><I> NAME </I><B>(default)</B>

<DD>
<I>NAME</I>

specifies the network device to show.
<P>
<DT id="55"><B>group</B><I> GROUP </I>

<DD>
<I>GROUP</I>

specifies what group of devices to show.
<P>
<DT id="56"><B>up</B>

<DD>
only display running interfaces.
<P>
<DT id="57"><B>master</B><I> DEVICE </I>

<DD>
<I>DEVICE</I>

specifies the master device which enslaves devices to show.
<P>
<DT id="58"><B>vrf</B><I> NAME </I>

<DD>
<I>NAME</I>

speficies the VRF which enslaves devices to show.
<P>
<DT id="59"><B>type</B><I> TYPE </I>

<DD>
<I>TYPE</I>

specifies the type of devices to show.
<P>
Note that the type name is not checked against the list of supported types -
instead it is sent as-is to the kernel. Later it is used to filter the returned
interface list by comparing it with the relevant attribute in case the kernel
didn't filter already. Therefore any string is accepted, but may lead to empty
output.
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H3>ip link xstats - display extended statistics</H3>

<P>
<DL COMPACT>
<DT id="60"><B>type</B><I> TYPE </I>

<DD>
<I>TYPE</I>

specifies the type of devices to display extended statistics for.
<P>
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H3>ip link afstats - display address-family specific statistics</H3>

<P>
<DL COMPACT>
<DT id="61"><B>dev</B><I> DEVICE </I>

<DD>
<I>DEVICE</I>

specifies the device to display address-family statistics for.
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<H3>ip link help - display help</H3>

<P>
<P>

<I>TYPE</I>

specifies which help of link type to dislpay.
<P>
<A NAME="lbAL">&nbsp;</A>
<H3><I>GROUP</I>

</H3>

may be a number or a string from the file
<B>/etc/iproute2/group</B>

which can be manually filled.
<P>
<A NAME="lbAM">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

ip link show
<DL COMPACT><DT id="62"><DD>
Shows the state of all network interfaces on the system.
</DL>

<P>

ip link show type bridge
<DL COMPACT><DT id="63"><DD>
Shows the bridge devices.
</DL>

<P>

ip link show type vlan
<DL COMPACT><DT id="64"><DD>
Shows the vlan devices.
</DL>

<P>

ip link show master br0
<DL COMPACT><DT id="65"><DD>
Shows devices enslaved by br0
</DL>

<P>

ip link set dev ppp0 mtu 1400
<DL COMPACT><DT id="66"><DD>
Change the MTU the ppp0 device.
</DL>

<P>

ip link add link eth0 name eth0.10 type vlan id 10
<DL COMPACT><DT id="67"><DD>
Creates a new vlan device eth0.10 on device eth0.
</DL>

<P>

ip link delete dev eth0.10
<DL COMPACT><DT id="68"><DD>
Removes vlan device.
</DL>

<P>
ip link help gre
<DL COMPACT><DT id="69"><DD>
Display help for the gre link type.
</DL>

<P>

ip link add name tun1 type ipip remote 192.168.1.1
local 192.168.1.2 ttl 225 encap gue encap-sport auto
encap-dport 5555 encap-csum encap-remcsum
<DL COMPACT><DT id="70"><DD>
Creates an IPIP that is encapsulated with Generic UDP Encapsulation,
and the outer UDP checksum and remote checksum offload are enabled.
</DL>

<P>

ip link set dev eth0 xdp obj prog.o
<DL COMPACT><DT id="71"><DD>
Attaches a XDP/BPF program to device eth0, where the program is
located in prog.o, section &quot;prog&quot; (default section). In case a
XDP/BPF program is already attached, throw an error.
</DL>

<P>

ip -force link set dev eth0 xdp obj prog.o sec foo
<DL COMPACT><DT id="72"><DD>
Attaches a XDP/BPF program to device eth0, where the program is
located in prog.o, section &quot;foo&quot;. In case a XDP/BPF program is
already attached, it will be overridden by the new one.
</DL>

<P>

ip -force link set dev eth0 xdp pinned /sys/fs/bpf/foo
<DL COMPACT><DT id="73"><DD>
Attaches a XDP/BPF program to device eth0, where the program was
previously pinned as an object node into BPF file system under
name foo.
</DL>

<P>

ip link set dev eth0 xdp off
<DL COMPACT><DT id="74"><DD>
If a XDP/BPF program is attached on device eth0, detach it and
effectively turn off XDP for device eth0.
</DL>

<P>

ip link add link wpan0 lowpan0 type lowpan
<DL COMPACT><DT id="75"><DD>
Creates a 6LoWPAN interface named lowpan0 on the underlying
IEEE 802.15.4 device wpan0.
</DL>

<P>

ip link add dev ip6erspan11 type ip6erspan seq key 102
local fc00:100::2 remote fc00:100::1
erspan_ver 2 erspan_dir ingress erspan_hwid 17
<DL COMPACT><DT id="76"><DD>
Creates a IP6ERSPAN version 2 interface named ip6erspan00.
</DL>

<P>
<A NAME="lbAN">&nbsp;</A>
<H2>SEE ALSO</H2>

<BR>

<B><A HREF="/cgi-bin/man/man2html?8+ip">ip</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+ip-netns">ip-netns</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+ethtool">ethtool</A></B>(8),

<B><A HREF="/cgi-bin/man/man2html?8+iptables">iptables</A></B>(8)

<P>
<A NAME="lbAO">&nbsp;</A>
<H2>AUTHOR</H2>

Original Manpage by Michail Litvak &lt;<A HREF="mailto:mci@owl.openwall.com">mci@owl.openwall.com</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="77"><A HREF="#lbAB">NAME</A><DD>
<DT id="78"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="79"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT id="80"><A HREF="#lbAE">ip link add - add virtual link</A><DD>
<DT id="81"><A HREF="#lbAF">ip link delete - delete virtual link</A><DD>
<DT id="82"><A HREF="#lbAG">ip link set - change device attributes</A><DD>
<DT id="83"><A HREF="#lbAH">ip link show - display device attributes</A><DD>
<DT id="84"><A HREF="#lbAI">ip link xstats - display extended statistics</A><DD>
<DT id="85"><A HREF="#lbAJ">ip link afstats - display address-family specific statistics</A><DD>
<DT id="86"><A HREF="#lbAK">ip link help - display help</A><DD>
<DT id="87"><A HREF="#lbAL"><I>GROUP</I>

</A><DD>
</DL>
<DT id="88"><A HREF="#lbAM">EXAMPLES</A><DD>
<DT id="89"><A HREF="#lbAN">SEE ALSO</A><DD>
<DT id="90"><A HREF="#lbAO">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:12 GMT, March 31, 2021
</BODY>
</HTML>
