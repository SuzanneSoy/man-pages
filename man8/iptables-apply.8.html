
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of IPTABLES-APPLY</TITLE>
</HEAD><BODY>
<H1>IPTABLES-APPLY</H1>
Section: iptables 1.8.4 (8)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>



<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

iptables-apply - a safer way to update iptables remotely
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>iptables-apply</B> [-<B>hV</B>] [<B>-t</B> <I>timeout</I>] [<B>-w</B> <I>savefile</I>] {[<I>rulesfile]|-c [runcmd]}</I>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

iptables-apply will try to apply a new rulesfile (as output by
iptables-save, read by iptables-restore) or run a command to configure
iptables and then prompt the user whether the changes are okay. If the
new iptables rules cut the existing connection, the user will not be
able to answer affirmatively. In this case, the script rolls back to
the previous working iptables rules after the timeout expires.
<P>

Successfully applied rules can also be written to savefile and later used
to roll back to this state. This can be used to implement a store last good
configuration mechanism when experimenting with an iptables setup script:
iptables-apply -w /etc/network/iptables.up.rules -c /etc/network/iptables.up.run
<P>

When called as ip6tables-apply, the script will use
ip6tables-save/-restore and IPv6 default values instead. Default
value for rulesfile is '/etc/network/iptables.up.rules'.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT id="1"><B>-t</B> <I>seconds</I>, <B>--timeout</B> <I>seconds</I><DD>
Sets the timeout in seconds after which the script will roll back
to the previous ruleset (default: 10).
<DT id="2"><B>-w</B> <I>savefile</I>, <B>--write</B> <I>savefile</I><DD>
Specify the savefile where successfully applied rules will be written to
(default if empty string is given: /etc/network/iptables.up.rules).
<DT id="3"><B>-c</B> <I>runcmd</I>, <B>--command</B> <I>runcmd</I><DD>
Run command runcmd to configure iptables instead of applying a rulesfile
(default: /etc/network/iptables.up.run).
<DT id="4"><B>-h</B>, <B>--help</B><DD>
Display usage information.
<DT id="5"><B>-V</B>, <B>--version</B><DD>
Display version information.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/cgi-bin/man/man2html?8+iptables-restore">iptables-restore</A></B>(8), <B><A HREF="/cgi-bin/man/man2html?8+iptables-save">iptables-save</A></B>(8), <B><A HREF="/cgi-bin/man/man2html?8+iptables">iptables</A></B>(8).
<A NAME="lbAG">&nbsp;</A>
<H2>LEGALESE</H2>

<P>

Original iptables-apply - Copyright 2006 Martin F. Krafft &lt;<A HREF="mailto:madduck@madduck.net">madduck@madduck.net</A>&gt;.
Version 1.1 - Copyright 2010 GW &lt;<A HREF="mailto:gw.2010@tnode.com">gw.2010@tnode.com</A> or <A HREF="http://gw.tnode.com/">http://gw.tnode.com/</A>&gt;.
<P>

This manual page was written by Martin F. Krafft &lt;<A HREF="mailto:madduck@madduck.net">madduck@madduck.net</A>&gt; and
extended by GW &lt;<A HREF="mailto:gw.2010@tnode.com">gw.2010@tnode.com</A> or <A HREF="http://gw.tnode.com/">http://gw.tnode.com/</A>&gt;.
<P>

Permission is granted to copy, distribute and/or modify this document
under the terms of the Artistic License 2.0.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="6"><A HREF="#lbAB">NAME</A><DD>
<DT id="7"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="8"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="9"><A HREF="#lbAE">OPTIONS</A><DD>
<DT id="10"><A HREF="#lbAF">SEE ALSO</A><DD>
<DT id="11"><A HREF="#lbAG">LEGALESE</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:13 GMT, March 31, 2021
</BODY>
</HTML>
