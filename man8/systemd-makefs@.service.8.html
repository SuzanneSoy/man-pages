
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of <A HREF="mailto:SYSTEMD-MAKEFS@.SERVICE">SYSTEMD-MAKEFS@.SERVICE</A></TITLE>
</HEAD><BODY>
<H1><A HREF="mailto:SYSTEMD-MAKEFS@.SERVICE">SYSTEMD-MAKEFS@.SERVICE</A></H1>
Section: <A HREF="mailto:systemd-makefs@.service">systemd-makefs@.service</A> (8)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<A HREF="mailto:systemd-makefs@.service">systemd-makefs@.service</A>, <A HREF="mailto:systemd-mkswap@.service">systemd-mkswap@.service</A>, <A HREF="mailto:systemd-growfs@.service">systemd-growfs@.service</A>, systemd-makefs, systemd-growfs - Creating and growing file systems on demand
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

systemd-makefs@<I>device</I>.service
<P>

systemd-mkswap@<I>device</I>.service
<P>

systemd-growfs@<I>mountpoint</I>.service
<P>

/lib/systemd/systemd-makefs
<P>

/lib/systemd/systemd-growfs
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<A HREF="mailto:systemd-makefs@.service">systemd-makefs@.service</A>,
<A HREF="mailto:systemd-mkswap@.service">systemd-mkswap@.service</A>, and
<A HREF="mailto:systemd-growfs@.service">systemd-growfs@.service</A>
are used to implement the
<B>x-systemd.makefs</B>
and
<B>x-systemd.growfs</B>
options in
<B><A HREF="/cgi-bin/man/man2html?5+fstab">fstab</A></B>(5), see
<B><A HREF="/cgi-bin/man/man2html?5+systemd.mount">systemd.mount</A></B>(5). They are instantiated for each device for which the file system or swap structure needs to be initialized, and for each mount point where the file system needs to be grown.
<P>

These services are started at boot, either right before or right after the mount point or swap device are used.
<P>

systemd-makefs
knows very little about specific file systems and swap devices, and after checking that the block device does not already contain a file system or other content, it will execute binaries specific to each filesystem type (/sbin/mkfs.<I>type</I>).
<P>

systemd-growfs
knows very little about specific file systems and swap devices, and will instruct the kernel to grow the mounted filesystem to full size of the underlying block device. Nevertheless, it needs to know the
<B><A HREF="/cgi-bin/man/man2html?2+ioctl">ioctl</A></B>(2)
number specific to each file system, so only certain types are supported. Currently:
<B><A HREF="/cgi-bin/man/man2html?5+ext4">ext4</A></B>(5), btrfs (see
<B><A HREF="/cgi-bin/man/man2html?5+btrfs-man5">btrfs-man5</A></B>(5)),
<B><A HREF="/cgi-bin/man/man2html?5+xfs">xfs</A></B>(5),
and dm-crypt partitions (see
<B><A HREF="/cgi-bin/man/man2html?8+cryptsetup">cryptsetup</A></B>(8)).
<P>

If the creation of a file system or swap device fails, the mount point or swap is failed too. If the growing of a file system fails, a warning is emitted.
<A NAME="lbAE">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/cgi-bin/man/man2html?1+systemd">systemd</A></B>(1),
<B><A HREF="/cgi-bin/man/man2html?8+systemd.mount">systemd.mount</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+systemd-fstab-generator">systemd-fstab-generator</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+systemd-repart">systemd-repart</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.btrfs">mkfs.btrfs</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.cramfs">mkfs.cramfs</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.ext4">mkfs.ext4</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.fat">mkfs.fat</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.hfsplus">mkfs.hfsplus</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.minix">mkfs.minix</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.ntfs">mkfs.ntfs</A></B>(8),
<B><A HREF="/cgi-bin/man/man2html?8+mkfs.xfs">mkfs.xfs</A></B>(8)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="1"><A HREF="#lbAB">NAME</A><DD>
<DT id="2"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="3"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="4"><A HREF="#lbAE">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:16 GMT, March 31, 2021
</BODY>
</HTML>
