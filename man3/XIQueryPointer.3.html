
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of XIQUERYPOINTER</TITLE>
</HEAD><BODY>
<H1>XIQUERYPOINTER</H1>
Section: &nbsp; (3)<BR>Updated: 06/19/2019<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

XIQueryPointer - get device pointer coordinates.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
#include &lt;<A HREF="file:///usr/include/X11/extensions/XInput2.h">X11/extensions/XInput2.h</A>&gt;
</PRE>

<P>
<PRE>
Bool XIQueryPointer( Display *display,
                     int deviceid,
                     Window win,
                     Window *root_return,
                     Window *child_return,
                     double *root_x_return,
                     double *root_y_return,
                     double *win_x_return,
                     double *win_y_return,
                     XIButtonState *buttons_return,
                     XIModifierState *modifiers_return,
                     XIGroupState *group_return);
</PRE>

<P>
<PRE>
buttons_return
       Returns the current button state.
</PRE>

<P>
<PRE>
child_return
       Returns the child window that the pointer is located in,
       if any.
</PRE>

<P>
<PRE>
deviceid
       Specifies the device to query.
</PRE>

<P>
<PRE>
display
       Specifies the connection to the X server.
</PRE>

<P>
<PRE>
group_return
       Returns the current group state.
</PRE>

<P>
<PRE>
modifiers_return
       Returns the current state of the modifier keys.
</PRE>

<P>
<PRE>
root_return
       Returns the root window that the pointer is in.
</PRE>

<P>
<PRE>
root_x_return, root_y_return
       Return the pointer coordinates relative to the root
       window's origin.
</PRE>

<P>
<PRE>
win
       Specifies the window.
</PRE>

<P>
<PRE>
win_x_return, win_y_return
       Return the pointer coordinates relative to the specified
       window.
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<DL COMPACT><DT id="1"><DD>



<PRE>
The XIQueryPointer function returns the root window the
device's pointer is logically on and the pointer coordinates
relative to the root window's origin. If XIQueryPointer returns
False, the pointer is not on the same screen as the specified
window, and XIQueryPointer returns None to child_return and
zero to win_x_return and win_y_return. If XIQueryPointer
returns True, the pointer coordinates returned to win_x_return
and win_y_return are relative to the origin of the specified
window. In this case, XIQueryPointer returns the child that
contains the pointer, if any, or else None to child_return.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="2"><DD>



<PRE>
XIQueryPointer returns the current logical state of the buttons
buttons_return. The keyboard paired with the master pointer is
selected to obtain the data for modifiers_return and
group_return.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="3"><DD>



<PRE>
The mask field in buttons_return is dynamically allocated and
must be freed by the caller.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="4"><DD>



<PRE>
XIQueryPointer is identical to XQueryPointer but specifies the
device explicitly.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="5"><DD>



<PRE>
XIQueryPointer can generate a BadDevice and a BadWindow error.
</PRE>

</DL>




<A NAME="lbAE">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

<P>
<DL COMPACT><DT id="6"><DD>



<PRE>
BadDevice
       An invalid device was specified. The device does not
       exist or is not a pointer device.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="7"><DD>



<PRE>
BadWindow
       A value for a Window argument does not name a defined
       window.
</PRE>

</DL>




<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
<DL COMPACT><DT id="8"><DD>



<PRE>
<A HREF="/cgi-bin/man/man2html?3+XQueryPointer">XQueryPointer</A>(3)
</PRE>

</DL>




<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="9"><A HREF="#lbAB">NAME</A><DD>
<DT id="10"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="11"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="12"><A HREF="#lbAE">DIAGNOSTICS</A><DD>
<DT id="13"><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:01 GMT, March 31, 2021
</BODY>
</HTML>
