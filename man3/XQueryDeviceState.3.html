
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of XQUERYDEVICESTATE</TITLE>
</HEAD><BODY>
<H1>XQUERYDEVICESTATE</H1>
Section: &nbsp; (3)<BR>Updated: 06/19/2019<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

XQueryDeviceState - query the state of an extension input device.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<PRE>
#include &lt;<A HREF="file:///usr/include/X11/extensions/XInput.h">X11/extensions/XInput.h</A>&gt;
</PRE>

<P>
<PRE>
XDeviceState* XQueryDeviceState( Display *display,
                                 XDevice *device);
</PRE>

<P>
<PRE>
display
       Specifies the connection to the X server.
</PRE>

<P>
<PRE>
device
       Specifies the device whose state is to be queried.
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<DL COMPACT><DT id="1"><DD>



<PRE>
The XQueryDeviceState request queries the state of an input
device. The current state of keys and buttons (up or down), and
valuators (current value) on the device is reported by this
request. Each key or button is represented by a bit in the
XDeviceState structure that is returned. Valuators on the
device report 0 if they are reporting relative information, and
the current value if they are reporting absolute information.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="2"><DD>



<PRE>
XQueryDeviceState can generate a BadDevice error.
</PRE>

</DL>




<P>
<DL COMPACT><DT id="3"><DD>



<PRE>
Structures:
</PRE>

</DL>




<P>
<DL COMPACT><DT id="4"><DD>



<PRE>
The XDeviceState structure contains:
</PRE>

</DL>




<P>
<DL COMPACT><DT id="5"><DD>



<PRE>
typedef struct {
    XID device_id;
    int num_classes;
    XInputClass *data;
} XDeviceState;
</PRE>

</DL>




<P>
<DL COMPACT><DT id="6"><DD>



<PRE>
The XValuatorState structure contains:
</PRE>

</DL>




<P>
<DL COMPACT><DT id="7"><DD>



<PRE>
typedef struct {
    unsigned char class;
    unsigned char length;
    unsigned char num_valuators;
    unsigned char mode;
    int *valuators;
} XValuatorState;
</PRE>

</DL>




<P>
<DL COMPACT><DT id="8"><DD>



<PRE>
The XKeyState structure contains:
</PRE>

</DL>




<P>
<DL COMPACT><DT id="9"><DD>



<PRE>
typedef struct {
    unsigned char class;
    unsigned char length;
    short     num_keys;
    char keys[32];
} XKeyState;
</PRE>

</DL>




<P>
<DL COMPACT><DT id="10"><DD>



<PRE>
The XButtonState structure contains:
</PRE>

</DL>




<P>
<DL COMPACT><DT id="11"><DD>



<PRE>
typedef struct {
    unsigned char class;
    unsigned char length;
    short     num_buttons;
    char buttons[32];
} XButtonState;
</PRE>

</DL>




<A NAME="lbAE">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

<P>
<DL COMPACT><DT id="12"><DD>



<PRE>
BadDevice
       An invalid device was specified. The specified device
       does not exist or has not been opened by this client via
       XOpenInputDevice. This error may also occur if some
       other client has caused the specified device to become
       the X keyboard or X pointer device via the
       XChangeKeyboardDevice or XChangePointerDevice requests.
</PRE>

</DL>




<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="13"><A HREF="#lbAB">NAME</A><DD>
<DT id="14"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="15"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="16"><A HREF="#lbAE">DIAGNOSTICS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:06:01 GMT, March 31, 2021
</BODY>
</HTML>
