
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DRMMODEGETRESOURCES</TITLE>
</HEAD><BODY>
<H1>DRMMODEGETRESOURCES</H1>
Section: Direct Rendering Manager (3)<BR>Updated: September 2012<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

drmModeGetResources - retrieve current display configuration information
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<B>
</B><PRE>
#include &lt;<A HREF="file:///usr/include/xf86drm.h">xf86drm.h</A>&gt;
</PRE>


<P>
<B>
</B><PRE>
#include &lt;<A HREF="file:///usr/include/xf86drmMode.h">xf86drmMode.h</A>&gt;
</PRE>


<DL COMPACT>
<DT id="1">
<B>drmModeResPtr drmModeGetResources(int&nbsp;</B><I>fd</I><B>);</B>

</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>drmModeGetResources</B>
<DD>allocates, populates, and returns a
drmModeRes
structure containing information about the current display configuration. The structure contains the following fields:
<P>
<DL COMPACT><DT id="2"><DD>



<PRE>
typedef struct _drmModeRes {
    int count_fbs;
    uint32_t *fbs;

    int count_crtcs;
    uint32_t *crtcs;

    int count_connectors;
    uint32_t *connectors;

    int count_encoders;
    uint32_t *encoders;

    uint32_t min_width, max_width;
    uint32_t min_height, max_height;
} drmModeRes, *drmModeResPtr;
</PRE>

</DL>




<P>

The
<I>count_fbs</I>
and
<I>fbs</I>
fields indicate the number of currently allocated framebuffer objects (i.e., objects that can be attached to a given CRTC or sprite for display).
<P>

The
<I>count_crtcs</I>
and
<I>crtcs</I>
fields list the available CRTCs in the configuration. A CRTC is simply an object that can scan out a framebuffer to a display sink, and contains mode timing and relative position information. CRTCs drive encoders, which are responsible for converting the pixel stream into a specific display protocol (e.g., MIPI or HDMI).
<P>

The
<I>count_connectors</I>
and
<I>connectors</I>
fields list the available physical connectors on the system. Note that some of these may not be exposed from the chassis (e.g., LVDS or eDP). Connectors are attached to encoders and contain information about the attached display sink (e.g., width and height in mm, subpixel ordering, and various other properties).
<P>

The
<I>count_encoders</I>
and
<I>encoders</I>
fields list the available encoders on the device. Each encoder may be associated with a CRTC, and may be used to drive a particular encoder.
<P>

The
<I>min*</I>
and
<I>max*</I>
fields indicate the maximum size of a framebuffer for this device (i.e., the scanout size limit).
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

<B>drmModeGetResources</B>
returns a drmModeRes structure pointer on success,
NULL
on failure. The returned structure must be freed with
<B><A HREF="/cgi-bin/man/man2html?3+drmModeFreeResources">drmModeFreeResources</A></B>(3).
<A NAME="lbAF">&nbsp;</A>
<H2>REPORTING BUGS</H2>

<P>

Bugs in this function should be reported to <A HREF="https://bugs.freedesktop.org/enter_bug.cgi?product=DRI">https://bugs.freedesktop.org/enter_bug.cgi?product=DRI</A>&amp;component=libdrm under the &quot;DRI&quot; product, component &quot;libdrm&quot;
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/cgi-bin/man/man2html?7+drm">drm</A></B>(7),
<B><A HREF="/cgi-bin/man/man2html?7+drm-kms">drm-kms</A></B>(7),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeGetFB">drmModeGetFB</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeAddFB">drmModeAddFB</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeAddFB2">drmModeAddFB2</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeRmFB">drmModeRmFB</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeDirtyFB">drmModeDirtyFB</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeGetCrtc">drmModeGetCrtc</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeSetCrtc">drmModeSetCrtc</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeGetEncoder">drmModeGetEncoder</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+drmModeGetConnector">drmModeGetConnector</A></B>(3)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="3"><A HREF="#lbAB">NAME</A><DD>
<DT id="4"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="5"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="6"><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT id="7"><A HREF="#lbAF">REPORTING BUGS</A><DD>
<DT id="8"><A HREF="#lbAG">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:39 GMT, March 31, 2021
</BODY>
</HTML>
