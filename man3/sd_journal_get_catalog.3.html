
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of SD_JOURNAL_GET_CATALOG</TITLE>
</HEAD><BODY>
<H1>SD_JOURNAL_GET_CATALOG</H1>
Section: sd_journal_get_catalog (3)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>





















<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

sd_journal_get_catalog, sd_journal_get_catalog_for_message_id - Retrieve message catalog entry
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<B>
</B><PRE>
#include &lt;<A HREF="file:///usr/include/systemd/sd-journal.h">systemd/sd-journal.h</A>&gt;
</PRE>


<DL COMPACT>
<DT id="1">
<B>int sd_journal_get_catalog(sd_journal&nbsp;*</B><I>j</I><B>, char&nbsp;**</B><I>ret</I><B>);</B>

<DT id="2">
<B>int sd_journal_get_catalog_for_message_id(sd_id128_t&nbsp;</B><I>id</I><B>, char&nbsp;**</B><I>ret</I><B>);</B>

</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>sd_journal_get_catalog()</B>
<DD>retrieves a message catalog entry for the current journal entry. This will look up an entry in the message catalog by using the
&quot;MESSAGE_ID=&quot;
field of the current journal entry. Before returning the entry all journal field names in the catalog entry text enclosed in &quot;@&quot; will be replaced by the respective field values of the current entry. If a field name referenced in the message catalog entry does not exist, in the current journal entry, the &quot;@&quot; will be removed, but the field name otherwise left untouched.
<P>

<B>sd_journal_get_catalog_for_message_id()</B>
works similar to
<B>sd_journal_get_catalog()</B>
but the entry is looked up by the specified message ID (no open journal context is necessary for this), and no field substitution is performed.
<P>

For more information about the journal message catalog please refer to the
m[blue]<B>Journal Message Catalogs</B>m[]<FONT SIZE="-2">[1]</FONT>
documentation page.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

<B>sd_journal_get_catalog()</B>
and
<B>sd_journal_get_catalog_for_message_id()</B>
return 0 on success or a negative errno-style error code. If no matching message catalog entry is found, -ENOENT is returned.
<P>

On successful return,
<I>ret</I>
points to a new string, which must be freed with
<B><A HREF="/cgi-bin/man/man2html?3+free">free</A></B>(3).
<A NAME="lbAF">&nbsp;</A>
<H2>NOTES</H2>

<P>

Function
<B>sd_journal_get_catalog()</B>
is thread-agnostic and only a single specific thread may operate on a given object during its entire lifetime. It's safe to allocate multiple independent objects and use each from a specific thread in parallel. However, it's not safe to allocate such an object in one thread, and operate or free it from any other, even if locking is used to ensure these threads don't operate on it at the very same time.
<P>

Function
<B>sd_journal_get_catalog_for_message_id()</B>
is are thread-safe and may be called in parallel from multiple threads.
<P>

These APIs are implemented as a shared library, which can be compiled and linked to with the
<B>libsystemd</B>&nbsp;<B><A HREF="/cgi-bin/man/man2html?1+pkg-config">pkg-config</A></B>(1)
file.
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/cgi-bin/man/man2html?1+systemd">systemd</A></B>(1),
<B><A HREF="/cgi-bin/man/man2html?7+systemd.journal-fields">systemd.journal-fields</A></B>(7),
<B><A HREF="/cgi-bin/man/man2html?3+sd-journal">sd-journal</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+sd_journal_open">sd_journal_open</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+sd_journal_next">sd_journal_next</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+sd_journal_get_data">sd_journal_get_data</A></B>(3),
<B><A HREF="/cgi-bin/man/man2html?3+malloc">malloc</A></B>(3)
<A NAME="lbAH">&nbsp;</A>
<H2>NOTES</H2>

<DL COMPACT>
<DT id="3"> 1.<DD>
Journal Message Catalogs
<DL COMPACT><DT id="4"><DD>
<A HREF="https://www.freedesktop.org/wiki/Software/systemd/catalog">https://www.freedesktop.org/wiki/Software/systemd/catalog</A>
</DL>

<P>
</DL>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT id="5"><A HREF="#lbAB">NAME</A><DD>
<DT id="6"><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT id="7"><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT id="8"><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT id="9"><A HREF="#lbAF">NOTES</A><DD>
<DT id="10"><A HREF="#lbAG">SEE ALSO</A><DD>
<DT id="11"><A HREF="#lbAH">NOTES</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 00:05:55 GMT, March 31, 2021
</BODY>
</HTML>
